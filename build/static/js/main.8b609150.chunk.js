(this['webpackJsonp@nyaruka/flow-editor'] = this['webpackJsonp@nyaruka/flow-editor'] || []).push([
  [0],
  {
    103: function(e, t, a) {
      e.exports = {
        grid_size: '20',
        node_spacing: '13',
        node_padding: '3',
        'background-size': '13'
      };
    },
    104: function(e, t, a) {
      e.exports = {
        ele: 'SendEmailForm_ele__2CvL5',
        subject: 'SendEmailForm_subject__U7jTR',
        message: 'SendEmailForm_message__1k6GE'
      };
    },
    105: function(e, t, a) {
      e.exports = {
        form: 'SetRunResultForm_form__HNnt4',
        name: 'SetRunResultForm_name__1aW9R',
        value: 'SetRunResultForm_value__36pab',
        category: 'SetRunResultForm_category__TuHWy'
      };
    },
    106: function(e, t, a) {
      e.exports = {
        grid_size: '20',
        node_spacing: '13',
        node_padding: '3',
        'background-size': '13',
        node: 'StartSession_node__d1IsL',
        to: 'StartSession_to__2uqPY',
        name: 'StartSession_name__HfSVl',
        icon: 'StartSession_icon__1l-0q',
        more: 'StartSession_more__8uoUD',
        message: 'StartSession_message__1KRsK',
        flow: 'StartSession_flow__zPhXS'
      };
    },
    107: function(e, t, a) {
      e.exports = {
        grid_size: '20',
        node_spacing: '13',
        node_padding: '3',
        'background-size': '13',
        counter: 'Counter_counter__1_pCt',
        visible: 'Counter_visible__3Avdq',
        clickable: 'Counter_clickable__3pprF'
      };
    },
    108: function(e, t, a) {
      e.exports = {
        wrapper: 'MountScroll_wrapper__1Stx4',
        pulse: 'MountScroll_pulse__uwbnk',
        pulse_animation: 'MountScroll_pulse_animation__2SL8_'
      };
    },
    119: function(e, t, a) {
      e.exports = {
        grid_size: '20',
        node_spacing: '13',
        node_padding: '3',
        'background-size': '13',
        small: 'TembaSelect_small__1oIi4',
        normal: 'TembaSelect_normal__3v4Gh',
        error: 'TembaSelect_error__118Nd'
      };
    },
    120: function(e, t, a) {
      e.exports = {
        unicode_char: 'UnicodeList_unicode_char__3oGkq',
        unicode_list: 'UnicodeList_unicode_list__36pET'
      };
    },
    123: function(e, t, a) {
      e.exports = {
        scheme_selection: 'AddURNForm_scheme_selection__3qqeb',
        path: 'AddURNForm_path__vTuFJ'
      };
    },
    124: function(e, t, a) {
      e.exports = {
        grid_size: '20',
        node_spacing: '13',
        node_padding: '3',
        'background-size': '13',
        chosen: 'MultiChoice_chosen__3fQUn',
        item: 'MultiChoice_item__2hkE_'
      };
    },
    125: function(e, t, a) {
      e.exports = {
        grid_size: '20',
        node_spacing: '13',
        node_padding: '3',
        'background-size': '13',
        text: 'SayMsg_text__2WoYr',
        recording: 'SayMsg_recording__3JHw8'
      };
    },
    126: function(e, t, a) {
      e.exports = {
        grid_size: '20',
        node_spacing: '13',
        node_padding: '3',
        'background-size': '13',
        code: 'TransferAirtime_code__3WV9i',
        amount: 'TransferAirtime_amount__3mMNG'
      };
    },
    127: function(e, t, a) {
      e.exports = {
        optional_text_input: 'OptionalTextInput_optional_text_input__N6zb8',
        toggle_link: 'OptionalTextInput_toggle_link__3-B4a'
      };
    },
    128: function(e, t, a) {
      e.exports = {
        grid_size: '20',
        node_spacing: '13',
        node_padding: '3',
        'background-size': '13',
        errors: 'ValidationFailures_errors__3qGX8',
        error: 'ValidationFailures_error__2Q3Gg'
      };
    },
    130: function(e, t, a) {
      e.exports = {
        grid_size: '20',
        node_spacing: '13',
        node_padding: '3',
        'background-size': '13',
        lead_in: 'FieldRouterForm_lead_in__ShYLI',
        field_select: 'FieldRouterForm_field_select__n0Csy'
      };
    },
    131: function(e, t, a) {
      e.exports = {
        grid_size: '20',
        node_spacing: '13',
        node_padding: '3',
        'background-size': '13',
        subject: 'TicketRouterForm_subject__3A23k',
        body: 'TicketRouterForm_body__lfD63'
      };
    },
    133: function(e, t, a) {
      e.exports = {
        grid_size: '20',
        node_spacing: '13',
        node_padding: '3',
        'background-size': '13',
        draggable: 'CanvasDraggable_draggable__cqsGq',
        selected: 'CanvasDraggable_selected__2GgF7'
      };
    },
    14: function(e, t, a) {
      e.exports = {
        grid_size: '20',
        node_spacing: '13',
        node_padding: '3',
        'background-size': '13',
        sim_container: 'Simulator_sim_container__H7rj0',
        simulator: 'Simulator_simulator__2tU1d',
        sim_hidden: 'Simulator_sim_hidden__1ggwF',
        screen: 'Simulator_screen__2Qp5p',
        header: 'Simulator_header__2r6Gy',
        close: 'Simulator_close__1RMuB',
        time: 'Simulator_time__3FKl6',
        battery: 'Simulator_battery__3Wa1Y',
        wifi: 'Simulator_wifi__2E-6D',
        footer: 'Simulator_footer__1_obl',
        show_context_button: 'Simulator_show_context_button__20XVs',
        reset: 'Simulator_reset__1A78l',
        inactive: 'Simulator_inactive__3bLl7',
        active: 'Simulator_active__1MwaM',
        messages: 'Simulator_messages__3Oalm',
        controls: 'Simulator_controls__1TlMu',
        show_attachments_button: 'Simulator_show_attachments_button__3LFcV',
        attachment_buttons: 'Simulator_attachment_buttons__hDIT5',
        visible: 'Simulator_visible__3BBvQ',
        drawer: 'Simulator_drawer__340zx',
        drawer_visible: 'Simulator_drawer_visible__1jBzI',
        forced: 'Simulator_forced__19aUl',
        drawer_header: 'Simulator_drawer_header__nlorO',
        map_thumb: 'Simulator_map_thumb__1zB9o',
        audio_picker: 'Simulator_audio_picker__V2K8X',
        audio_icon: 'Simulator_audio_icon__Ve23Y',
        audio_message: 'Simulator_audio_message___4Yvw',
        keypad: 'Simulator_keypad__29cCi',
        keypad_entry: 'Simulator_keypad_entry__2S4e_',
        keys: 'Simulator_keys__W8GcS',
        row: 'Simulator_row__mtRhr',
        key: 'Simulator_key__Wv2KS',
        drawer_items: 'Simulator_drawer_items__PYHpL',
        drawer_item: 'Simulator_drawer_item__yZRIg',
        simulator_tab: 'Simulator_simulator_tab__uRMHB',
        tab_hidden: 'Simulator_tab_hidden__1BDkU',
        simulator_tab_icon: 'Simulator_simulator_tab_icon__3cmxe',
        simulator_tab_text: 'Simulator_simulator_tab_text__1aI0Q',
        detail_webhook_called: 'Simulator_detail_webhook_called__1A8Iu',
        quick_replies: 'Simulator_quick_replies__3wan9',
        quick_reply: 'Simulator_quick_reply__sSRfK'
      };
    },
    159: function(e, t, a) {
      e.exports = a.p + 'static/media/map.5e547148.jpg';
    },
    167: function(e) {
      e.exports = JSON.parse(
        '{"actions":{"add_contact_groups":{"description":"Add the contact to a group","name":"Add to Group"},"add_contact_urn":{"description":"Add a URN for the contact","name":"Add URN"},"add_input":{"description":"Label the incoming message","name":"Add Labels"},"call_resthook":{"description":"Call Zapier","name":"Call Zapier"},"call_webhook":{"description":"Call a webhook","name":"Call Webhook"},"enter_flow":{"description":"Enter another flow","name":"Enter a Flow"},"play_audio":{"description":"Play a contact recording","name":"Play Recording"},"play_message":{"description":"Play a message","name":"Play Message"},"remove_contact_groups":{"description":"Remove the contact from a group","name":"Remove from Group"},"say_msg":{"placeholder":"Send a message to the contact"},"send_broadcast":{"description":"Send somebody else a message","name":"Send Broadcast","placeholder":"Send a message to the contact"},"send_email":{"description":"Send an email","name":"Send Email"},"send_msg":{"description":"Send the contact a message","name":"Send Message","placeholder":"Send a message to the contact"},"set_contact_field":{"description":"Update the contact","name":"Update Contact"},"set_run_result":{"description":"Save a result for this flow","name":"Save Flow Result"},"split_by_contact_field":{"description":"Split by a contact field","name":"Split by Contact Field"},"split_by_expression":{"description":"Split by a custom expression","name":"Split by Expression"},"split_by_groups":{"description":"Split by group membership","name":"Split by Group Membership"},"split_by_intent":{"description":"Split by intent","name":"Split by Intent"},"split_by_random":{"description":"Split by random chance","name":"Split Randomly"},"split_by_run_result":{"description":"Split by a result in the flow","name":"Split by Flow Result"},"split_by_scheme":{"description":"Split by URN type","name":"Split by URN Type"},"start_session":{"description":"Start somebody else in a flow","name":"Start Somebody Else"},"transfer_airtime":{"description":"Send the contact airtime","name":"Send Airtime"},"wait_for_audio":{"description":"Wait for an audio recording","name":"Wait for Audio"},"wait_for_digits":{"description":"Wait for multiple digits","name":"Wait for Digits"},"wait_for_image":{"description":"Wait for an image","name":"Wait for Image"},"wait_for_location":{"description":"Wait for location GPS coordinates","name":"Wait for Location"},"wait_for_menu":{"description":"Wait for menu selection","name":"Wait for Menu Selection"},"wait_for_response":{"description":"Wait for the contact to respond","name":"Wait for Response"},"wait_for_video":{"description":"Wait for a video","name":"Wait for Video"}},"add":"Add","asset_selector":{"placeholder":"Select existing [[name]] or enter a new one","placeholder_plural":"Select existing [[name]] or enter a new one"},"assets":{"classifier":"Call [[name]] classifier"},"body":"Body","buttons":{"cancel":"Cancel","create_message":"Create Message","download":"Download","ok":"Ok"},"context_explorer":{"copied_expression":"Copied <1>[[expression]]</1> to clipboard","hide_empty":"Showing keys with values","show_empty":"Showing all keys"},"create_group":"Create Group","create_label":"Create Label","drag_helper":"To connect nodes, <1>drag</1> from the red circle.","email":{"subject":"Subject","to":"To"},"empty_flow_message":"<0>Let\'s get started</0><1>We recommend starting your flow by sending a message. This message will be sent to anybody right after they join the flow. This is your chance to send a single message or ask them a question.</1>","enter_to_create_group":"Enter a name to create a new group","enter_to_create_label":"Enter the name of an existing label or create a new one","errors":{"group_not_found":"Enter the name of an existing group","http_header_missing_name":"HTTP headers must have a name","network":"Hmm, we ran into a problem trying to save your changes. It could just be that your internet connection is not working well at the moment. Please wait a minute or so and try again."},"forms":{"add_groups_summary":"Select the groups to add the contact to.","add_labels_summary":"Select the labels to apply to the incoming message.","add_quick_reply":"Add a new Quick Reply and press enter.","add_urn_summary":"Add a new URN to reach the contact such as a phone number.","all_destinations":"All Destinations","are_required":"are required","arguments":"arguments","audio_url":"Audio URL","body":"Body","buckets":"Buckets","categories":"categories","category":"Category","channel":"Channel","channel_type":"Channel Type","classifier":"Classifier","confidence":"confidence","contact_field":"Contact Field","contact_query":"Contact Query","create_prefix":"New: ","currency":"Currency","day":"day","days":"days","delimit":"Delimit","delimit_result":"Delimit Result","delimit_result_description":"Evaluate your rules against a delimited part of your result","delimiter":"Delimiter","district":"District","email_recipient_name":"Recipient","email_recipient_placeholder":"To","email_recipient_prompt":"Enter email address","enter_a_body":"Enter a body","enter_a_subject":"Enter a subject","enter_a_url":"Enter a URL","enter_flow_parameters_summary":"<0>[[flow]]</0> expects the following parameters to be set by this flow. These can be set using a <4>Save Flow Result</4> action or directly below.","enter_flow_parameters_tab":"Parameters","exit_name":"Exit Name","expression_label":"If the expression...","field_number":"Field Number","field_value":"Field Value","flow":"Flow","flow_result":"Flow Result","groups":"Groups","header_name":"Header name","image_url":"Image URL","intent":"Intent","is_not_a_valid_regex":"is not a valid regex","is_not_finished":"is not finished","is_required":"is required","labels":"Labels","language":"Language","localize_rules":"Sometimes languages need special rules to route things properly. If a translation is not provided, the original rule will be used.","localized_quick_replies":"Add a new [[language]] Quick Reply and press enter.","use_as_default_language":"Use as default language","maximum_value":"Maximum value","message":"Message","message_label":"If the message response...","method":"Method","minimum_value":"Minimum value","must_be_less_than":"must be less than","name":"Name","operand":"Operand","operator":"operator","play_audio_help_text":"Enter a variable that contains a recording the contact has previously recorded. For example, @results.voicemail or @fields.short_bio.","quick_replies":"Quick Replies","quick_replies_summary":"Quick Replies are made into buttons for supported channels. For example, when asking a question, you might add a Quick Reply for \\"Yes\\" and one for \\"No\\".","quick_reply":"Quick Reply","recipients":"Recipients","recording":"Recording","recording_label":"Previous Recording","remove_from_all_label":"Remove from all","remove_from_all_summary":"Remove the active contact from all groups they\'re a member of.","remove_groups_placeholder":"Enter the name of an existing group","remove_groups_summary":"Select the groups to remove the contact from.","resthook":"Resthook","resthook_to_call":"Select the resthook to call","result":"Result","result_name":"Result Name","result_name_help":"By naming the result, you can reference it later using [[resultFormat]]","result_to_split_on":"Result to split on","rules":"rules","save_as_title":"Save as..","save_result_name":"Result Name","select_result":"Select Result","send_msg_facebook_topic_placeholder":"Select a topic to use over Facebook","send_msg_facebook_warning":"Sending bulk messages over a Facebook channel requires that a topic be specified if the user has not sent a message in the last 24 hours. Setting a topic to use over Facebook is especially important for the first message in your flow.","send_msg_summary":"Add an attachment to each message. The attachment can be a file you upload or a dynamic URL using expressions and variables from your Flow.","send_msg_summary_plural":"Add an attachment to each message. The attachment can be a file you upload or a dynamic URL using expressions and variables from your Flow.","split_by_channel_placeholder":"Select the channels to split by","split_by_groups":"Select the groups you\'d like to split by below","split_by_scheme":"Channel types","split_by_scheme_summary":"The contact\'s URN is the address they used to reach you such as their phone number or a Facebook ID. Select which URN types to split by below.","start_type":"Start Type","state":"State","subject":"Subject","template":"template","the_maximum":"the maximum","the_minimum":"the minimum","timeout":"Timeout","timeout_1 day":"1 day","timeout_1 hour":"1 hour","timeout_1 minute":"1 minute","timeout_1 week":"1 week","timeout_10 minutes":"10 minutes","timeout_12 hours":"12 hours","timeout_15 minutes":"15 minutes","timeout_18 hours":"18 hours","timeout_2 days":"2 days","timeout_2 hours":"2 hours","timeout_2 minutes":"2 minutes","timeout_3 days":"3 days","timeout_3 hours":"3 hours","timeout_3 minutes":"3 minutes","timeout_4 minutes":"4 minutes","timeout_5 minutes":"5 minutes","timeout_6 hours":"6 hours","today":"today","today_proper":"Today","translation":"Translation","type":"Type","type_label":"When a contact arrives at this point in your flow...","type_options":"Type Options","url":"URL","urn":"URN","urn_type":"URN Type","value":"Value","variable":"Variable","video_url":"Video URL","webhook_body_summary":"Modify the body of the [[method]] request that will be sent to your webhook.","webhook_example":"This response would add <1>@webhook.product</1> and <4>@webhook[\\"stock level\\"]</4> for use in the flow.","webhook_header":"Header","webhook_header_name":"Header Name","webhook_header_summary":"Add any additional headers below that you would like to send along with your request.","webhook_help":"If your server responds with JSON, each property will be added to the Flow.","whatsapp_warning":"Sending messages over a WhatsApp channel requires that a template be used if you have not received a message from a contact in the last 24 hours. Setting a template to use over WhatsApp is especially important for the first message in your flow."},"issues":{"header":"Flow Issues","label":"Flow Issues","legacy_extra":"Invalid regular expression found: [[regex]]","missing_dependency":"Cannot find a [[type]] for <1>[[name]]</1>"},"operator":{"has_pattern":"matches regex"},"operators":{"has_all_words":"has all of the words","has_any_word":"has any of the words","has_beginning":"starts with","has_category":"has the category","has_date":"has a date","has_date_category":"Has Date","has_date_eq":"has a date equal to","has_date_gt":"has a date after","has_date_lt":"has a date before","has_district":"has district","has_district_category":"Has District","has_email":"has an email","has_email_category":"Has Email","has_error":"has an error","has_error_category":"Has Error","has_group":"is in the group","has_intent":"has intent","has_number":"has a number","has_number_between":"has a number between","has_number_eq":"has a number equal to","has_number_gt":"has a number above","has_number_gte":"has a number at or above","has_number_lt":"has a number below","has_number_lte":"has a number at or below","has_only_phrase":"has only the phrase","has_phone":"has a phone number","has_phone_category":"Has Phone","has_phrase":"has the phrase","has_state":"has state","has_state_category":"Has State","has_text":"has some text","has_time":"has a time","has_top_intent":"has top intent","has_value":"is not empty","has_value_category":"Not Empty","has_ward":"has ward","has_ward_category":"Has Ward"},"removal_confirmation":"Remove?","revisions":{"header":"Revisions","label":"Revision History"},"schemes":{"email":{"name":"Email","path":"Email Address"},"external":{"name":"External","path":"External ID"},"facebook":{"path":"Facebook"},"firebase":{"name":"Firebase","path":"Firebase ID"},"freschat":{"name":"Freshchat"},"freshchat":{"path":"Freshchat ID"},"jiochat":{"path":"Jiochat ID"},"jiojach":{"name":"Jiochat"},"line":{"name":"Line","path":"Line ID"},"phone":{"name":"SMS","path":"Phone Number"},"telegram":{"name":"Telegram","path":"Telegram ID"},"twitter":{"name":"Twitter","path":"Twitter Handle"},"twitterid":{"name":"Twitter","path":"Twitter ID"},"viber":{"name":"Viber","path":"Viber ID"},"wechat":{"name":"Wechat","path":"Wechat ID"},"whatsapp":{"name":"WhatsApp","path":"WhatsApp Number"}},"simulator":{"added_to_group":"Added to ","airtime_transferred":"Transferred [[amount]] [[currency]] to [[recipient]]","contact_field_changed":"Set contact \\"[[field]]\\" to \\"[[value]]\\"","contact_field_cleared":"Cleared contact \\"[[field]]\\"","contact_language_changed":"Set preferred language to \\"[[language]]\\"","contact_name_changed":"Set contact name to \\"[[name]]\\"","flow_entered":"Entered flow \\"[[flow]]\\"","httplog_dialog":"HTTP Request Details","input_labels_added":"Message labeled with ","msg_wait":"Waiting for reply","removed_from_group":"Removed from ","resthook_called":"Triggered flow event \\"[[resthook]]\\"","run_result_changed":"Set result \\"[[field]]\\" to \\"[[value]]\\"","sent_email":{"summary":"Sent email to [[recipients]] with subject \\"[[subject]]\\"","title":"Email Details"},"session_triggered":"Started somebody else in \\"[[flow]]\\"","ticket_opened":"Ticket opened with subject \\"[[subject]]\\""},"sticky":{"body":"...","title":"New Note"},"translation":{"header":"Flow Translation","label":"Translations"}}'
      );
    },
    168: function(e) {
      e.exports = JSON.parse(
        '{"forms":{"send_msg":{"summary_plural":"Add up to [[count]] attachments to each message. Each attachment can be a file you upload or a dynamic URL using expressions and variables from your Flow."}}}'
      );
    },
    169: function(e) {
      e.exports = JSON.parse('{}');
    },
    172: function(e, t, a) {
      e.exports = { type_list: 'TypeList_type_list__3OATW' };
    },
    175: function(e, t, a) {
      e.exports = { checkbox: 'RemoveGroupsForm_checkbox__3W5g6' };
    },
    176: function(e, t, a) {
      e.exports = { value: 'UpdateContactForm_value__19Fyz' };
    },
    177: function(e, t, a) {
      e.exports = { result_name: 'AirtimeRouterForm_result_name__IPVnQ' };
    },
    179: function(e, t, a) {
      e.exports = {
        grid_size: '20',
        node_spacing: '13',
        node_padding: '3',
        'background-size': '13',
        lead_in: 'DigitsRouterForm_lead_in__1_8u2'
      };
    },
    180: function(e, t, a) {
      e.exports = { result_name: 'ResthookRouterForm_result_name__dcAsY' };
    },
    181: function(e, t, a) {
      e.exports = {
        grid_size: '20',
        node_spacing: '13',
        node_padding: '3',
        'background-size': '13',
        result_name: 'WaitRouterForm_result_name__1QlYs'
      };
    },
    182: function(e, t, a) {
      e.exports = {
        grid_size: '20',
        node_spacing: '13',
        node_padding: '3',
        'background-size': '13',
        link: 'ClassifyRouterForm_link__20QgF'
      };
    },
    183: function(e, t, a) {
      e.exports = {
        grid_size: '20',
        node_spacing: '13',
        node_padding: '3',
        'background-size': '13',
        loading: 'Loading_loading__3-t_e',
        pulse: 'Loading_pulse__apphI'
      };
    },
    187: function(e, t, a) {
      e.exports = {
        grid_size: '20',
        node_spacing: '13',
        node_padding: '3',
        'background-size': '13',
        empty_flow: 'Flow_empty_flow__roKNh'
      };
    },
    193: function(e, t, a) {
      e.exports = a(352);
    },
    194: function(e, t, a) {
      e.exports = {
        grid_size: '20',
        node_spacing: '13',
        node_padding: '3',
        'background-size': '13',
        proper: 'global_proper__rlaqB'
      };
    },
    195: function(e, t, a) {},
    23: function(e, t, a) {
      e.exports = {
        grid_size: '20',
        node_spacing: '13',
        node_padding: '3',
        'background-size': '13',
        hidden: 'TranslatorTab_hidden__n6TH8',
        message: 'TranslatorTab_message__94Qv_',
        header: 'TranslatorTab_header__D3V8v',
        translations_wrapper: 'TranslatorTab_translations_wrapper__3D6T-',
        complete: 'TranslatorTab_complete__30vNJ',
        language: 'TranslatorTab_language__2b3mU',
        options: 'TranslatorTab_options__hKEsd',
        options_visible: 'TranslatorTab_options_visible__1Iv7O',
        filters: 'TranslatorTab_filters__3qwqM',
        pct_complete: 'TranslatorTab_pct_complete__3sHbg',
        toggle: 'TranslatorTab_toggle__35-qI',
        change_visible: 'TranslatorTab_change_visible__1P3qg',
        changeLanguage: 'TranslatorTab_changeLanguage__RxYLJ',
        progress_bar: 'TranslatorTab_progress_bar__cWMo0',
        filled: 'TranslatorTab_filled__OKNl9',
        hundredpct: 'TranslatorTab_hundredpct__2ltPG',
        checkboxes: 'TranslatorTab_checkboxes__3MIKA',
        translate_block: 'TranslatorTab_translate_block__1htQy',
        item: 'TranslatorTab_item__3Q3JG',
        text: 'TranslatorTab_text__2HqtQ',
        from_text: 'TranslatorTab_from_text__3_B24',
        to_text: 'TranslatorTab_to_text__z4k-b',
        needs_translation: 'TranslatorTab_needs_translation__1FKjj',
        type_name: 'TranslatorTab_type_name__OdM8M',
        attribute: 'TranslatorTab_attribute__bQi14',
        translated: 'TranslatorTab_translated__K2ZMS',
        check: 'TranslatorTab_check__1ymTu'
      };
    },
    30: function(e, t, a) {
      e.exports = {
        grid_size: '20',
        node_spacing: '13',
        node_padding: '3',
        'background-size': '13',
        evt: 'LogEvent_evt__1J8Uq',
        fadein: 'LogEvent_fadein__kgfF4',
        msg_text: 'LogEvent_msg_text__1HqoJ',
        ivr_msg: 'LogEvent_ivr_msg__2pGYZ',
        send_msg: 'LogEvent_send_msg__195Tn',
        msg_received: 'LogEvent_msg_received__gf2kP',
        image_attachment: 'LogEvent_image_attachment__2Ku4T',
        error: 'LogEvent_error__2oBQ9',
        info: 'LogEvent_info__12nsu',
        email: 'LogEvent_email__1XyUb',
        webhook: 'LogEvent_webhook__3jEK2',
        video_attachment: 'LogEvent_video_attachment__2xn3C',
        audio_attachment: 'LogEvent_audio_attachment__2iBWG',
        media_player: 'LogEvent_media_player__22CtH',
        audio_text: 'LogEvent_audio_text__3j-uW',
        email_details: 'LogEvent_email_details__1f2TW',
        to: 'LogEvent_to__H-JTa',
        subject: 'LogEvent_subject__mN7Lz',
        body: 'LogEvent_body__2hSdi',
        webhook_details: 'LogEvent_webhook_details__3mtJW',
        response: 'LogEvent_response__2oEy0',
        event_viewer: 'LogEvent_event_viewer__2D4uw',
        has_detail: 'LogEvent_has_detail__ZRVpP',
        classification: 'LogEvent_classification__2arCX'
      };
    },
    31: function(e, t, a) {
      e.exports = {
        grid_size: '20',
        node_spacing: '13',
        node_padding: '3',
        'background-size': '13',
        clickable: 'Dialog_clickable__1gSoh',
        dialog: 'Dialog_dialog__16A3R',
        header: 'Dialog_header__YD-Nm',
        header_overlay: 'Dialog_header_overlay__1Of6F',
        header_icon: 'Dialog_header_icon__2z4U8',
        title: 'Dialog_title__1IRe1',
        barber: 'Dialog_barber__3x6cp',
        iconed: 'Dialog_iconed__2eQKD',
        title_container: 'Dialog_title_container__2HiUa',
        content: 'Dialog_content__1YGhY',
        footer: 'Dialog_footer__3UylY',
        gutter: 'Dialog_gutter__1Xxy-',
        buttons: 'Dialog_buttons__1T0cB',
        left_buttons: 'Dialog_left_buttons__31hp_',
        right_buttons: 'Dialog_right_buttons__3NHBO',
        tabs: 'Dialog_tabs__2gLgU',
        tab: 'Dialog_tab__1x47g',
        tab_icon: 'Dialog_tab_icon__28etF',
        active: 'Dialog_active__3yOgq'
      };
    },
    33: function(e, t, a) {
      e.exports = {
        grid_size: '20',
        node_spacing: '13',
        node_padding: '3',
        'background-size': '13',
        option_list: 'TextInputElement_option_list__18zXF',
        option_summary: 'TextInputElement_option_summary__qaT6A',
        option_signature: 'TextInputElement_option_signature__3c1zs',
        option: 'TextInputElement_option__5N_r_',
        selected: 'TextInputElement_selected__2bCI1',
        first_option: 'TextInputElement_first_option__2owME',
        fn_marker: 'TextInputElement_fn_marker__38I-n',
        function_help: 'TextInputElement_function_help__2jwVQ',
        completion_container: 'TextInputElement_completion_container__3c00R',
        options_wrapper: 'TextInputElement_options_wrapper__2knDu',
        fn_container: 'TextInputElement_fn_container__3tmtw',
        option_name: 'TextInputElement_option_name__2G-0k',
        option_examples: 'TextInputElement_option_examples__2l6sa',
        example_header: 'TextInputElement_example_header__3a5qK',
        example: 'TextInputElement_example__3MAGO',
        fn_signature: 'TextInputElement_fn_signature__efYOL',
        wrapper: 'TextInputElement_wrapper__1q0lN',
        help: 'TextInputElement_help__1dGMQ',
        hidden: 'TextInputElement_hidden__3Xul8',
        textinput: 'TextInputElement_textinput__2eOxW'
      };
    },
    35: function(e, t, a) {
      e.exports = {
        grid_size: '20',
        node_spacing: '13',
        node_padding: '3',
        'background-size': '13',
        exit: 'Exit_exit__36tB1',
        translating: 'Exit_translating__mA2Hf',
        unnamed_exit: 'Exit_unnamed_exit__1H6-H',
        endpoint: 'Exit_endpoint__1D08c',
        missing_localization: 'Exit_missing_localization__h2WGJ',
        name: 'Exit_name__22WdX',
        confirm_delete: 'Exit_confirm_delete__26Wo-',
        activity: 'Exit_activity__11sTW',
        count: 'Exit_count__1tNM8',
        confirm_x: 'Exit_confirm_x__1AODA',
        recent_messages: 'Exit_recent_messages__1wUzf',
        no_recents: 'Exit_no_recents__R97kK',
        title: 'Exit_title__3Ugsu',
        loading: 'Exit_loading__37ssZ',
        message: 'Exit_message__Q_zU9',
        text: 'Exit_text__1-x4W',
        sent: 'Exit_sent__1DkCx'
      };
    },
    352: function(e, t, a) {
      'use strict';
      a.r(t);
      a(194), a(195);
      var n,
        i,
        s,
        r,
        o,
        l,
        c,
        u,
        d,
        p,
        h,
        m = a(2),
        _ = a(3),
        f = a(6),
        g = a(5),
        v = a(4),
        y = a(10),
        b = a(8),
        k = a(0),
        E = a.n(k),
        C = a(11),
        w = a(25),
        O = a(7),
        S = '13.1';
      !(function(e) {
        (e.channel = 'channel'),
          (e.classifier = 'classifier'),
          (e.contact = 'contact'),
          (e.field = 'field'),
          (e.flow = 'flow'),
          (e.group = 'group'),
          (e.label = 'label'),
          (e.template = 'template');
      })(n || (n = {})),
        (function(e) {
          (e.MISSING_DEPENDENCY = 'missing_dependency'),
            (e.LEGACY_EXTRA = 'legacy_extra'),
            (e.INVALID_REGEX = 'invalid_regex');
        })(i || (i = {})),
        (function(e) {
          (e.switch = 'switch'), (e.random = 'random');
        })(s || (s = {})),
        (function(e) {
          e.msg = 'msg';
        })(r || (r = {})),
        (function(e) {
          (e.digits = 'digits'),
            (e.audio = 'audio'),
            (e.image = 'image'),
            (e.video = 'video'),
            (e.location = 'location');
        })(o || (o = {})),
        (function(e) {
          (e.UUID = 'uuid'),
            (e['Created By'] = 'created_by'),
            (e['Modified By'] = 'modified_by'),
            (e.Org = 'org'),
            (e.Name = 'name'),
            (e.Language = 'language'),
            (e.Timezone = 'timezone'),
            (e.Channel = 'channel'),
            (e.Email = 'email'),
            (e.Mailto = 'mailto'),
            (e.Phone = 'phone'),
            (e.Groups = 'groups');
        })(l || (l = {})),
        (function(e) {
          (e.text = 'text'),
            (e.numeric = 'numeric'),
            (e.datetime = 'datetime'),
            (e.state = 'state'),
            (e.district = 'district'),
            (e.ward = 'ward');
        })(c || (c = {})),
        (function(e) {
          (e.Complete = 'C'), (e.Expired = 'E');
        })(u || (u = {})),
        (function(e) {
          (e.Complete = 'Complete'), (e.Expired = 'Expired');
        })(d || (d = {})),
        (function(e) {
          (e.Success = 'Success'), (e.Failure = 'Failure');
        })(p || (p = {})),
        (function(e) {
          (e.Success = 'Success'), (e.Failure = 'Failed');
        })(h || (h = {}));
      var N,
        x = (function() {
          function e(t, a) {
            var n = a.id,
              i = a.name;
            Object(m.a)(this, e),
              (this.localizedKeys = {}),
              (this.localizedObject = void 0),
              (this.localized = !1),
              (this.iso = void 0),
              (this.name = void 0),
              (this.language = void 0),
              (this.localizedObject = t),
              (this.iso = n),
              (this.language = { iso: this.iso, name: i });
          }
          return (
            Object(_.a)(e, [
              {
                key: 'getLanguage',
                value: function() {
                  return (
                    this.language ||
                      (this.iso && (this.language = { iso: this.iso, name: this.name })),
                    this.language
                  );
                }
              },
              {
                key: 'hasTranslation',
                value: function(e) {
                  return e in this.localizedKeys;
                }
              },
              {
                key: 'addTranslation',
                value: function(e, t) {
                  this.localized ||
                    ((this.localizedObject = Object.assign({}, this.localizedObject)),
                    (this.localized = !0)),
                    Array.isArray(this.localizedObject[e])
                      ? (this.localizedObject[e] = t)
                      : 1 === t.length && (this.localizedObject[e] = t[0]),
                    (this.localizedKeys[e] = !0);
                }
              },
              {
                key: 'isLocalized',
                value: function() {
                  return this.localized;
                }
              },
              {
                key: 'getObject',
                value: function() {
                  return this.localizedObject;
                }
              }
            ]),
            e
          );
        })(),
        j = (function() {
          function e() {
            Object(m.a)(this, e);
          }
          return (
            Object(_.a)(e, null, [
              {
                key: 'translate',
                value: function(e, t, a) {
                  var n = new x(e, t);
                  if (a && e.uuid in a) {
                    var i = a[e.uuid];
                    Object.keys(i).forEach(function(e) {
                      return n.addTranslation(e, i[e]);
                    });
                  }
                  return n;
                }
              }
            ]),
            e
          );
        })(),
        T = a(117),
        A = a(103),
        R = a.n(A),
        U = /\s|-+(?=\S)/g,
        D = parseInt(R.a.grid_size, 10) || 20,
        F = parseInt(R.a.node_spacing, 10) || 10,
        P = parseInt(R.a.node_padding, 10) || 10,
        I = function(e, t) {
          var a = e % D,
            n = t % D;
          return (
            a > D / 3 ? (a = D - a) : (a *= -1),
            n > D / 3 ? (n = D - n) : (n *= -1),
            { left: Math.max(e + a, 0), top: Math.max(t + n, 0) }
          );
        },
        L = function(e) {
          var t = e.left % D,
            a = e.top % D;
          t > D / 3 ? (t = D - t) : (t *= -1), a > D / 3 ? (a = D - a) : (a *= -1);
          var n = Math.max(e.left + t, 0),
            i = Math.max(e.top + a, 0);
          return { left: n, top: i, right: n + e.right - e.left, bottom: i + e.bottom - e.top };
        },
        M = function(e) {
          return e
            .toLowerCase()
            .trim()
            .replace(U, '_');
        },
        z = function(e) {
          return e.replace(/\b\w+/g, function(e) {
            return e.charAt(0).toUpperCase() + e.substr(1).toLowerCase();
          });
        },
        B = function(e, t) {
          if (!e.length) return !1;
          var a,
            n = Object(C.a)(e);
          try {
            for (n.s(); !(a = n.n()).done; ) {
              var i,
                s = a.value,
                r = Object(C.a)(t);
              try {
                for (r.s(); !(i = r.n()).done; ) {
                  var o = i.value;
                  if (s.match(o)) return !0;
                }
              } catch (l) {
                r.e(l);
              } finally {
                r.f();
              }
            }
          } catch (l) {
            n.e(l);
          } finally {
            n.f();
          }
          return !1;
        },
        V = function(e) {
          var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null,
            a = arguments.length > 2 ? arguments[2] : void 0;
          return {
            onMouseDown: function(e) {
              a && a(e);
            },
            onMouseUp: function(a) {
              (t && t()) || e(a);
            }
          };
        },
        H = function(e, t, a) {
          return j.translate(e, a, t[a.id]);
        },
        q = function(e) {
          return k.createElement('span', { className: 'emphasize' }, e);
        },
        K = function(e) {
          return function(t, a) {
            return e ? t : a || null;
          };
        },
        G = function(e) {
          return null !== e && void 0 !== e;
        },
        W = function(e) {
          return { $set: e };
        },
        Y = function(e) {
          return { $merge: e };
        },
        Q = function(e) {
          return { $unset: e };
        },
        X = function(e) {
          return { $push: e };
        },
        J = function(e) {
          return { $splice: e };
        },
        Z = function() {
          return Object(T.v4)();
        },
        $ = function(e, t) {
          return Array.from({ length: t - e }, function(t, a) {
            return a + e;
          });
        },
        ee = function(e, t) {
          var a = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 's';
          return ''.concat(t).concat(1 !== e ? a : '');
        },
        te = function(e, t) {
          return !!e.find(function(e) {
            return e === t;
          });
        },
        ae = function(e, t) {
          var a = !0;
          return function() {
            a &&
              ((a = !1),
              e.apply(void 0, arguments),
              setTimeout(function() {
                a = !0;
              }, t));
          };
        },
        ne = function(e) {
          window.setTimeout(e, 0);
        },
        ie = function(e) {
          return e ? 'true' : null;
        },
        se = a(83),
        re = a.n(se);
      !(function(e) {
        (e.primary = 'primary'), (e.secondary = 'secondary'), (e.tertiary = 'tertiary');
      })(N || (N = {}));
      var oe,
        le = (function(e) {
          Object(g.a)(a, e);
          var t = Object(v.a)(a);
          function a(e) {
            var n;
            return (
              Object(m.a)(this, a),
              ((n = t.call(this, e)).state = { active: !1 }),
              Object(b.react)(Object(f.a)(n), { include: [/^handle/] }),
              n
            );
          }
          return (
            Object(_.a)(a, [
              {
                key: 'handleMouseDown',
                value: function(e) {
                  this.setState({ active: !0 });
                }
              },
              {
                key: 'handleMouseUp',
                value: function(e) {
                  this.setState({ active: !1 });
                }
              },
              {
                key: 'render',
                value: function() {
                  var e = this.props,
                    t = e.onRef,
                    a = e.name,
                    n = e.onClick,
                    i = e.type,
                    s = e.disabled,
                    r = e.leftSpacing,
                    o = e.topSpacing,
                    l = e.iconName;
                  return k.createElement(
                    'div',
                    {
                      ref: t,
                      style: { marginLeft: r ? 10 : 0, marginTop: o ? 10 : 0 },
                      onClick: n,
                      onMouseDown: this.handleMouseDown,
                      onMouseUp: this.handleMouseUp,
                      className: ''
                        .concat(re.a.btn, ' ')
                        .concat(re.a[i], ' ')
                        .concat(s ? re.a.disabled : '', ' ')
                        .concat(this.state.active ? re.a.active : '')
                    },
                    K(null != l)(
                      k.createElement('span', { style: { paddingRight: 4 }, className: l })
                    ),
                    a
                  );
                }
              }
            ]),
            a
          );
        })(k.Component),
        ce = a(40),
        ue = a.n(ce),
        de = a(31),
        pe = a.n(de);
      !(function(e) {
        (e.NORMAL = 'normal'), (e.BARBER = 'barber');
      })(oe || (oe = {}));
      var he,
        me = (function(e) {
          Object(g.a)(a, e);
          var t = Object(v.a)(a);
          function a(e) {
            var n;
            return (
              Object(m.a)(this, a),
              ((n = t.call(this, e)).tabFocus = null),
              (n.primaryButton = null),
              (n.state = { activeTab: -1 }),
              Object(b.react)(Object(f.a)(n), { include: [/^handle/, /^get/] }),
              n
            );
          }
          return (
            Object(_.a)(a, [
              {
                key: 'showTab',
                value: function(e) {
                  this.setState({ activeTab: e });
                }
              },
              {
                key: 'handlePrimaryButton',
                value: function(e) {
                  var t = this;
                  e(),
                    (this.tabFocus = window.setTimeout(function() {
                      var e = !1;
                      (t.props.tabs || []).forEach(function(a, n) {
                        if (a.hasErrors) return t.setState({ activeTab: n }), void (e = !0);
                      }),
                        e || t.setState({ activeTab: -1 });
                    }, 0));
                }
              },
              {
                key: 'handleKey',
                value: function(e) {
                  'Enter' === e.key &&
                    e.shiftKey &&
                    (this.primaryButton
                      ? (e.preventDefault(),
                        e.stopPropagation(),
                        e.target.blur(),
                        this.primaryButton.click(),
                        e.target.focus())
                      : console.log('No primary button!'));
                }
              },
              {
                key: 'componentDidMount',
                value: function() {
                  window.document.addEventListener('keydown', this.handleKey, { capture: !0 });
                }
              },
              {
                key: 'componentWillUnmount',
                value: function() {
                  window.clearTimeout(this.tabFocus),
                    window.document.removeEventListener('keydown', this.handleKey, { capture: !0 });
                }
              },
              {
                key: 'getButtons',
                value: function() {
                  var e = this,
                    t = [],
                    a = this.props.buttons || { primary: null, secondary: null, tertiary: null };
                  a.secondary &&
                    t.push(
                      k.createElement(le, Object.assign({ key: 0, type: N.secondary }, a.secondary))
                    ),
                    a.primary &&
                      t.push(
                        k.createElement(le, {
                          key: 'button_' + a.primary.name,
                          onRef: function(t) {
                            e.primaryButton = t;
                          },
                          onClick: function() {
                            e.handlePrimaryButton(a.primary.onClick);
                          },
                          leftSpacing: !0,
                          name: a.primary.name,
                          disabled: a.primary.disabled,
                          type: N.primary
                        })
                      );
                  var n = [];
                  return (
                    a.tertiary &&
                      n.push(
                        k.createElement(le, Object.assign({ key: 0, type: N.tertiary }, a.tertiary))
                      ),
                    { leftButtons: n, rightButtons: t }
                  );
                }
              },
              {
                key: 'render',
                value: function() {
                  var e = this,
                    t = [pe.a.header];
                  this.state.activeTab > -1 && t.push(pe.a.clickable),
                    this.props.headerClass && t.push(ue.a[this.props.headerClass]),
                    this.props.headerIcon && t.push(pe.a.iconed),
                    this.props.headerStyle === oe.BARBER && t.push(pe.a.barber);
                  var a = [pe.a.dialog],
                    n = this.getButtons(),
                    i = n.leftButtons,
                    s = n.rightButtons;
                  return (
                    this.props.className && a.push(this.props.className),
                    k.createElement(
                      'div',
                      { className: a.join(' ') },
                      (this.props.tabs || []).length > 0
                        ? k.createElement(
                            'div',
                            { className: pe.a.tabs },
                            (this.props.tabs || []).map(function(t, a) {
                              return k.createElement(
                                'div',
                                {
                                  key: 'tab_' + t.name,
                                  className:
                                    pe.a.tab + ' ' + (a === e.state.activeTab ? pe.a.active : ''),
                                  onClick: function(t) {
                                    t.stopPropagation(), e.setState({ activeTab: a });
                                  }
                                },
                                t.name,
                                ' ',
                                t.icon
                                  ? k.createElement('span', {
                                      className: pe.a.tab_icon + ' ' + t.icon
                                    })
                                  : null,
                                t.checked
                                  ? k.createElement('span', {
                                      className: pe.a.tab_icon + ' fe-check'
                                    })
                                  : null
                              );
                            })
                          )
                        : null,
                      k.createElement(
                        'div',
                        {
                          onClick: function() {
                            e.setState({ activeTab: -1 });
                          },
                          className: t.join(' ')
                        },
                        this.state.activeTab > -1
                          ? k.createElement('div', { className: pe.a.header_overlay })
                          : null,
                        K(void 0 !== this.props.headerIcon)(
                          k.createElement('span', {
                            className: ''
                              .concat(pe.a.header_icon, ' ')
                              .concat(this.props.headerIcon)
                          })
                        ),
                        k.createElement(
                          'div',
                          { className: pe.a.title_container },
                          k.createElement('div', { className: pe.a.title }, this.props.title),
                          k.createElement('div', { className: pe.a.subtitle }, this.props.subtitle)
                        )
                      ),
                      k.createElement(
                        'div',
                        { className: this.props.noPadding ? '' : pe.a.content },
                        this.state.activeTab > -1
                          ? this.props.tabs[this.state.activeTab].body
                          : this.props.children
                      ),
                      k.createElement(
                        'div',
                        { className: pe.a.footer },
                        k.createElement(
                          'div',
                          { className: pe.a.buttons },
                          K(i.length > 0)(
                            k.createElement('div', { className: pe.a.left_buttons }, i)
                          ),
                          K(null != this.props.gutter)(
                            k.createElement('div', { className: pe.a.gutter }, this.props.gutter)
                          ),
                          k.createElement('div', { className: pe.a.right_buttons }, s)
                        )
                      )
                    )
                  );
                }
              }
            ]),
            a
          );
        })(k.Component),
        _e = (function(e) {
          Object(g.a)(a, e);
          var t = Object(v.a)(a);
          function a(e) {
            var n;
            return (
              Object(m.a)(this, a),
              ((n = t.call(this, e)).ele = void 0),
              (n.state = { top: 0, fixed: !1 }),
              Object(b.react)(Object(f.a)(n), { include: [/^handle/] }),
              n
            );
          }
          return (
            Object(_.a)(a, [
              {
                key: 'handleScroll',
                value: function() {
                  var e = window.scrollY > this.state.top;
                  this.setState({ fixed: e });
                }
              },
              {
                key: 'componentWillUnmount',
                value: function() {
                  window.removeEventListener('scroll', this.handleScroll);
                }
              },
              {
                key: 'componentDidMount',
                value: function() {
                  var e = this.ele.getBoundingClientRect().top + window.scrollY,
                    t = window.scrollY > e;
                  this.setState({ top: e, fixed: t }),
                    window.addEventListener('scroll', this.handleScroll);
                }
              },
              {
                key: 'render',
                value: function() {
                  var e = this,
                    t = { position: 'absolute' };
                  return (
                    this.state.fixed && (t = { position: 'fixed', top: 0 }),
                    k.createElement(
                      'div',
                      {
                        ref: function(t) {
                          e.ele = t;
                        },
                        style: t
                      },
                      this.props.children
                    )
                  );
                }
              }
            ]),
            a
          );
        })(k.PureComponent),
        fe = a(21),
        ge = a(20);
      !(function(e) {
        (e.UPDATE_EDITOR_STATE = 'UPDATE_EDITOR_STATE'),
          (e.UPDATE_NODE_EDITOR_SETTINGS = 'UPDATE_NODE_EDITOR_SETTINGS'),
          (e.UPDATE_TRANSLATING = 'UPDATE_TRANSLATING'),
          (e.UPDATE_BASE_LANGUAGE = 'UPDATE_BASE_LANGUAGE'),
          (e.UPDATE_LANGUAGES = 'UPDATE_LANGUAGES'),
          (e.UPDATE_LANGUAGE = 'UPDATE_LANGUAGE'),
          (e.UPDATE_FETCHING_FLOW = 'FETCHING_FLOW'),
          (e.UPDATE_DEFINITION = 'UPDATE_DEFINITION'),
          (e.UPDATE_NODE_DRAGGING = 'UPDATE_NODE_DRAGGING'),
          (e.UPDATE_FLOWS = 'UPDATE_FLOWS'),
          (e.UPDATE_PENDING_CONNECTIONS = 'UPDATE_PENDING_CONNECTIONS'),
          (e.REMOVE_PENDING_CONNECTION = 'REMOVE_PENDING_CONNECTION'),
          (e.UPDATE_COMPONENTS = 'UPDATE_COMPONENTS'),
          (e.UPDATE_CONTACT_FIELDS = 'UPDATE_CONTACT_FIELDS'),
          (e.UPDATE_GROUPS = 'UPDATE_GROUPS'),
          (e.UPDATE_RESULT_MAP = 'UPDATE_RESULT_MAP'),
          (e.UPDATE_ASSET_MAP = 'UPDATE_ASSET_MAP'),
          (e.UPDATE_NODES = 'UPDATE_NODES'),
          (e.UPDATE_ISSUES = 'UPDATE_ISSUES'),
          (e.UPDATE_METADATA = 'UPDATE_METADATA'),
          (e.UPDATE_EXITS = 'UPDATE_EXITS'),
          (e.UPDATE_NODE_EDITOR_OPEN = 'UPDATE_NODE_EDITOR_OPEN'),
          (e.UPDATE_CREATE_NODE_POSITION = 'UPDATE_CREATE_NODE_POSITION'),
          (e.UPDATE_DRAG_GROUP = 'UPDATE_DRAG_GROUP'),
          (e.UPDATE_TYPE_CONFIG = 'UPDATE_TYPE_CONFIG'),
          (e.UPDATE_USER_ADDING_ACTION = 'UPDATE_USER_ADDING_ACTION'),
          (e.INCREMENT_SUGGESTED_RESULT_NAME_COUNT = 'INCREMENT_SUGGESTED_RESULT_NAME_COUNT');
      })(he || (he = {}));
      var ve,
        ye = he;
      !(function(e) {
        (e.Channel = 'channel'),
          (e.Classifier = 'classifier'),
          (e.Contact = 'contact'),
          (e.ContactProperty = 'property'),
          (e.Currency = 'currency'),
          (e.Environment = 'environment'),
          (e.Expression = 'expression'),
          (e.Field = 'field'),
          (e.Flow = 'flow'),
          (e.Global = 'global'),
          (e.Group = 'group'),
          (e.Label = 'label'),
          (e.Language = 'language'),
          (e.Remove = 'remove'),
          (e.Resthook = 'resthook'),
          (e.Result = 'result'),
          (e.Revision = 'revision'),
          (e.Scheme = 'scheme'),
          (e.Template = 'template'),
          (e.Ticketer = 'ticketer'),
          (e.URN = 'urn');
      })(ve || (ve = {}));
      var be,
        ke,
        Ee,
        Ce,
        we,
        Oe = { id: ve.Remove, name: 'Remove Value', type: ve.Remove },
        Se = { id: 'base', name: 'Default', type: ve.Language },
        Ne = {
          definition: null,
          baseLanguage: null,
          metadata: {
            dependencies: [],
            results: [],
            waiting_exit_uuids: [],
            parent_refs: [],
            issues: []
          },
          contactFields: {},
          nodes: {},
          issues: {},
          assetStore: {}
        },
        xe = function(e) {
          return { type: ye.UPDATE_DEFINITION, payload: { definition: e } };
        },
        je = function(e) {
          return { type: ye.UPDATE_NODES, payload: { nodes: e } };
        },
        Te = function(e) {
          return { type: ye.UPDATE_ISSUES, payload: { issues: e } };
        },
        Ae = function(e) {
          return { type: ye.UPDATE_METADATA, payload: { metadata: e } };
        },
        Re = function(e) {
          return { type: ye.UPDATE_ASSET_MAP, payload: { assets: e } };
        },
        Ue = Object(ge.combineReducers)({
          definition: function() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : Ne.definition,
              t = arguments.length > 1 ? arguments[1] : void 0;
            switch (t.type) {
              case ye.UPDATE_DEFINITION:
                return t.payload.definition;
              default:
                return e;
            }
          },
          nodes: function() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : Ne.nodes,
              t = arguments.length > 1 ? arguments[1] : void 0;
            switch (t.type) {
              case ye.UPDATE_NODES:
                return t.payload.nodes;
              default:
                return e;
            }
          },
          issues: function() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : Ne.issues,
              t = arguments.length > 1 ? arguments[1] : void 0;
            switch (t.type) {
              case ye.UPDATE_ISSUES:
                return t.payload.issues;
              default:
                return e;
            }
          },
          metadata: function() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : Ne.metadata,
              t = arguments.length > 1 ? arguments[1] : void 0;
            switch (t.type) {
              case ye.UPDATE_METADATA:
                return t.payload.metadata;
              default:
                return e;
            }
          },
          assetStore: function() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : Ne.assetStore,
              t = arguments.length > 1 ? arguments[1] : void 0;
            switch (t.type) {
              case ye.UPDATE_ASSET_MAP:
                return t.payload.assets;
              default:
                return e;
            }
          },
          baseLanguage: function() {
            var e =
                arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : Ne.baseLanguage,
              t = arguments.length > 1 ? arguments[1] : void 0;
            switch (t.type) {
              case ye.UPDATE_BASE_LANGUAGE:
                return t.payload.baseLanguage;
              default:
                return e;
            }
          },
          contactFields: function() {
            var e =
                arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : Ne.contactFields,
              t = arguments.length > 1 ? arguments[1] : void 0;
            switch (t.type) {
              case ye.UPDATE_CONTACT_FIELDS:
                return t.payload.contactFields;
              default:
                return e;
            }
          }
        }),
        De = a(15),
        Fe = a(63),
        Pe = a.n(Fe),
        Ie = a(81),
        Le = a(34),
        Me = a.n(Le),
        ze = {
          ARS: { id: 'ARS', name: 'Argentine Peso', type: ve.Currency },
          AUD: { id: 'AUD', name: 'Australian Dollar', type: ve.Currency },
          BIF: { id: 'BIF', name: 'Burundi Franc', type: ve.Currency },
          BRL: { id: 'BRL', name: 'Brazilian Real', type: ve.Currency },
          CAD: { id: 'CAD', name: 'Canadian Dollar', type: ve.Currency },
          CDF: { id: 'CDF', name: 'Congolese Franc', type: ve.Currency },
          CLP: { id: 'CLP', name: 'Chilean Peso', type: ve.Currency },
          COP: { id: 'COP', name: 'Colombian Peso', type: ve.Currency },
          DJF: { id: 'DJF', name: 'Djibouti Franc', type: ve.Currency },
          DOP: { id: 'DOP', name: 'Dominican Peso', type: ve.Currency },
          DZD: { id: 'DZD', name: 'Algerian Dinar', type: ve.Currency },
          EUR: { id: 'EUR', name: 'Euro', type: ve.Currency },
          GBP: { id: 'GBP', name: 'Pound Sterling', type: ve.Currency },
          GHS: { id: 'GHS', name: 'Ghana Cedi', type: ve.Currency },
          GNF: { id: 'GNF', name: 'Guinean Franc', type: ve.Currency },
          KES: { id: 'KES', name: 'Kenyan Shilling', type: ve.Currency },
          LBP: { id: 'LBP', name: 'Lebanese Pound', type: ve.Currency },
          LKR: { id: 'LKR', name: 'Sri Lanka Rupee', type: ve.Currency },
          LRD: { id: 'LRD', name: 'Liberian Dollar', type: ve.Currency },
          MWK: { id: 'MWK', name: 'Malawi Kwacha', type: ve.Currency },
          MXN: { id: 'MXN', name: 'Mexican Peso', type: ve.Currency },
          NAD: { id: 'NAD', name: 'Namibia Dollar', type: ve.Currency },
          NPR: { id: 'NPR', name: 'Nepalese Rupee', type: ve.Currency },
          NZD: { id: 'NZD', name: 'New Zealand Dollar', type: ve.Currency },
          PHP: { id: 'PHP', name: 'Philippine Piso', type: ve.Currency },
          PKR: { id: 'PKR', name: 'Pakistan Rupee', type: ve.Currency },
          RUB: { id: 'RUB', name: 'Russian Ruble', type: ve.Currency },
          RWF: { id: 'RWF', name: 'Rwanda Franc', type: ve.Currency },
          SDG: { id: 'SDG', name: 'Sudanese Pound', type: ve.Currency },
          SGD: { id: 'SGD', name: 'Singapore Dollar', type: ve.Currency },
          SLL: { id: 'SLL', name: 'Leone', type: ve.Currency },
          SOS: { id: 'SOS', name: 'Somali Shilling', type: ve.Currency },
          SRD: { id: 'SRD', name: 'Surinam Dollar', type: ve.Currency },
          SVC: { id: 'SVC', name: 'El Salvador Colon', type: ve.Currency },
          TND: { id: 'TND', name: 'Tunisian Dinar', type: ve.Currency },
          TRY: { id: 'TRY', name: 'Turkish Lira', type: ve.Currency },
          TZS: { id: 'TZS', name: 'Tanzanian Shilling', type: ve.Currency },
          UGX: { id: 'UGX', name: 'Uganda Shilling', type: ve.Currency },
          USD: { id: 'USD', name: 'US Dollar', type: ve.Currency },
          UYU: { id: 'UYU', name: 'Peso Uruguayo', type: ve.Currency },
          UZS: { id: 'UZS', name: 'Uzbekistan Sum', type: ve.Currency },
          VEF: { id: 'VEF', name: 'Bol\xedvar', type: ve.Currency },
          XCD: { id: 'XCD', name: 'East Caribbean Dollar', type: ve.Currency },
          YER: { id: 'YER', name: 'Yemeni Rial', type: ve.Currency },
          ZAR: { id: 'ZAR', name: 'Rand', type: ve.Currency },
          ZMW: { id: 'ZMW', name: 'Zambian Kwacha', type: ve.Currency },
          ZWL: { id: 'ZWL', name: 'Zimbabwe Dollar', type: ve.Currency }
        };
      !(function(e) {
        (e.MESSAGE = 'message'),
          (e.VOICE = 'voice'),
          (e.SURVEY = 'message_offline'),
          (e.NONE = '-');
      })(be || (be = {})),
        (function(e) {
          (e.execute_actions = 'execute_actions'),
            (e.add_contact_urn = 'add_contact_urn'),
            (e.add_contact_groups = 'add_contact_groups'),
            (e.add_input_labels = 'add_input_labels'),
            (e.remove_contact_groups = 'remove_contact_groups'),
            (e.set_contact_channel = 'set_contact_channel'),
            (e.set_contact_field = 'set_contact_field'),
            (e.set_contact_name = 'set_contact_name'),
            (e.set_contact_language = 'set_contact_language'),
            (e.set_run_result = 'set_run_result'),
            (e.call_classifier = 'call_classifier'),
            (e.call_resthook = 'call_resthook'),
            (e.call_webhook = 'call_webhook'),
            (e.open_ticket = 'open_ticket'),
            (e.send_msg = 'send_msg'),
            (e.send_email = 'send_email'),
            (e.send_broadcast = 'send_broadcast'),
            (e.enter_flow = 'enter_flow'),
            (e.start_session = 'start_session'),
            (e.transfer_airtime = 'transfer_airtime'),
            (e.split_by_airtime = 'split_by_airtime'),
            (e.split_by_expression = 'split_by_expression'),
            (e.split_by_contact_field = 'split_by_contact_field'),
            (e.split_by_run_result = 'split_by_run_result'),
            (e.split_by_run_result_delimited = 'split_by_run_result_delimited'),
            (e.split_by_groups = 'split_by_groups'),
            (e.split_by_intent = 'split_by_intent'),
            (e.split_by_random = 'split_by_random'),
            (e.split_by_resthook = 'split_by_resthook'),
            (e.split_by_ticket = 'split_by_ticket'),
            (e.split_by_scheme = 'split_by_scheme'),
            (e.split_by_subflow = 'split_by_subflow'),
            (e.split_by_webhook = 'split_by_webhook'),
            (e.wait_for_response = 'wait_for_response'),
            (e.wait_for_menu = 'wait_for_menu'),
            (e.wait_for_digits = 'wait_for_digits'),
            (e.wait_for_audio = 'wait_for_audio'),
            (e.wait_for_video = 'wait_for_video'),
            (e.wait_for_location = 'wait_for_location'),
            (e.wait_for_image = 'wait_for_image'),
            (e.missing = 'missing'),
            (e.say_msg = 'say_msg'),
            (e.play_audio = 'play_audio');
        })(ke || (ke = {})),
        (function(e) {
          (e.has_any_word = 'has_any_word'),
            (e.has_all_words = 'has_all_words'),
            (e.has_phrase = 'has_phrase'),
            (e.has_only_phrase = 'has_only_phrase'),
            (e.has_beginning = 'has_beginning'),
            (e.has_text = 'has_text'),
            (e.has_date = 'has_date'),
            (e.has_date_lt = 'has_date_lt'),
            (e.has_date_eq = 'has_date_eq'),
            (e.has_date_gt = 'has_date_gt'),
            (e.has_time = 'has_time'),
            (e.has_number = 'has_number'),
            (e.has_number_between = 'has_number_between'),
            (e.has_number_lt = 'has_number_lt'),
            (e.has_number_lte = 'has_number_lte'),
            (e.has_number_eq = 'has_number_eq'),
            (e.has_number_gte = 'has_number_gte'),
            (e.has_number_gt = 'has_number_gt'),
            (e.has_run_status = 'has_run_status'),
            (e.has_only_text = 'has_only_text'),
            (e.has_group = 'has_group'),
            (e.has_phone = 'has_phone'),
            (e.has_email = 'has_email'),
            (e.has_value = 'has_value'),
            (e.has_district = 'has_district'),
            (e.has_state = 'has_state'),
            (e.has_ward = 'has_ward'),
            (e.has_pattern = 'has_pattern'),
            (e.has_error = 'has_error'),
            (e.has_intent = 'has_intent'),
            (e.has_top_intent = 'has_top_intent'),
            (e.has_category = 'has_category');
        })(Ee || (Ee = {})),
        (function(e) {
          (e.HAS_RESTHOOK = 'resthook'),
            (e.HAS_WHATSAPP = 'whatsapp'),
            (e.HAS_AIRTIME = 'airtime'),
            (e.HAS_CLASSIFIER = 'classifier'),
            (e.HAS_TICKETER = 'ticketer'),
            (e.HAS_FACEBOOK = 'facebook');
        })(Ce || (Ce = {})),
        (function(e) {
          (e.SIMULATOR = 'Simulator'),
            (e.REVISION_HISTORY = 'Revision History'),
            (e.ISSUES_TAB = 'Issues Tab'),
            (e.TRANSLATOR_TAB = 'Translator Tab');
        })(we || (we = {}));
      var Be = [be.NONE],
        Ve = [be.VOICE],
        He = [be.SURVEY],
        qe = [be.MESSAGE, be.SURVEY],
        Ke = [be.MESSAGE, be.VOICE];
      (Me.a.defaults.headers.post['Content-Type'] = 'application/javascript'),
        (Me.a.defaults.responseType = 'json'),
        (Me.a.defaults.timeout = 3e4);
      var Ge = function(e, t) {
          var a = We('csrftoken'),
            n = a ? { 'X-CSRFToken': a } : {},
            i = '0',
            s = t.spec_version.split('.');
          return (
            s.length > 2 && (i = s[2]),
            (t.spec_version = [S, i].join('.')),
            new Promise(function(a, i) {
              Me.a
                .post(e, t, { headers: n })
                .then(function(e) {
                  200 === e.status ? a(e.data) : i(e);
                })
                .catch(function(e) {
                  return i(e);
                });
            })
          );
        },
        We = function(e) {
          var t,
            a = Object(C.a)(document.cookie.split(';'));
          try {
            for (a.s(); !(t = a.n()).done; ) {
              var n = t.value,
                i = n.indexOf('='),
                s = n.substr(0, i),
                r = n.substr(i + 1);
              if (((s = s.trim()), (r = r.trim()), s === e)) return r;
            }
          } catch (o) {
            a.e(o);
          } finally {
            a.f();
          }
          return null;
        },
        Ye = function(e, t) {
          return new Promise(function(a, n) {
            Xe(e.endpoint, e.type, e.id).then(function(e) {
              a(
                e.find(function(e) {
                  return e.id === t;
                })
              );
            });
          });
        },
        Qe = function(e, t, a) {
          return new Promise(function(n, i) {
            Me.a
              .get(e)
              .then(function(e) {
                var i = e.data.results.map(function(e, n) {
                  var i = Je(e, t, a);
                  return (i.order = n), i;
                });
                n({ assets: i, next: e.data.next });
              })
              .catch(function(e) {
                return i(e);
              });
          });
        },
        Xe = (function() {
          var e = Object(Ie.a)(
            Pe.a.mark(function e(t, a, n) {
              var i, s, r;
              return Pe.a.wrap(function(e) {
                for (;;)
                  switch ((e.prev = e.next)) {
                    case 0:
                      if (t) {
                        e.next = 2;
                        break;
                      }
                      return e.abrupt(
                        'return',
                        new Promise(function(e, t) {
                          return e([]);
                        })
                      );
                    case 2:
                      (i = []), (s = t);
                    case 4:
                      if (!s) {
                        e.next = 12;
                        break;
                      }
                      return (e.next = 7), Qe(s, a, n);
                    case 7:
                      (r = e.sent), (i = i.concat(r.assets)), (s = r.next), (e.next = 4);
                      break;
                    case 12:
                      return e.abrupt('return', i);
                    case 13:
                    case 'end':
                      return e.stop();
                  }
              }, e);
            })
          );
          return function(t, a, n) {
            return e.apply(this, arguments);
          };
        })(),
        Je = function(e, t, a) {
          var n = a || 'uuid',
            i = t;
          if (t === ve.Flow && e.type)
            switch (e.type) {
              case 'message':
                e.type = be.MESSAGE;
                break;
              case 'voice':
                e.type = be.VOICE;
                break;
              case 'survey':
                e.type = be.SURVEY;
            }
          t !== ve.Flow && e.type && (i = e.type);
          var s = { name: e.name || e.text || e.label || e[n], id: e[n], type: i };
          return delete e[n], delete e.name, delete e.text, (s.content = e), s;
        },
        Ze = function(e, t, a) {
          if (a && a(t)) return !1;
          var n = e.toLowerCase();
          return (
            !(
              (t.type !== ve.Currency && t.type !== ve.Language) ||
              !t.id.toLowerCase().includes(n)
            ) || t.name.toLowerCase().includes(n)
          );
        },
        $e = function(e, t, a, n) {
          var i = e.toLowerCase(),
            s = Object.keys(t)
              .map(function(e) {
                return t[e];
              })
              .filter(function(e) {
                return Ze(i, e, n);
              });
          return (s = s.concat(a || []).filter(function(e) {
            return Ze(i, e, n);
          }));
        },
        et = function(e) {
          return new Promise(function(t, a) {
            var n = {
                channels: { endpoint: it(e.channels), type: ve.Channel, items: {} },
                classifiers: { endpoint: it(e.classifiers), type: ve.Classifier, items: {} },
                languages: { endpoint: it(e.languages), type: ve.Language, items: {}, id: 'iso' },
                flows: { endpoint: it(e.flows), type: ve.Flow, items: {} },
                fields: { endpoint: it(e.fields), type: ve.Field, id: 'key', items: {} },
                globals: { endpoint: it(e.globals), type: ve.Global, id: 'key', items: {} },
                groups: { endpoint: it(e.groups), type: ve.Group, items: {} },
                revisions: { endpoint: it(e.revisions), type: ve.Revision, id: 'id', items: {} },
                labels: { endpoint: it(e.labels), type: ve.Label, items: {} },
                results: { type: ve.Result, items: {} },
                recipients: {
                  endpoint: it(e.recipients),
                  type: ve.Contact || ve.Group || ve.URN,
                  items: {},
                  id: 'id'
                },
                resthooks: {
                  endpoint: it(e.resthooks),
                  type: ve.Resthook,
                  id: 'resthook',
                  items: {}
                },
                templates: { endpoint: it(e.templates), type: ve.Template, items: {} },
                ticketers: { endpoint: it(e.ticketers), type: ve.Ticketer, items: {} },
                currencies: { type: ve.Currency, id: 'id', items: ze, prefetched: !0 }
              },
              i = [];
            ['languages', 'fields', 'groups', 'labels', 'globals', 'classifiers'].forEach(function(
              e
            ) {
              var t = n[e];
              i.push(
                Xe(t.endpoint, t.type, t.id || 'uuid').then(function(e) {
                  (t.items = Ql(e)), (t.prefetched = !0);
                })
              );
            }),
              Promise.all(i).then(function(e) {
                t(n);
              });
          });
        },
        tt = function(e) {
          return new Promise(function(t, a) {
            Me.a
              .get(e)
              .then(function(e) {
                t(e.data);
              })
              .catch(function(e) {
                return a(e);
              });
          });
        },
        at = function(e) {
          return new Promise(function(t, a) {
            Me.a.get(e).then(function(e) {
              t(e.data);
            });
          });
        },
        nt = function(e) {
          var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null;
          return new Promise(function(a, n) {
            Object(Ie.a)(
              Pe.a.mark(function i() {
                var s, r, o;
                return Pe.a.wrap(
                  function(i) {
                    for (;;)
                      switch ((i.prev = i.next)) {
                        case 0:
                          if ((s = t)) {
                            i.next = 12;
                            break;
                          }
                          return (
                            (i.prev = 2),
                            (i.next = 5),
                            Me.a.get(''.concat(e.endpoint, '?version=').concat(S))
                          );
                        case 5:
                          (r = i.sent).data.results.length > 0 && (s = r.data.results[0].id),
                            (i.next = 12);
                          break;
                        case 9:
                          (i.prev = 9),
                            (i.t0 = i.catch(2)),
                            n(new Error("Couldn't reach revisions endpoint"));
                        case 12:
                          s
                            ? ((o = ''
                                .concat(e.endpoint)
                                .concat(s, '?version=')
                                .concat(S)),
                              Me.a
                                .get(o)
                                .then(function(e) {
                                  var t = e.data;
                                  return a(t);
                                })
                                .catch(function(e) {
                                  return n(e);
                                }))
                            : n(new Error('No revision found for flow'));
                        case 13:
                        case 'end':
                          return i.stop();
                      }
                  },
                  i,
                  null,
                  [[2, 9]]
                );
              })
            )();
          });
        },
        it = function(e) {
          var t = e;
          return (
            t.endsWith('/') || -1 !== t.indexOf('?') || -1 !== t.indexOf('groups') || (t += '/'),
            t.startsWith('http://') || t.startsWith('https://')
              ? t
              : ''.concat(
                  (function() {
                    var e = window.location;
                    return e.protocol + '//' + e.hostname + (e.port ? ':' + e.port : '');
                  })() + t
                )
          );
        },
        st = function(e) {
          window.open(e, 'floweditor_help');
        },
        rt = function(e) {
          var t = e.issues,
            a = e.helpArticles;
          return t && 0 !== t.length
            ? k.createElement(
                'div',
                { style: { padding: '10px 0px' } },
                t.map(function(e, t) {
                  var n = e.node_uuid + e.action_uuid + t;
                  return k.createElement(
                    'div',
                    {
                      style: {
                        margin: '6px 0px',
                        display: 'flex',
                        fontSize: '14px',
                        color: 'tomato'
                      },
                      key: n
                    },
                    k.createElement('div', {
                      style: { marginRight: '8px', marginTop: '-2px', fontSize: '18px' },
                      className: 'fe-warning'
                    }),
                    k.createElement('div', null, ot(e, a))
                  );
                })
              )
            : null;
        },
        ot = function(e) {
          var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
            a = k.createElement(k.Fragment, null, e.description);
          e.type === i.MISSING_DEPENDENCY &&
            (a = k.createElement(
              De.a,
              {
                i18nKey: 'issues.missing_dependency',
                values: { name: e.dependency.name || e.dependency.key, type: e.dependency.type }
              },
              'Cannot find a [[type]] for ',
              k.createElement('span', { className: 'emphasize' }, '[[name]]')
            )),
            e.type === i.INVALID_REGEX &&
              (a = k.createElement(
                De.a,
                { i18nKey: 'issues.legacy_extra', values: { regex: e.regex } },
                'Invalid regular expression found: [[regex]]'
              )),
            e.type === i.LEGACY_EXTRA &&
              (a = k.createElement(
                De.a,
                { i18nKey: 'issues.legacy_extra' },
                'Expressions should not reference @legacy_extra'
              ));
          var n = t[e.type];
          return n
            ? k.createElement(
                'div',
                {
                  className: ue.a.issue_help,
                  onClick: function() {
                    st(n);
                  }
                },
                a
              )
            : a;
        },
        lt = function(e, t) {
          return e.originalAction && e.originalAction.type === t ? e.originalAction.uuid : Z();
        },
        ct = function(e) {
          var t = (e.groups || []).map(function(e) {
            return { id: e.uuid, name: e.name, type: ve.Group };
          });
          return (t = (t = t.concat(
            (e.contacts || []).map(function(e) {
              return { id: e.uuid, name: e.name, type: ve.Contact, missing: !1 };
            })
          )).concat(
            (e.legacy_vars || []).map(function(e) {
              return { id: e, name: e, type: ve.Expression, missing: !1 };
            })
          ));
        },
        ut = function(e) {
          var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 10,
            a = arguments.length > 2 ? arguments[2] : void 0;
          return e.reduce(function(n, i, s) {
            return (
              s <= t - 2 || e.length === t
                ? n.push(dt(i, a))
                : s === t - 1 &&
                  n.push(
                    k.createElement('div', { key: 'ellipses' }, '+', e.length - t + 1, ' more')
                  ),
              n
            );
          }, []);
        },
        dt = function(e, t) {
          var a = null;
          switch (e.type) {
            case ve.Classifier:
              a = k.createElement(
                De.a,
                { i18nKey: 'assets.classifier', values: { name: e.name } },
                'Call [[name]] classifier'
              );
              break;
            case ve.Group:
              a = k.createElement(
                k.Fragment,
                null,
                k.createElement('span', { className: ''.concat(ue.a.node_group, ' fe-group') }),
                e.name
              );
              break;
            case ve.Label:
              a = k.createElement(
                k.Fragment,
                null,
                k.createElement('span', { className: ''.concat(ue.a.node_label, ' fe-label') }),
                e.name
              );
              break;
            case ve.Flow:
              a = k.createElement(
                k.Fragment,
                null,
                k.createElement('span', { className: ''.concat(ue.a.node_label, ' fe-split') }),
                k.createElement(
                  'a',
                  {
                    onMouseDown: function(e) {
                      e.preventDefault(), e.stopPropagation();
                    },
                    onMouseUp: function(e) {
                      e.preventDefault(), e.stopPropagation();
                    },
                    href: ''.concat(t.editor, '/').concat(e.id),
                    rel: 'noopener noreferrer',
                    target: '_blank'
                  },
                  e.name
                )
              );
              break;
            case ve.Ticketer:
              a = k.createElement(
                De.a,
                { i18nKey: 'assets.ticketer', values: { name: e.name } },
                'Using [[name]] service'
              );
          }
          return (
            a || (a = e.name),
            k.createElement('div', { className: ''.concat(ue.a.node_asset), key: e.id }, a)
          );
        },
        pt = function(e) {
          return (e && e.validationFailures) || [];
        },
        ht = function(e) {
          return pt(e).length > 0;
        },
        mt = function(e) {
          return e
            .filter(function(e) {
              return e.type === ve.Expression;
            })
            .map(function(e) {
              return e.id;
            });
        },
        _t = function(e, t) {
          return e
            .filter(function(e) {
              return e.type === t;
            })
            .map(function(e) {
              return { uuid: e.id, name: e.name };
            });
        },
        ft = { name: z(l.Name), id: l.Name, type: ve.ContactProperty },
        gt = { name: z(l.Channel), id: l.Channel, type: ve.ContactProperty },
        vt = { name: z(l.Language), id: l.Language, type: ve.ContactProperty },
        yt = function() {
          return null;
        };
      yt.isRequired = function() {
        return null;
      };
      var bt = (function(e) {
        Object(g.a)(a, e);
        var t = Object(v.a)(a);
        function a(e) {
          var n;
          if ((Object(m.a)(this, a), (n = t.call(this, e)), k.Children.count(e.children) > 1))
            throw new Error('ConfigProvider expects only one child component.');
          if (!k.isValidElement(e.children))
            throw new Error(
              'ConfigProvider expects a valid React element: https://reactjs.org/docs/react-api.html#isvalidelement'
            );
          return n;
        }
        return (
          Object(_.a)(a, [
            {
              key: 'getChildContext',
              value: function() {
                return { config: this.props.config };
              }
            },
            {
              key: 'render',
              value: function() {
                return k.Children.only(this.props.children);
              }
            }
          ]),
          a
        );
      })(k.Component);
      bt.childContextTypes = { config: yt, assetService: yt };
      var kt = function(e, t) {
        var a = e.labels;
        return k.createElement(
          k.Fragment,
          null,
          ut(
            a.map(function(e) {
              return { id: e.uuid, name: e.name, type: ve.Label };
            }),
            5,
            t.config.endpoints
          )
        );
      };
      kt.contextTypes = { config: yt };
      var Et = kt,
        Ct = function(e, t) {
          return e.type !== t.type ? t.type.localeCompare(e.type) : e.name.localeCompare(t.name);
        },
        wt = a(28),
        Ot = a.n(wt),
        St = a(46),
        Nt = a.n(St),
        xt = Ot.a.bind(Nt.a),
        jt = (function(e) {
          Object(g.a)(a, e);
          var t = Object(v.a)(a);
          function a(e) {
            var n;
            return (
              Object(m.a)(this, a),
              (n = t.call(this, e)),
              Object(b.react)(Object(f.a)(n), { include: [/^get/, /^has/] }),
              n
            );
          }
          return (
            Object(_.a)(a, [
              {
                key: 'getName',
                value: function() {
                  return K(
                    this.props.showLabel &&
                      void 0 !== this.props.name &&
                      null !== this.props.name &&
                      this.props.name.length > 0
                  )(k.createElement('div', { className: Nt.a.label }, this.props.name));
                }
              },
              {
                key: 'getHelpText',
                value: function() {
                  return K(null != this.props.helpText)(
                    k.createElement('div', { className: Nt.a.help_text }, this.props.helpText, ' ')
                  );
                }
              },
              {
                key: 'hasErrors',
                value: function() {
                  return ht(this.props.entry);
                }
              },
              {
                key: 'getValidationErrors',
                value: function() {
                  return (this.props.entry && this.props.entry.validationFailures) || [];
                }
              },
              {
                key: 'getErrors',
                value: function() {
                  var e = this;
                  if (this.hasErrors() && !this.props.hideError) {
                    var t = this.getValidationErrors().map(function(t, a) {
                      var n,
                        i = xt(
                          ((n = {}),
                          Object(O.a)(n, Nt.a.error, !0),
                          Object(O.a)(n, Nt.a.send_msg_error, !0 === e.props.sendMsgError),
                          n)
                        );
                      return k.createElement(
                        'div',
                        { key: a, className: i },
                        k.createElement('div', { className: Nt.a.arrow_up }),
                        k.createElement('div', null, t.message)
                      );
                    });
                    return k.createElement('div', { className: Nt.a.error_list }, t);
                  }
                  return null;
                }
              },
              {
                key: 'render',
                value: function() {
                  var e,
                    t = this.getName(),
                    a = this.getHelpText(),
                    n = this.getErrors(),
                    i = xt(
                      ((e = {}),
                      Object(O.a)(e, Nt.a.ele, !0),
                      Object(O.a)(e, Nt.a.border, this.props.border),
                      Object(O.a)(e, Nt.a.invalid, this.hasErrors()),
                      Object(O.a)(e, this.props.__className, void 0 !== this.props.__className),
                      e)
                    );
                  return k.createElement('div', { className: i }, t, this.props.children, a, n);
                }
              }
            ]),
            a
          );
        })(k.PureComponent),
        Tt = {
          placeholder: function(e, t) {
            return Object(y.a)(Object(y.a)({}, e), {}, { color: '#ddd', marginLeft: '3px' });
          },
          singleValue: function(e, t) {
            return Object(y.a)(Object(y.a)({}, e), {}, { marginLeft: '3px' });
          },
          multiValue: function(e, t) {
            return Object(y.a)(Object(y.a)({}, e), {}, { marginLeft: '0px' });
          },
          input: function(e, t) {
            return Object(y.a)(
              Object(y.a)({}, e),
              {},
              {
                marginLeft: '0px',
                caretColor: '#999',
                marginBottom: '0px',
                boxShadow: 'none',
                border: 'none'
              }
            );
          },
          control: function(e, t) {
            return Object(y.a)(
              Object(y.a)({}, e),
              {},
              {
                borderColor: '#ccc',
                boxShadow: 'none',
                transition: 'all 0.3s ease-in-out',
                '&:hover': { borderColor: '#ccc' }
              }
            );
          }
        },
        At = {
          control: function(e, t) {
            return Object(y.a)(
              Object(y.a)({}, e),
              {},
              {
                borderColor: '#ccc',
                boxShadow: 'none',
                borderBottom: 'none',
                borderBottomRightRadius: '0px',
                borderBottomLeftRadius: '0px',
                '&:hover': { borderColor: '#ccc' }
              }
            );
          }
        },
        Rt = {
          control: function(e) {
            return Object(y.a)(
              Object(y.a)({}, e),
              {},
              {
                borderColor: '#ccc',
                boxShadow: 'none',
                '&:hover': { borderColor: '#ccc' },
                maxHeight: '28px',
                minHeight: '28px',
                fontSize: '12px',
                lineHeight: '12px',
                marginBottom: '-10px'
              }
            );
          },
          menuList: function(e) {
            return Object(y.a)(Object(y.a)({}, e), {}, { maxHeight: 200 });
          },
          option: function(e) {
            return Object(y.a)(Object(y.a)({}, e), {}, { fontSize: 12 });
          },
          singleValue: function(e) {
            return Object(y.a)(Object(y.a)({}, e), {}, { maxHeight: 28, lineHeight: '13px' });
          },
          indicatorsContainer: function(e) {
            return Object(y.a)(Object(y.a)({}, e), {}, { height: 28, maxHeight: 28 });
          },
          valueContainer: function(e) {
            return Object(y.a)(Object(y.a)({}, e), {}, { height: 28, maxHeight: 28 });
          },
          input: function(e) {
            return Object(y.a)(
              Object(y.a)({}, e),
              {},
              {
                marginLeft: '-2px',
                marginTop: '0px',
                caretColor: '#999',
                boxShadow: 'none',
                border: 'none',
                maxHeight: '20px',
                minHeight: '20px',
                lineHeight: '12px'
              }
            );
          }
        },
        Ut = {
          control: function(e, t) {
            return Object(y.a)(
              Object(y.a)({}, e),
              {},
              {
                borderColor: '#ccc',
                boxShadow: 'none',
                transition: 'all 0.3s ease-in-out',
                '&:hover': { borderColor: '#ccc' }
              }
            );
          },
          input: function(e, t) {
            return Object(y.a)(
              Object(y.a)({}, e),
              {},
              {
                marginLeft: '0px',
                caretColor: '#999',
                marginBottom: '0px',
                boxShadow: 'none',
                border: 'none'
              }
            );
          },
          multiValue: function(e) {
            return Object(y.a)(
              Object(y.a)({}, e),
              {},
              {
                maxHeight: 24,
                minHeight: 24,
                lineHeight: '17px',
                backgroundColor: 'hsl(0, 0%, 94%)',
                border: '1px solid hsl(0, 0%, 85%)'
              }
            );
          }
        },
        Dt = a(75),
        Ft = a.n(Dt),
        Pt = function(e, t) {
          return e.filter(function(e) {
            return !!e.signature && 0 === e.signature.indexOf((t || '').toLowerCase());
          });
        },
        It = function(e, t) {
          for (var a = (t || '').split('.'), n = e.schema.root, i = '', s = ''; a.length > 0; ) {
            if ((s = a.shift()))
              if (
                'break' ===
                (function() {
                  var t = n.find(function(e) {
                    return e.key === s;
                  });
                  if (!t)
                    return (
                      (n = n.filter(function(e) {
                        return e.key.startsWith(s.toLowerCase());
                      })),
                      'break'
                    );
                  var a = e.schema.types.find(function(e) {
                    return e.name === t.type;
                  });
                  if (a && a.properties) (n = a.properties), (i += s + '.');
                  else {
                    if (!a || !a.property_template) return (n = []), 'break';
                    i += s + '.';
                    var r = a.property_template,
                      o = e.assetStore[a.name];
                    n = o
                      ? Object.keys(o.items).map(function(e) {
                          return {
                            key: r.key.replace('{key}', e),
                            help: r.help.replace('{key}', e),
                            type: r.type
                          };
                        })
                      : [];
                  }
                })()
              )
                break;
          }
          return n.map(function(e) {
            return {
              name: '__default__' === e.key ? i.substr(0, i.length - 1) : i + e.key,
              summary: e.help
            };
          });
        },
        Lt = function(e) {
          return e.name || e.signature.substr(0, e.signature.indexOf('('));
        },
        Mt = function(e) {
          return e.signature.substr(e.signature.indexOf('('));
        },
        zt = a(54),
        Bt = a(166),
        Vt = {
          defaults: { translation: a(167) },
          en: { translation: a(168) },
          es: { translation: a(169) }
        };
      zt.a
        .use(Bt.a)
        .use(De.b)
        .init({
          resources: Vt,
          fallbackLng: ['en', 'defaults'],
          interpolation: { prefix: '[[', suffix: ']]' }
        });
      var Ht,
        qt = zt.a,
        Kt = a(22),
        Gt = a(100),
        Wt = a(171),
        Yt = function(e) {
          var t = e.data,
            a = '';
          return (
            t.type === ve.Currency && (a = ' ('.concat(t.id, ')')),
            !e.isDisabled && Kt.z
              ? k.createElement(
                  'div',
                  Object.assign({ ref: e.innerRef }, e.innerProps),
                  k.createElement(
                    Kt.z.Option,
                    e,
                    '',
                    (function(e) {
                      switch (e.type) {
                        case ve.Group:
                          return k.createElement('span', { className: 'fe-group' });
                        case ve.Label:
                          return k.createElement('span', { className: 'fe-label' });
                        case ve.Flow:
                          return k.createElement('span', { className: 'fe-split' });
                        case ve.Scheme:
                          return k.createElement('span', { className: 'fe-connection' });
                        case ve.Template:
                          return e.content.translations.find(function(e) {
                            return 'pending' === e.status;
                          })
                            ? k.createElement('span', { className: 'fe-hourglass' })
                            : k.createElement('span', { className: 'fe-check' });
                        case ve.Remove:
                          return k.createElement(
                            k.Fragment,
                            null,
                            k.createElement('span', { className: 'fe-trash' }),
                            '\xa0'
                          );
                        default:
                          return null;
                      }
                    })(t),
                    ' ',
                    t.name,
                    a
                  )
                )
              : null
          );
        },
        Qt = (function(e) {
          Object(g.a)(a, e);
          var t = Object(v.a)(a);
          function a(e) {
            var n;
            Object(m.a)(this, a),
              ((n = t.call(this, e)).lastCreation = 0),
              Object(b.react)(Object(f.a)(n), { include: [/^is/, /^handle/, /^get/] });
            var i = [];
            return (
              e.assets.endpoint || (i = $e('', e.assets.items)),
              (n.state = { menuOpen: !1, defaultOptions: i, entry: n.props.entry, isLoading: !1 }),
              n
            );
          }
          return (
            Object(_.a)(
              a,
              [
                {
                  key: 'handleChanged',
                  value: function(e) {
                    this.setState({ message: null }),
                      Array.isArray(e) || !e
                        ? this.props.onChange(e)
                        : this.props.onChange && this.props.onChange([e]);
                  }
                },
                {
                  key: 'handleLoadOptions',
                  value: function(e, t) {
                    var a = this,
                      n = this.props.additionalOptions || [];
                    if (this.props.completion && e.startsWith('@')) {
                      var i = It(this.props.completion, e.substr(1));
                      t(
                        i.map(function(e) {
                          return { id: '@' + e.name, name: '@' + e.name, type: ve.Expression };
                        })
                      );
                    } else {
                      var s = $e(e, this.props.assets.items, n, this.props.shouldExclude),
                        r = this.props.assets;
                      if (r.prefetched)
                        this.props.onFilter && (s = s.filter(this.props.onFilter)),
                          t(s.sort(this.props.sortFunction || Ct));
                      else {
                        var o = r.endpoint;
                        o &&
                          e &&
                          ((o += o.indexOf('?') < 0 ? '?' : '&'),
                          (o += 'search=' + encodeURIComponent(e))),
                          Xe(o, r.type, r.id || 'uuid').then(function(n) {
                            var i = n.filter(function(t) {
                                return Ze(e, t, a.props.shouldExclude);
                              }),
                              r = a.props.valueClearable ? [Oe] : [],
                              o = (function(e, t) {
                                var a = {};
                                return e.filter(function(e) {
                                  var n = e[t];
                                  return !a.hasOwnProperty(n) && (a[n] = !0);
                                });
                              })(s.concat(i).concat(r), 'id');
                            if (a.props.entry.value && !a.props.entry.value.name) {
                              var l = o.find(function(e) {
                                return e.id === a.props.entry.value.id;
                              });
                              l && a.props.onChange([l]);
                            }
                            a.props.onFilter && (o = o.filter(a.props.onFilter)),
                              t(o.sort(a.props.sortFunction || Ct));
                          });
                      }
                    }
                  }
                },
                {
                  key: 'handleCheckValid',
                  value: function(e, t, a) {
                    return (
                      !!this.props.createAssetFromInput &&
                      (e.length > 0 &&
                        0 ===
                          $e(
                            e,
                            this.props.assets.items,
                            this.props.additionalOptions,
                            this.props.shouldExclude
                          ).filter(function(t) {
                            return t.name.toLowerCase() === e.toLowerCase();
                          }).length)
                    );
                  }
                },
                {
                  key: 'handleCreatePrompt',
                  value: function(e) {
                    return (this.props.createPrefix || 'New '.concat(this.props.name, ': ')) + e;
                  }
                },
                {
                  key: 'handleGetNewOptionData',
                  value: function(e, t) {
                    return { id: '_', name: t, type: null };
                  }
                },
                {
                  key: 'handleLoadingComplete',
                  value: function() {
                    this.setState({ isLoading: !1 });
                  }
                },
                {
                  key: 'handleMenuOpen',
                  value: function() {
                    this.setState({ menuOpen: !0, message: null });
                  }
                },
                {
                  key: 'handleMenuClose',
                  value: function() {
                    this.setState({ menuOpen: !1 });
                  }
                },
                {
                  key: 'handleClearMessage',
                  value: function() {
                    this.state.message && this.setState({ message: null });
                  }
                },
                {
                  key: 'handleCreateOption',
                  value: function(e) {
                    var t = this,
                      a = new Date().getTime();
                    if (!(a - this.lastCreation < 1e3)) {
                      this.lastCreation = a;
                      var n = this.props.createAssetFromInput(e);
                      this.props.assets.endpoint
                        ? (this.setState({ isLoading: !0, message: null }),
                          (function(e, t) {
                            var a = We('csrftoken'),
                              n = a ? { 'X-CSRFToken': a } : {};
                            return new Promise(function(a, i) {
                              Me.a
                                .post(e.endpoint, t, { headers: n })
                                .then(function(t) {
                                  a(Je(t.data, e.type, e.id));
                                })
                                .catch(function(e) {
                                  return i(e);
                                });
                            });
                          })(this.props.assets, n)
                            .then(function(e) {
                              t.setState({ isLoading: !1 }), t.props.onAssetCreated(e);
                            })
                            .catch(function(a) {
                              var n = '';
                              a.response &&
                                a.response.data &&
                                a.response.data.non_field_errors &&
                                (n = ' ' + a.response.data.non_field_errors.join(', ')),
                                t.setState({
                                  message: "Couldn't create new "
                                    .concat(t.props.assets.type, ' "')
                                    .concat(e, '".')
                                    .concat(n),
                                  isLoading: !1
                                });
                            }))
                        : this.props.onChange([n]);
                    }
                  }
                },
                {
                  key: 'getStyle',
                  value: function() {
                    if (this.state.message) return At;
                    var e,
                      t = this.props.styles || Tt;
                    if (ht(this.props.entry)) {
                      var a =
                        ((e = t.control({}, {})),
                        {
                          control: function(t) {
                            return Object(y.a)(
                              Object(y.a)(Object(y.a)({}, t), e),
                              {},
                              {
                                borderColor: 'tomato',
                                boxShadow: '0 0 0 3px rgba(255,196,186,0.5) !important;',
                                '&:hover': { borderColor: 'tomato' }
                              }
                            );
                          }
                        });
                      t = Object(y.a)(Object(y.a)({}, t), a);
                    }
                    return t;
                  }
                },
                {
                  key: 'getOptionValue',
                  value: function(e) {
                    return e.value || e.id;
                  }
                },
                {
                  key: 'getOptionLabel',
                  value: function(e) {
                    return e.label || e.name;
                  }
                },
                {
                  key: 'render',
                  value: function() {
                    var e = this,
                      t = qt.t(
                        'asset_selector.placeholder',
                        'Select existing [[name]] or enter a new one',
                        {
                          name: this.props.name.toLocaleLowerCase(),
                          count: this.props.multi ? 1e3 : 1
                        }
                      ),
                      a = {
                        className: 'react-select ' + Ft.a.selection,
                        captureMenuScroll: !1,
                        value: this.state.entry.value,
                        components: { Option: Yt },
                        styles: this.getStyle(),
                        onChange: this.handleChanged,
                        onMenuOpen: this.handleMenuOpen,
                        onMenuClose: this.handleMenuClose,
                        onBlur: this.handleClearMessage,
                        menuShouldBlockScroll: !0,
                        isMulti: this.props.multi,
                        isDisabled: this.state.isLoading,
                        isLoading: this.state.isLoading,
                        isClearable: this.props.formClearable,
                        isSearchable: this.props.searchable,
                        getOptionValue: this.getOptionValue,
                        getOptionLabel: this.getOptionLabel,
                        placeholder: this.props.placeholder || t
                      };
                    if (this.props.createAssetFromInput) {
                      var n = $e(
                        '',
                        this.props.assets.items,
                        this.props.additionalOptions,
                        this.props.shouldExclude
                      );
                      return k.createElement(
                        jt,
                        {
                          name: this.props.name,
                          entry: this.props.entry,
                          showLabel: this.props.showLabel,
                          helpText: this.props.helpText,
                          hideError: this.state.menuOpen,
                          __className: Ft.a.ele
                        },
                        k.createElement(
                          Gt.a,
                          Object.assign({}, a, {
                            options: n.sort(this.props.sortFunction || Ct),
                            isValidNewOption: this.handleCheckValid,
                            formatCreateLabel: this.handleCreatePrompt,
                            getNewOptionData: this.handleGetNewOptionData,
                            onCreateOption: this.handleCreateOption
                          })
                        ),
                        this.state.message
                          ? k.createElement('div', { className: Ft.a.message }, this.state.message)
                          : null
                      );
                    }
                    var i = void 0 !== this.props.assets.endpoint;
                    return (
                      i ||
                        ((i = this.state.defaultOptions),
                        this.props.shouldExclude &&
                          (i = $e(
                            '',
                            this.props.assets.items,
                            this.props.additionalOptions,
                            this.props.shouldExclude
                          ))),
                      k.createElement(
                        jt,
                        {
                          name: this.props.name,
                          entry: this.props.entry,
                          showLabel: this.props.showLabel,
                          helpText: this.props.helpText,
                          hideError: this.state.menuOpen,
                          __className: Ft.a.ele
                        },
                        k.createElement(
                          Wt.a,
                          Object.assign({}, a, {
                            defaultOptions: i,
                            cacheOptions: !0,
                            loadOptions: this.handleLoadOptions,
                            noOptionsMessage: function(t) {
                              return (
                                e.props.noOptionsMessage || 'No '.concat(e.props.name, ' Found')
                              );
                            }
                          })
                        ),
                        this.state.message
                          ? k.createElement('div', { className: Ft.a.message }, this.state.message)
                          : null
                      )
                    );
                  }
                }
              ],
              [
                {
                  key: 'getDerivedStateFromProps',
                  value: function(e, t) {
                    var a = e.entry;
                    if (t.defaultOptions && a.value && !a.value.name) {
                      var n = t.defaultOptions.find(function(e) {
                        return e.id === a.value.id;
                      });
                      n && (a = { value: n });
                    }
                    return { entry: a };
                  }
                }
              ]
            ),
            a
          );
        })(k.Component),
        Xt = function(e) {
          return !!Ke.find(function(t) {
            return t === e;
          });
        },
        Jt = function(e, t) {
          return e.filter(function(e) {
            return (
              !(
                e.filter &&
                !(t.filters || []).find(function(t) {
                  return t === e.filter;
                })
              ) &&
              (void 0 === e.visibility ||
                e.visibility.findIndex(function(e) {
                  return e === t.flowType;
                }) > -1)
            );
          });
        },
        Zt = function(e, t) {
          return t.excludeTypes
            ? e.filter(function(e) {
                return !t.excludeTypes.includes(e.type);
              })
            : e;
        },
        $t = function(e, t) {
          return t.excludeOperators
            ? e.filter(function(e) {
                return !t.excludeOperators.includes(e.type);
              })
            : e;
        },
        ea = a(172),
        ta = a.n(ea),
        aa = a(119),
        na = a.n(aa);
      !(function(e) {
        (e.small = 'small'), (e.normal = 'normal');
      })(Ht || (Ht = {}));
      var ia = (function(e) {
          Object(g.a)(a, e);
          var t = Object(v.a)(a);
          function a(e) {
            var n;
            return (
              Object(m.a)(this, a),
              ((n = t.call(this, e)).selectbox = void 0),
              Object(b.react)(Object(f.a)(n), { include: [/^handle/] }),
              n
            );
          }
          return (
            Object(_.a)(a, [
              {
                key: 'getName',
                value: function(e) {
                  return this.props.nameKey in e
                    ? e[this.props.nameKey]
                    : 'label' in e
                    ? e.label
                    : e.name;
                }
              },
              {
                key: 'getValue',
                value: function(e) {
                  return e[this.props.valueKey || 'value'];
                }
              },
              {
                key: 'isMatch',
                value: function(e, t) {
                  var a = this;
                  return (
                    !(!e || !t) &&
                    (Array.isArray(e)
                      ? e.find(function(e) {
                          return a.getValue(e) === a.getValue(t);
                        })
                      : this.getValue(e) === this.getValue(t))
                  );
                }
              },
              {
                key: 'componentDidMount',
                value: function() {
                  var e = this;
                  this.selectbox.addEventListener('change', function(t) {
                    var a = (t.target.values || [t.target.value]).map(function(t) {
                      return e.props.options.find(function(a) {
                        return e.getValue(a) === t.value;
                      });
                    });
                    a.forEach(function(e) {
                      if (!e) throw new Error('No option found for selection');
                    }),
                      e.props.multi ? e.props.onChange(a) : e.props.onChange(a[0]);
                  });
                }
              },
              {
                key: 'render',
                value: function() {
                  var e = this;
                  return k.createElement(
                    'div',
                    {
                      className:
                        na.a[this.props.style || Ht.normal] +
                        ' ' +
                        (this.props.error ? na.a.error : '')
                    },
                    k.createElement(
                      'temba-select',
                      {
                        'data-testid': 'temba_select_'.concat(M(this.props.name)),
                        ref: function(t) {
                          e.selectbox = t;
                        },
                        placeholder: this.props.placeholder,
                        searchable: ie(this.props.searchable),
                        multi: ie(this.props.multi)
                      },
                      this.props.options.map(function(t) {
                        var a = e.isMatch(e.props.value, t) ? { selected: !0 } : {},
                          n = e.getValue(t),
                          i = e.getName(t);
                        return k.createElement(
                          'temba-option',
                          Object.assign({ key: e.props.name + '_' + n, name: i, value: n }, a)
                        );
                      })
                    )
                  );
                }
              }
            ]),
            a
          );
        })(k.Component),
        sa = (function(e) {
          Object(g.a)(a, e);
          var t = Object(v.a)(a);
          function a(e) {
            var n;
            return (
              Object(m.a)(this, a),
              ((n = t.call(this, e)).typeConfigs = void 0),
              (n.state = { config: n.props.initialType }),
              (n.handleChangeType = n.handleChangeType.bind(Object(f.a)(n))),
              n
            );
          }
          return (
            Object(_.a)(a, [
              {
                key: 'handleChangeType',
                value: function(e) {
                  var t = this;
                  this.setState({ config: e }, function() {
                    return t.props.onChange(e);
                  });
                }
              },
              {
                key: 'getTypeConfigs',
                value: function() {
                  var e, t;
                  return (
                    void 0 === this.typeConfigs &&
                      (this.typeConfigs = ((e = zo), (t = this.context.config), Jt(Zt(e, t), t))),
                    this.typeConfigs
                  );
                }
              },
              {
                key: 'render',
                value: function() {
                  return k.createElement(
                    'div',
                    { className: ''.concat(this.props.__className, ' ').concat(ta.a.type_list) },
                    k.createElement(
                      'p',
                      null,
                      qt.t(
                        'forms.type_label',
                        'When a contact arrives at this point in your flow...'
                      )
                    ),
                    k.createElement(
                      'div',
                      null,
                      k.createElement(ia, {
                        key: 'type_select',
                        name: 'type',
                        onChange: this.handleChangeType,
                        nameKey: 'description',
                        valueKey: 'type',
                        value: this.state.config,
                        options: this.getTypeConfigs(),
                        searchable: !0
                      })
                    )
                  );
                }
              }
            ]),
            a
          );
        })(k.PureComponent);
      sa.contextTypes = { config: yt };
      var ra,
        oa = a(16),
        la = a.n(oa),
        ca = function(e, t) {
          for (
            var a = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : [],
              n = e || {},
              i = 0,
              s = Object.keys(t);
            i < s.length;
            i++
          ) {
            var r = s[i],
              o = t[r];
            if (Array.isArray(o)) {
              var l,
                c = Object(C.a)(o);
              try {
                var u = function() {
                  var t = l.value,
                    a = t.hasOwnProperty('value') && 'object' === typeof t.value;
                  if ((a && t.value.uuid) || t.uuid) {
                    var i = e[r].findIndex(function(e) {
                      return a ? e.value.uuid === t.value.uuid : e.uuid === t.uuid;
                    });
                    n =
                      i > -1
                        ? la()(n, Object(O.a)({}, r, { $merge: Object(O.a)({}, i, t) }))
                        : la()(n, Object(O.a)({}, r, { $push: [t] }));
                  }
                };
                for (c.s(); !(l = c.n()).done; ) u();
              } catch (R) {
                c.e(R);
              } finally {
                c.f();
              }
              delete t[r];
            }
          }
          var d,
            p = Object(C.a)(
              a.filter(function(e) {
                return 'object' === typeof e;
              })
            );
          try {
            for (p.s(); !(d = p.n()).done; )
              for (var h = d.value, m = 0, _ = Object.keys(h); m < _.length; m++) {
                var f = _[m],
                  g = h[f];
                if (Array.isArray(g)) {
                  var v,
                    y = Object(C.a)(g);
                  try {
                    var b = function() {
                      var e = v.value,
                        t = e.hasOwnProperty('value') && 'object' === typeof e.value;
                      ((t && e.value.uuid) || e.uuid) &&
                        (n = la()(
                          n,
                          Object(O.a)({}, f, function(a) {
                            return a.filter(function(a) {
                              return t ? a.value.uuid !== e.value.uuid : a.uuid !== e.uuid;
                            });
                          })
                        ));
                    };
                    for (y.s(); !(v = y.n()).done; ) b();
                  } catch (R) {
                    y.e(R);
                  } finally {
                    y.f();
                  }
                }
              }
          } catch (R) {
            p.e(R);
          } finally {
            p.f();
          }
          var k = a.filter(function(e) {
            return 'string' === typeof e;
          });
          n = la()(n, { $merge: t, $unset: k });
          for (var E = !0, w = 0, S = Object.keys(e); w < S.length; w++) {
            var N = S[w],
              x = n[N];
            if (Array.isArray(x)) {
              var j,
                T = Object(C.a)(x);
              try {
                for (T.s(); !(j = T.n()).done; ) {
                  var A = j.value;
                  if (ht(A)) {
                    E = !1;
                    break;
                  }
                }
              } catch (R) {
                T.e(R);
              } finally {
                T.f();
              }
            } else if (x && 'object' === typeof x && ht(x)) {
              E = !1;
              break;
            }
          }
          return la()(n, { $merge: { valid: E } });
        },
        ua = { typeConfig: null, userAddingAction: !1, settings: null },
        da = function(e) {
          return { type: ye.UPDATE_NODE_EDITOR_SETTINGS, payload: { settings: e } };
        },
        pa = function(e) {
          return { type: ye.UPDATE_USER_ADDING_ACTION, payload: { userAddingAction: e } };
        },
        ha = Object(ge.combineReducers)({
          typeConfig: function() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : ua.typeConfig,
              t = arguments.length > 1 ? arguments[1] : void 0;
            switch (t.type) {
              case ye.UPDATE_TYPE_CONFIG:
                return t.payload.typeConfig;
              default:
                return e;
            }
          },
          userAddingAction: function() {
            var e =
                arguments.length > 0 && void 0 !== arguments[0]
                  ? arguments[0]
                  : ua.userAddingAction,
              t = arguments.length > 1 ? arguments[1] : void 0;
            switch (t.type) {
              case ye.UPDATE_USER_ADDING_ACTION:
                return t.payload.userAddingAction;
              default:
                return e;
            }
          },
          settings: function() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : ua.settings,
              t = arguments.length > 1 ? arguments[1] : void 0;
            switch (t.type) {
              case ye.UPDATE_NODE_EDITOR_SETTINGS:
                return t.payload.settings;
              default:
                return e;
            }
          }
        }),
        ma = a(173),
        _a = new RegExp(
          '^(?:(?:https?|ftp)://)(?:\\S+(?:u:\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))\\.?)(?::\\d{2,5})?(?:[/?#]\\S*)?$',
          'i'
        ),
        fa = function(e, t) {
          return function(a, n) {
            var i = (function(e) {
              var t = e;
              return 'string' === typeof e
                ? t + ''
                : (e && 'object' === typeof e && (t = e.name || void 0), t ? t + '' : null);
            })(n);
            return i && !e.test(i)
              ? { value: n, failures: [{ message: ''.concat(a, ' ').concat(t) }] }
              : { failures: [], value: n };
          };
        },
        ga = function(e, t, a) {
          var n = [],
            i = t;
          return (
            a.forEach(function(a) {
              var s = a(e, t);
              (i = s.value), (n = n.concat(s.failures));
            }),
            { value: i, validationFailures: n }
          );
        },
        va = function(e, t) {
          var a = qt.t('forms.is_not_finished', 'is not finished');
          if (t) return { value: t, failures: [{ message: ''.concat(e, ' ').concat(a) }] };
          if ('string' === typeof t) {
            if (0 !== t.trim().length)
              return { value: t, failures: [{ message: ''.concat(e, ' ').concat(a) }] };
          } else if (Array.isArray(t) && 0 !== t.length)
            return { value: t, failures: [{ message: ''.concat(e, ' ').concat(a) }] };
          return { failures: [], value: t };
        },
        ya = function(e, t) {
          var a = qt.t('forms.is_required', 'is required');
          if (!t) return { value: t, failures: [{ message: ''.concat(e, ' ').concat(a) }] };
          if ('string' === typeof t) {
            if (0 === t.trim().length)
              return { value: t, failures: [{ message: ''.concat(e, ' ').concat(a) }] };
          } else if (Array.isArray(t) && 0 === t.length)
            return {
              value: t,
              failures: [
                { message: ''.concat(e, ' ').concat(qt.t('forms.are_required', 'are required')) }
              ]
            };
          return { failures: [], value: t };
        },
        ba = function(e, t) {
          return function(a, n) {
            return 'string' === typeof n && parseFloat(n) <= e
              ? {
                  value: n,
                  failures: [{ message: ''.concat(a, ' must be a more than ').concat(t) }]
                }
              : { failures: [], value: n };
          };
        },
        ka = function(e) {
          return function(t, a) {
            return e ? ya(t, a) : { failures: [], value: a };
          };
        },
        Ea = function(e, t) {
          return function(a, n) {
            return t ? e(a, n) : { failures: [], value: n };
          };
        },
        Ca = function(e, t) {
          return 'string' === typeof t && t.trim().length > 0 && !ma.validateHeaderName(t)
            ? { failures: [{ message: 'Invalid header name' }], value: t }
            : { failures: [], value: t };
        },
        wa =
          ((ra = 10),
          function(e, t) {
            return Array.isArray(t) && t.length > ra
              ? {
                  value: t,
                  failures: [
                    { message: ''.concat(e, ' cannot have more than ').concat(ra, ' entries') }
                  ]
                }
              : { failures: [], value: t };
          }),
        Oa = fa(/^(?!\d)/, "can't start with a number"),
        Sa = fa(_a, 'is not a valid URL'),
        Na = fa(/^([-+]?((\.\d+)|(\d+)(\.\d+)?)$)/, 'must be a number'),
        xa = fa(/^[a-z\d\-_\s]+$/i, 'can only have letters and numbers'),
        ja = fa(/^@.*$|^([-+]?((\.\d+)|(\d+)(\.\d+)?)$)/, 'must be a number'),
        Ta = function(e, t) {
          return e
            .filter(function(e) {
              return e.type === t;
            })
            .map(function(e) {
              return { uuid: e.id, name: e.name };
            });
        },
        Aa = (function(e) {
          Object(g.a)(a, e);
          var t = Object(v.a)(a);
          function a(e) {
            var n, i;
            return (
              Object(m.a)(this, a),
              ((n = t.call(this, e)).state =
                (i = n.props.nodeSettings).originalAction &&
                i.originalAction.type === ke.add_input_labels
                  ? {
                      labels: {
                        value: i.originalAction.labels.map(function(e) {
                          return { id: e.uuid, name: e.name, type: ve.Label };
                        })
                      },
                      valid: !0
                    }
                  : { labels: { value: [] }, valid: !1 }),
              Object(b.react)(Object(f.a)(n), { include: [/^on/, /^handle/] }),
              n
            );
          }
          return (
            Object(_.a)(a, [
              {
                key: 'handleSave',
                value: function() {
                  var e, t;
                  if (this.handleLabelsChanged(this.state.labels.value, !0)) {
                    var a =
                      ((e = this.props.nodeSettings),
                      (t = this.state),
                      {
                        type: ke.add_input_labels,
                        labels: Ta(t.labels.value, ve.Label),
                        uuid: lt(e, ke.add_input_labels)
                      });
                    this.props.updateAction(a), this.props.onClose(!1);
                  }
                }
              },
              {
                key: 'handleLabelsChanged',
                value: function(e) {
                  var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1],
                    a = { labels: ga(qt.t('forms.labels', 'Labels'), e, [ka(t)]) },
                    n = ca(this.state, a);
                  return this.setState(n), n.valid;
                }
              },
              {
                key: 'getButtons',
                value: function() {
                  var e = this;
                  return {
                    primary: { name: qt.t('buttons.ok', 'Ok'), onClick: this.handleSave },
                    secondary: {
                      name: qt.t('buttons.cancel', 'Cancel'),
                      onClick: function() {
                        return e.props.onClose(!0);
                      }
                    }
                  };
                }
              },
              {
                key: 'handleCreateAssetFromInput',
                value: function(e) {
                  return { name: e };
                }
              },
              {
                key: 'handleLabelCreated',
                value: function(e) {
                  this.props.addAsset('labels', e),
                    this.handleLabelsChanged(this.state.labels.value.concat(e));
                }
              },
              {
                key: 'render',
                value: function() {
                  var e = this.props.typeConfig;
                  return k.createElement(
                    me,
                    { title: e.name, headerClass: e.type, buttons: this.getButtons() },
                    k.createElement(sa, {
                      __className: '',
                      initialType: e,
                      onChange: this.props.onTypeChange
                    }),
                    k.createElement(
                      'p',
                      { 'data-spec': 'label' },
                      k.createElement(
                        De.a,
                        { i18nKey: 'forms.add_labels_summary' },
                        'Select the labels to apply to the incoming message.'
                      )
                    ),
                    k.createElement(Qt, {
                      name: qt.t('forms.labels', 'Labels'),
                      placeholder: qt.t(
                        'enter_to_create_label',
                        'Enter the name of an existing label or create a new one'
                      ),
                      assets: this.props.assetStore.labels,
                      entry: this.state.labels,
                      searchable: !0,
                      multi: !0,
                      onChange: this.handleLabelsChanged,
                      createPrefix: qt.t('create_label', 'Create Label') + ': ',
                      createAssetFromInput: this.handleCreateAssetFromInput,
                      onAssetCreated: this.handleLabelCreated
                    }),
                    rt(this.props)
                  );
                }
              }
            ]),
            a
          );
        })(k.PureComponent);
      Aa.contextTypes = { assetService: yt };
      var Ra,
        Ua = function(e) {
          return Lo.find(function(t) {
            return t.scheme === e;
          });
        },
        Da = function(e) {
          return Fa(Ua(e));
        },
        Fa = function(e) {
          return { value: e.scheme, label: e.path };
        },
        Pa = function(e) {
          var t = e.scheme,
            a = e.path,
            n = Ua(t),
            i = n ? n.path : t;
          return k.createElement(k.Fragment, null, qt.t('add', 'Add'), ' ', i, ' ', q(a));
        },
        Ia = (function(e) {
          Object(g.a)(a, e);
          var t = Object(v.a)(a);
          function a() {
            return Object(m.a)(this, a), t.apply(this, arguments);
          }
          return (
            Object(_.a)(a, [
              {
                key: 'render',
                value: function() {
                  return k.createElement(
                    jt,
                    { name: this.props.name, entry: this.props.entry },
                    k.createElement(ia, {
                      key: this.props.name + '_select',
                      name: this.props.name,
                      placeholder: this.props.placeholder,
                      onChange: this.props.onChange,
                      value: this.props.entry.value,
                      options: this.props.options,
                      searchable: !1,
                      error: ht(this.props.entry),
                      style: this.props.style,
                      multi: this.props.multi
                    })
                  );
                }
              }
            ]),
            a
          );
        })(k.Component),
        La = a(120),
        Ma = a.n(La),
        za = function(e) {
          var t,
            a = e.unicodeChars,
            n = Object.keys(a);
          return K(n.length > 0)(
            k.createElement(
              'span',
              { 'data-testid': 'unicode-list-container' },
              ((t = n.length),
              ' Note that your message may require more segments to send because it contains the following '.concat(
                ee(t, 'character'),
                ':'
              )),
              k.createElement(
                'div',
                { className: Ma.a.unicode_list, 'data-testid': 'unicode-list' },
                n.map(function(e, t) {
                  return k.createElement('span', { key: e, className: Ma.a.unicode_char }, e);
                })
              )
            )
          );
        },
        Ba = a(64),
        Va = a.n(Ba),
        Ha = Ot.a.bind(Va.a),
        qa = function(e) {
          var t,
            a = e.count,
            n = e.parts,
            i = e.unicodeChars,
            s = Object.keys(i).length > 0,
            r = Ha(
              ((t = {}), Object(O.a)(t, Va.a.tooltip_text, !0), Object(O.a)(t, Va.a.unicode, s), t)
            );
          return E.a.createElement(
            'div',
            { className: Va.a.count },
            E.a.createElement(
              'div',
              { className: Va.a.tooltip },
              a,
              E.a.createElement('span', { className: Va.a.divider }, '/'),
              n,
              E.a.createElement(
                'span',
                { className: r },
                'This message will be about ',
                E.a.createElement('b', null, a),
                ' ',
                ee(a, 'character'),
                ' long. We estimate it will take ',
                E.a.createElement('b', null, n),
                ' ',
                ee(n, 'message'),
                ' to send over SMS.',
                s && E.a.createElement(za, { unicodeChars: i }),
                E.a.createElement(
                  'div',
                  { className: Va.a.fine_print },
                  'Using variables may result in longer messages that require more messages to send over SMS.'
                )
              )
            )
          );
        };
      !(function(e) {
        (e.KEY_AT = '@'),
          (e.KEY_SPACE = ' '),
          (e.KEY_ENTER = 'Enter'),
          (e.KEY_UP = 'ArrowUp'),
          (e.KEY_DOWN = 'ArrowDown'),
          (e.KEY_RIGHT = 'ArrowRight'),
          (e.KEY_LEFT = 'ArrowLeft'),
          (e.KEY_TAB = 'Tab'),
          (e.KEY_ESC = 'Escape'),
          (e.KEY_BACKSPACE = 'Backspace'),
          (e.KEY_N = 'n'),
          (e.KEY_P = 'p'),
          (e.KEY_F = 'f'),
          (e.KEY_B = 'b');
      })(Ra || (Ra = {}));
      var Ka,
        Ga = {
          0: 48,
          1: 49,
          2: 50,
          3: 51,
          4: 52,
          5: 53,
          6: 54,
          7: 55,
          8: 56,
          9: 57,
          '\n': 10,
          '\f': 12,
          '\r': 13,
          ' ': 32,
          '!': 33,
          '"': 34,
          '#': 35,
          $: 36,
          '%': 37,
          '&': 38,
          "'": 39,
          '(': 40,
          ')': 41,
          '*': 42,
          '+': 43,
          ',': 44,
          '-': 45,
          '.': 46,
          '/': 47,
          ':': 58,
          ';': 59,
          '<': 60,
          '=': 61,
          '>': 62,
          '?': 63,
          '@': 64,
          A: 65,
          B: 66,
          C: 67,
          D: 68,
          E: 69,
          F: 70,
          G: 71,
          H: 72,
          I: 73,
          J: 74,
          K: 75,
          L: 76,
          M: 77,
          N: 78,
          O: 79,
          P: 80,
          Q: 81,
          R: 82,
          S: 83,
          T: 84,
          U: 85,
          V: 86,
          W: 87,
          X: 88,
          Y: 89,
          Z: 90,
          '[': 91,
          '\\': 92,
          ']': 93,
          '^': 94,
          _: 95,
          a: 97,
          b: 98,
          c: 99,
          d: 100,
          e: 101,
          f: 102,
          g: 103,
          h: 104,
          i: 105,
          j: 106,
          k: 107,
          l: 108,
          m: 109,
          n: 110,
          o: 111,
          p: 112,
          q: 113,
          r: 114,
          s: 115,
          t: 116,
          u: 117,
          v: 118,
          w: 119,
          x: 120,
          y: 121,
          z: 122,
          '{': 123,
          '|': 124,
          '}': 125,
          '~': 126,
          '\xa1': 161,
          '\xa3': 163,
          '\xa4': 164,
          '\xa5': 165,
          '\xa7': 167,
          '\xbf': 191,
          : 196,
          : 197,
          : 198,
          : 199,
          : 201,
          : 209,
          : 214,
          : 216,
          : 220,
          : 223,
          : 224,
          : 228,
          : 229,
          : 230,
          : 232,
          : 233,
          : 236,
          : 241,
          : 242,
          : 246,
          : 248,
          : 249,
          : 252,
          : 915,
          : 916,
          : 920,
          : 923,
          : 926,
          : 928,
          : 931,
          : 934,
          : 936,
          : 937,
          '\u20ac': 8364
        },
        Wa = function(e, t, a) {
          var n = e.substring(1);
          if ('(' === n[0]) return !0;
          var i = n.split('.')[0].toLowerCase();
          if (!a) return t.indexOf(i) >= 0;
          var s,
            r,
            o = Object(C.a)(t);
          try {
            for (o.s(); !(s = o.n()).done; ) {
              var l = s.value;
              if (((r = i), 0 === l.indexOf(r, 0))) return !0;
            }
          } catch (c) {
            o.e(c);
          } finally {
            o.f();
          }
          return !1;
        },
        Ya = function(e) {
          return (
            (e >= 'a' && e <= 'z') || (e >= 'A' && e <= 'Z') || (e >= '0' && e <= '9') || '_' === e
          );
        },
        Qa = function(e) {
          var t,
            a = 0,
            n = Object(C.a)(e);
          try {
            for (n.s(); !(t = n.n()).done; ) {
              '"' === t.value && a++;
            }
          } catch (i) {
            n.e(i);
          } finally {
            n.f();
          }
          return a % 2 !== 0;
        },
        Xa = (function() {
          function e(t, a) {
            Object(m.a)(this, e),
              (this.expressionPrefix = void 0),
              (this.allowedTopLevels = void 0),
              (this.expressionPrefix = t),
              (this.allowedTopLevels = a);
          }
          return (
            Object(_.a)(e, [
              {
                key: 'expressionContext',
                value: function(e) {
                  var t = this.findExpressions(e);
                  if (0 === t.length) return null;
                  var a = t[t.length - 1];
                  return a.end < e.length || a.closed ? null : a.text.substring(1);
                }
              },
              {
                key: 'autoCompleteContext',
                value: function(e) {
                  if (Qa(e)) return null;
                  for (var t = [], a = '', n = !1, i = !1, s = '', r = e.length - 1; r >= 0; r--) {
                    var o = e[r];
                    if (
                      (' ' === o && (n = !0),
                      ',' === o && ((n = !0), '(' !== t[t.length - 1] && t.push('(')),
                      ')' !== o || i || ((n = !0), t.push('('), t.push('(')),
                      '"' === o && (i = !i),
                      n &&
                        ('(' !== o ||
                          i ||
                          ('(' === t[t.length - 1] && t.pop(), 0 === t.length && (n = !1))),
                      '(' === o && '' === a && (s = '#'),
                      !(n || i || ('(' === o && '' === a)))
                    ) {
                      if (!Ya(o) && '.' !== o) break;
                      a = o + a;
                    }
                  }
                  return a.match(/[A-Za-z][\w]*(\.[\w]+)*/) ? s + a : null;
                }
              },
              {
                key: 'functionContext',
                value: function(e) {
                  for (
                    var t = Qa(e) ? 4 : 6, a = '', n = '(' === e[-1] ? 0 : 1, i = e.length - 1;
                    i >= 0;
                    i--
                  ) {
                    var s = e[i];
                    if ('@' === s) return '';
                    if (6 === t)
                      0 !== n || (!Ya(s) && '.' !== s)
                        ? '"' === s
                          ? (t = 4)
                          : '(' === s
                          ? n--
                          : ')' === s && n++
                        : ((t = 2), (a = s + a));
                    else if (2 === t) {
                      if (!Ya(s) && '.' !== s) return a;
                      a = s + a;
                    } else 4 === t && '"' === s && (t = 6);
                  }
                  return '';
                }
              },
              {
                key: 'getContactFields',
                value: function(e) {
                  var t,
                    a = {},
                    n = /((parent|child\.)*contact\.)*fields\.([a-z0-9_]+)/g,
                    i = this.findExpressions(e),
                    s = Object(C.a)(i);
                  try {
                    for (s.s(); !(t = s.n()).done; ) {
                      var r = t.value;
                      if (!(r.text.indexOf('webhook') > -1))
                        for (var o = void 0; (o = n.exec(r.text)); ) a[o[3]] = !0;
                    }
                  } catch (l) {
                    s.e(l);
                  } finally {
                    s.f();
                  }
                  return Object.keys(a);
                }
              },
              {
                key: 'findExpressions',
                value: function(e) {
                  for (var t = [], a = 0, n = null, i = 0, s = 0; s < e.length; s++) {
                    var r = e[s],
                      o = s < e.length - 1 ? e[s + 1] : 0,
                      l = s < e.length - 2 ? e[s + 2] : 0;
                    if (
                      (0 === a
                        ? r !== this.expressionPrefix || (!Ya(o) && '(' !== o)
                          ? r === this.expressionPrefix && o === this.expressionPrefix && (a = 5)
                          : ((a = 1), (n = { start: s, end: null, text: r, closed: !1 }))
                        : 1 === a
                        ? (Ya(r) ? (a = 2) : '(' === r && ((a = 3), (i += 1)), (n.text += r))
                        : 2 === a
                        ? (n.text += r)
                        : 3 === a
                        ? ('(' === r ? (i += 1) : ')' === r ? (i -= 1) : '"' === r && (a = 4),
                          (n.text += r),
                          0 === i && (n.end = s + 1))
                        : 4 === a
                        ? ('"' === r && (a = 3), (n.text += r))
                        : 5 === a && (a = 0),
                      2 === a &&
                        ((!Ya(o) && '.' !== o) || ('.' === o && !Ya(l))) &&
                        (n.end = s + 1),
                      null != n && (null != n.end || 0 === o))
                    ) {
                      var c = 0 === o;
                      Wa(n.text, this.allowedTopLevels, c) &&
                        ((n.closed = '(' === n.text[1] && 0 === i), (n.end = s + 1), t.push(n)),
                        (n = null),
                        (a = 0);
                    }
                  }
                  return t;
                }
              }
            ]),
            e
          );
        })(),
        Ja = a(174),
        Za = function(e) {
          var t,
            a,
            n = {},
            i = Object(C.a)(e);
          try {
            for (i.s(); !(t = i.n()).done; ) {
              var s = t.value;
              (a = s), Ga.hasOwnProperty(a) || (n[s] = !0);
            }
          } catch (r) {
            i.e(r);
          } finally {
            i.f();
          }
          return n;
        },
        $a = function(e, t) {
          var a = e;
          a.constructor === Array && (a = a[0]),
            t &&
              (a = a
                .replace(/[\u2018\u2019]/g, "'")
                .replace(/[\u201C\u201D]/g, '"')
                .replace(/[\u2013\u2014]/g, '-')
                .replace(/\u2026/g, '...')
                .replace(/\u2002/g, ' '));
          var n = Object(Ja.split)(a);
          return { value: a, parts: n.parts, characterCount: n.length, unicodeChars: Za(a) };
        },
        en = a(32),
        tn = a(122),
        an = a.n(tn),
        nn = a(33),
        sn = a.n(nn),
        rn = a(244);
      !(function(e) {
        e.SMS = 'SMS';
      })(Ka || (Ka = {}));
      var on = {
          caretCoordinates: { left: 0, top: 0 },
          completionVisible: !1,
          selectedOptionIndex: 0,
          matches: [],
          query: ''
        },
        ln = Ot.a.bind(Object(y.a)(Object(y.a)({}, sn.a), Nt.a)),
        cn = (function(e) {
          Object(g.a)(a, e);
          var t = Object(v.a)(a);
          function a(e) {
            var n;
            Object(m.a)(this, a),
              ((n = t.call(this, e)).selectedEl = void 0),
              (n.textEl = void 0),
              (n.parser = void 0),
              (n.nextCaret = -1),
              (n.completion = void 0),
              (n.completion = { schema: n.props.completionSchema, assetStore: n.props.assetStore });
            var i = '';
            return (
              n.props.entry && n.props.entry.value && (i = n.props.entry.value),
              (n.state = Object(y.a)(
                Object(y.a)({ value: i }, on),
                n.props.count && n.props.count === Ka.SMS ? $a(i) : {}
              )),
              (n.parser = new Xa('@', [
                'contact',
                'child',
                'fields',
                'globals',
                'input',
                'parent',
                'results',
                'run',
                'trigger',
                'urns',
                'webhook'
              ])),
              Object(b.react)(Object(f.a)(n), {
                include: [/^on/, /Ref$/, 'setSelection', 'validate', /^has/, /^handle/]
              }),
              n
            );
          }
          return (
            Object(_.a)(a, [
              {
                key: 'selectedElRef',
                value: function(e) {
                  return (this.selectedEl = e);
                }
              },
              {
                key: 'textElRef',
                value: function(e) {
                  return (this.textEl = e);
                }
              },
              {
                key: 'UNSAFE_componentWillReceiveProps',
                value: function(e) {
                  var t = this;
                  (e.entry.value !== this.props.entry.value || this.nextCaret > -1) &&
                    this.setState({ value: e.entry.value }, function() {
                      t.nextCaret > -1 &&
                        ((t.textEl.selectionStart = t.nextCaret),
                        (t.textEl.selectionEnd = t.nextCaret),
                        (t.nextCaret = -1));
                    });
                }
              },
              {
                key: 'componentDidMount',
                value: function() {
                  return this.props.focus && this.focusInput();
                }
              },
              {
                key: 'componentDidUpdate',
                value: function(e) {
                  this.selectedEl &&
                    this.selectedEl.scrollIntoView &&
                    this.selectedEl.scrollIntoView(!1);
                }
              },
              {
                key: 'handleKeyDown',
                value: function(e) {
                  var t = this;
                  if (
                    this.props.autocomplete &&
                    (e.key !== Ra.KEY_ENTER || !this.props.onEnter || !this.props.onEnter(e))
                  )
                    switch (e.key) {
                      case Ra.KEY_SPACE:
                        e.ctrlKey &&
                          this.reevaluate(
                            e.currentTarget.value,
                            e.currentTarget.selectionStart,
                            !0
                          );
                        break;
                      case Ra.KEY_P:
                        e.ctrlKey &&
                          this.state.completionVisible &&
                          (this.setSelection(this.state.selectedOptionIndex - 1),
                          e.preventDefault());
                        break;
                      case Ra.KEY_UP:
                        this.state.completionVisible &&
                          (this.setSelection(this.state.selectedOptionIndex - 1),
                          e.preventDefault());
                        break;
                      case Ra.KEY_N:
                        e.ctrlKey &&
                          this.state.completionVisible &&
                          (this.setSelection(this.state.selectedOptionIndex + 1),
                          e.preventDefault());
                        break;
                      case Ra.KEY_DOWN:
                        return void (
                          this.state.completionVisible &&
                          (this.setSelection(this.state.selectedOptionIndex + 1),
                          e.preventDefault())
                        );
                      case Ra.KEY_AT:
                        return void this.setState({
                          completionVisible: !0,
                          caretCoordinates: an()(this.textEl, this.textEl.selectionEnd)
                        });
                      case Ra.KEY_ESC:
                        return void (
                          this.state.completionVisible &&
                          (this.setState({ completionVisible: !1 }),
                          e.preventDefault(),
                          e.stopPropagation())
                        );
                      case Ra.KEY_TAB:
                      case Ra.KEY_ENTER:
                        var a = e.currentTarget.selectionStart;
                        if (this.state.completionVisible && this.state.matches.length > 0) {
                          var n = this.state.matches[this.state.selectedOptionIndex],
                            i = this.state.value.substr(0, a - this.state.query.length);
                          if (n.signature) {
                            var s = 1;
                            n.signature.indexOf('()') > -1 && s++,
                              (i += n.signature.substring(0, n.signature.indexOf('(') + s));
                          } else i += n.name;
                          var r,
                            o = i.length,
                            l = Object(C.a)(this.state.value.substr(a));
                          try {
                            for (l.s(); !(r = l.n()).done; ) {
                              var c = r.value;
                              if (!Ya(c) && '.' !== c) break;
                              a++;
                            }
                          } catch (m) {
                            l.e(m);
                          } finally {
                            l.f();
                          }
                          i += this.state.value.substr(a);
                          var u = null,
                            d = '',
                            p = !1,
                            h = [];
                          return (
                            (e.key === Ra.KEY_TAB || n.signature) &&
                              ((d = n.name),
                              h.push.apply(
                                h,
                                Object(fe.a)(It(this.completion, d)).concat(
                                  Object(fe.a)(Pt(this.props.functions, d))
                                )
                              ),
                              (p = h.length > 0),
                              n.signature && -1 === n.signature.indexOf('()') && (u = n)),
                            this.setState(
                              {
                                fn: u,
                                query: d,
                                value: i,
                                matches: h,
                                completionVisible: p,
                                selectedOptionIndex: 0
                              },
                              function() {
                                t.props.onChange && t.props.onChange(t.state.value, t.props.name),
                                  (t.nextCaret = o);
                              }
                            ),
                            e.preventDefault(),
                            void e.stopPropagation()
                          );
                        }
                        return void (this.props.onEnter && this.props.onEnter(e));
                      case Ra.KEY_BACKSPACE:
                        return void this.executeQuery(
                          e.currentTarget.value,
                          e.currentTarget.selectionStart - 1
                        );
                    }
                }
              },
              {
                key: 'reevaluate',
                value: function(e, t) {
                  var a = arguments.length > 2 && void 0 !== arguments[2] && arguments[2];
                  (this.state.completionVisible || a) && this.setState(this.executeQuery(e, t));
                }
              },
              {
                key: 'handleKeyUp',
                value: function(e) {
                  if (e.currentTarget) {
                    var t = e.currentTarget,
                      a = t.value,
                      n = t.selectionStart;
                    switch (e.key) {
                      case Ra.KEY_P:
                      case Ra.KEY_N:
                        if (this.state.completionVisible && e.ctrlKey) return;
                        return void this.reevaluate(a, n);
                      case Ra.KEY_F:
                      case Ra.KEY_B:
                        return void this.reevaluate(a, n);
                      case Ra.KEY_RIGHT:
                      case Ra.KEY_LEFT:
                        return void this.reevaluate(a, n);
                      case Ra.KEY_UP:
                      case Ra.KEY_DOWN:
                        if (this.state.completionVisible) return;
                        this.reevaluate(a, n);
                    }
                  }
                }
              },
              {
                key: 'handleClick',
                value: function(e) {
                  if (e.currentTarget) {
                    var t = e.currentTarget,
                      a = t.value,
                      n = t.selectionStart;
                    this.reevaluate(a, n);
                  }
                }
              },
              {
                key: 'handleBlur',
                value: function(e) {
                  var t = this;
                  this.setState(
                    { query: '', matches: [], selectedOptionIndex: 0, completionVisible: !1 },
                    function() {
                      return t.props.onBlur && t.props.onBlur(e);
                    }
                  );
                }
              },
              {
                key: 'executeQuery',
                value: function(e, t) {
                  var a = this.parser.expressionContext(e.substr(0, t)),
                    n = null;
                  if (null !== a) {
                    var i = a.startsWith('(');
                    if (i) {
                      var s = this.parser.functionContext(a);
                      if (s) {
                        var r = Pt(this.props.functions, s);
                        r.length > 0 && (n = r[0]);
                      }
                    }
                    for (var o = a.length; o >= 0; o--) {
                      var l = a[o];
                      if ('@' === l || '(' === l || ' ' === l || 0 === o) {
                        if (('(' === l || ' ' === l) && (o++, !i)) return { completionVisible: !1 };
                        var c = a.substr(o, a.length - o),
                          u = It(this.completion, c);
                        return (
                          i && u.push.apply(u, Object(fe.a)(Pt(this.props.functions, c))),
                          {
                            query: c,
                            matches: u,
                            completionVisible: u.length > 0,
                            selectedOptionIndex: 0,
                            caretCoordinates: an()(this.textEl, t - c.length),
                            fn: n,
                            value: e
                          }
                        );
                      }
                    }
                  }
                  return {
                    value: e,
                    query: null,
                    completionVisible: !1,
                    matches: [],
                    selectedOptionIndex: 0
                  };
                }
              },
              {
                key: 'handleChange',
                value: function(e) {
                  var t = e.currentTarget,
                    a = t.value,
                    n = t.selectionStart,
                    i = this.executeQuery(a, n);
                  if (this.props.autocomplete) {
                    if (this.props.count === Ka.SMS) {
                      var s = $a(a, !0),
                        r = s.parts,
                        o = s.characterCount,
                        l = s.unicodeChars;
                      (i.parts = r), (i.characterCount = o), (i.unicodeChars = l);
                    }
                    (i.selectedOptionIndex = 0), this.setState(i);
                  }
                  this.props.onChange && this.props.onChange(a, this.props.name);
                }
              },
              {
                key: 'setSelection',
                value: function(e) {
                  var t = e;
                  e >= this.state.matches.length && (t = this.state.matches.length - 1),
                    e < 0 && (t = 0),
                    t !== this.state.selectedOptionIndex &&
                      this.setState({ selectedOptionIndex: t });
                }
              },
              {
                key: 'focusInput',
                value: function() {
                  var e = this.textEl.value.length;
                  this.textEl.focus(), (this.textEl.selectionStart = e);
                }
              },
              {
                key: 'getOption',
                value: function(e) {
                  var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1],
                    a = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0,
                    n = Lt(e),
                    i = null,
                    s = null;
                  return (
                    t &&
                      (i = k.createElement(
                        'div',
                        { 'data-spec': 'option-summary', className: sn.a.option_summary },
                        k.createElement(rn, { source: e.summary })
                      )),
                    e.examples &&
                      a > 0 &&
                      (s = k.createElement(
                        'div',
                        { 'data-spec': 'option-example', className: sn.a.option_examples },
                        k.createElement(
                          'div',
                          { className: sn.a.example_header },
                          'EXAMPLE',
                          1 !== a ? 'S' : ''
                        ),
                        k.createElement(
                          'div',
                          { className: sn.a.example },
                          e.examples.slice(0, a).map(function(t, a) {
                            return k.createElement(
                              'div',
                              { key: e.name + '_example_' + a },
                              ' ',
                              t.template
                            );
                          })
                        )
                      )),
                    k.createElement(
                      k.Fragment,
                      null,
                      k.createElement(
                        'div',
                        { 'data-spec': 'option-name', className: sn.a.option_name },
                        e.signature
                          ? k.createElement('div', { className: sn.a.fn_marker }, '\u0192')
                          : null,
                        n,
                        t && e.signature
                          ? k.createElement('div', { className: sn.a.option_signature }, Mt(e))
                          : null
                      ),
                      i,
                      s
                    )
                  );
                }
              },
              {
                key: 'getOptions',
                value: function() {
                  var e = this;
                  return this.state.matches.map(function(t, a) {
                    var n = [sn.a.option];
                    return a === e.state.selectedOptionIndex
                      ? (n.push(sn.a.selected),
                        0 === a && n.push(sn.a.first_option),
                        k.createElement(
                          'li',
                          {
                            ref: e.selectedElRef,
                            className: n.join(' '),
                            key: t.signature || t.name
                          },
                          e.getOption(t, !0, 1)
                        ))
                      : k.createElement(
                          'li',
                          { className: n.join(' '), key: t.signature || t.name },
                          e.getOption(t, !1)
                        );
                  });
                }
              },
              {
                key: 'getScroll',
                value: function() {
                  return this.textEl ? this.textEl.scrollTop : 0;
                }
              },
              {
                key: 'getError',
                value: function() {
                  return this.props.entry.validationFailures &&
                    this.props.entry.validationFailures.length > 0
                    ? this.props.entry.validationFailures[0].message
                    : null;
                }
              },
              {
                key: 'getTextElement',
                value: function() {
                  var e,
                    t = ln(
                      ((e = {}),
                      Object(O.a)(e, sn.a.textinput, !0),
                      Object(O.a)(
                        e,
                        Nt.a.invalid,
                        ht(this.props.entry) || !0 === this.props.showInvalid
                      ),
                      e)
                    ),
                    a = this.state.value;
                  return (
                    this.props.entry && (a = this.props.entry.value),
                    this.props.textarea
                      ? k.createElement('textarea', {
                          name: this.props.name,
                          'data-spec': 'input',
                          'data-testid': 'input',
                          ref: this.textElRef,
                          className: t,
                          value: a,
                          onClick: this.handleClick,
                          onChange: this.handleChange,
                          onBlur: this.handleBlur,
                          onKeyDown: this.handleKeyDown,
                          onKeyUp: this.handleKeyUp,
                          placeholder: this.props.placeholder,
                          maxLength: this.props.maxLength || -1
                        })
                      : k.createElement('input', {
                          name: this.props.name,
                          'data-spec': 'input',
                          'data-testid': 'input',
                          ref: this.textElRef,
                          type: 'text',
                          className: t,
                          value: a,
                          onClick: this.handleClick,
                          onChange: this.handleChange,
                          onBlur: this.handleBlur,
                          onKeyDown: this.handleKeyDown,
                          onKeyUp: this.handleKeyUp,
                          placeholder: this.props.placeholder,
                          maxLength: this.props.maxLength || -1
                        })
                  );
                }
              },
              {
                key: 'render',
                value: function() {
                  var e,
                    t,
                    a = ln(
                      ((e = {}),
                      Object(O.a)(e, sn.a.completion_container, !0),
                      Object(O.a)(
                        e,
                        sn.a.hidden,
                        !this.state.completionVisible || 0 === this.state.matches.length
                      ),
                      e)
                    ),
                    n = ln(
                      ((t = {}),
                      Object(O.a)(t, sn.a.fn_container, !0),
                      Object(O.a)(
                        t,
                        sn.a.hidden,
                        !this.state.completionVisible || 0 === this.state.matches.length
                      ),
                      t)
                    ),
                    i = this.getOptions(),
                    s =
                      this.props.count && this.props.count === Ka.SMS
                        ? k.createElement(qa, {
                            count: this.state.characterCount,
                            parts: this.state.parts.length,
                            unicodeChars: this.state.unicodeChars
                          })
                        : null,
                    r =
                      ht(this.props.entry) &&
                      'Message' === this.props.name &&
                      (this.props.typeConfig.type === ke.send_msg ||
                        this.props.typeConfig.type === ke.send_broadcast),
                    o = this.state.fn && !this.state.query;
                  return k.createElement(
                    jt,
                    {
                      __className: this.props.__className,
                      name: this.props.name,
                      helpText: this.props.helpText,
                      showLabel: this.props.showLabel,
                      entry: this.props.entry,
                      sendMsgError: r
                    },
                    k.createElement(
                      'div',
                      { className: sn.a.wrapper },
                      this.getTextElement(),
                      k.createElement(
                        'div',
                        {
                          className: a,
                          style: {
                            top: this.state.caretCoordinates.top - this.getScroll(),
                            left: this.state.caretCoordinates.left
                          },
                          'data-spec': 'completion-options'
                        },
                        k.createElement(
                          'div',
                          { className: sn.a.options_wrapper },
                          k.createElement(
                            'ul',
                            { className: sn.a.option_list, 'data-spec': 'completion-list' },
                            i
                          ),
                          k.createElement(
                            'div',
                            { className: sn.a.help, 'data-spec': 'completion-help' },
                            'Tab to complete, enter to select'
                          )
                        ),
                        o
                          ? k.createElement(
                              'div',
                              { className: n },
                              this.getOption(this.state.fn, !0, 3)
                            )
                          : null
                      )
                    ),
                    s
                  );
                }
              }
            ]),
            a
          );
        })(k.Component),
        un = Object(en.b)(
          function(e) {
            var t = e.flowContext.assetStore,
              a = e.editorState,
              n = a.completionSchema,
              i = a.functions;
            return {
              typeConfig: e.nodeEditor.typeConfig,
              assetStore: t,
              completionSchema: n,
              functions: i
            };
          },
          null,
          null,
          { forwardRef: !0 }
        )(cn),
        dn = a(123),
        pn = a.n(dn),
        hn = (function(e) {
          Object(g.a)(a, e);
          var t = Object(v.a)(a);
          function a(e) {
            var n;
            return (
              Object(m.a)(this, a),
              ((n = t.call(this, e)).state = (function(e) {
                if (e.originalAction && e.originalAction.type === ke.add_contact_urn) {
                  var t = e.originalAction,
                    a = t.scheme,
                    n = t.path;
                  return { scheme: { value: Da(a) }, path: { value: n }, valid: !0 };
                }
                return { scheme: { value: Da('tel') }, path: { value: '' }, valid: !1 };
              })(n.props.nodeSettings)),
              Object(b.react)(Object(f.a)(n), { include: [/^handle/] }),
              n
            );
          }
          return (
            Object(_.a)(a, [
              {
                key: 'handleSave',
                value: function() {
                  var e, t;
                  if (this.handlePathChanged(this.state.path.value, null, !0)) {
                    var a =
                      ((e = this.props.nodeSettings),
                      (t = this.state),
                      {
                        type: ke.add_contact_urn,
                        uuid: lt(e, ke.add_input_labels),
                        scheme: t.scheme.value.value,
                        path: t.path.value
                      });
                    this.props.updateAction(a), this.props.onClose(!1);
                  }
                }
              },
              {
                key: 'handleSchemeChanged',
                value: function(e) {
                  var t = { scheme: { value: e } },
                    a = ca(this.state, t);
                  return this.setState(a), a.valid;
                }
              },
              {
                key: 'handlePathChanged',
                value: function(e, t) {
                  var a = arguments.length > 2 && void 0 !== arguments[2] && arguments[2],
                    n = { path: ga(qt.t('forms.urn', 'URN'), e, [ka(a)]) },
                    i = ca(this.state, n);
                  return this.setState(i), i.valid;
                }
              },
              {
                key: 'getButtons',
                value: function() {
                  var e = this;
                  return {
                    primary: { name: qt.t('buttons.ok', 'Ok'), onClick: this.handleSave },
                    secondary: {
                      name: qt.t('buttons.cancel', 'Cancel'),
                      onClick: function() {
                        return e.props.onClose(!0);
                      }
                    }
                  };
                }
              },
              {
                key: 'render',
                value: function() {
                  var e = this.props.typeConfig;
                  return k.createElement(
                    me,
                    { title: e.name, headerClass: e.type, buttons: this.getButtons() },
                    k.createElement(sa, {
                      __className: '',
                      initialType: e,
                      onChange: this.props.onTypeChange
                    }),
                    k.createElement(
                      'p',
                      { 'data-spec': 'label' },
                      k.createElement(
                        De.a,
                        { i18nKey: 'forms.add_urn_summary' },
                        'Add a new URN to reach the contact such as a phone number.'
                      )
                    ),
                    k.createElement(
                      'div',
                      { className: pn.a.scheme_selection },
                      k.createElement(Ia, {
                        key: 'urn_type_select',
                        name: qt.t('forms.urn_type', 'URN Type'),
                        entry: this.state.scheme,
                        onChange: this.handleSchemeChanged,
                        options: Lo.map(function(e) {
                          return Fa(e);
                        })
                      })
                    ),
                    k.createElement(
                      'div',
                      { className: pn.a.path },
                      k.createElement(un, {
                        name: qt.t('forms.urn', 'URN'),
                        placeholder: 'Enter the URN value',
                        entry: this.state.path,
                        onChange: this.handlePathChanged,
                        autocomplete: !0
                      })
                    ),
                    rt(this.props)
                  );
                }
              }
            ]),
            a
          );
        })(k.PureComponent),
        mn = function(e) {
          var t = e.resthook;
          return k.createElement('div', null, t);
        },
        _n = function(e) {
          var t = e.url;
          return k.createElement('div', null, t);
        },
        fn = function(e) {
          return e.content && e.content.query;
        },
        gn = function(e) {
          return e.map(function(e) {
            return { name: e.name, id: e.uuid, type: ve.Group };
          });
        },
        vn = function(e) {
          return e
            ? e.map(function(e) {
                return { uuid: e.id, name: e.name };
              })
            : [];
        },
        yn = (function(e) {
          Object(g.a)(a, e);
          var t = Object(v.a)(a);
          function a(e) {
            var n;
            return (
              Object(m.a)(this, a),
              ((n = t.call(this, e)).state = (function(e) {
                if (e.originalAction && e.originalAction.type === ke.add_contact_groups) {
                  var t = e.originalAction;
                  return { groups: { value: gn(t.groups) }, valid: !0 };
                }
                return { groups: { value: null }, valid: !1 };
              })(n.props.nodeSettings)),
              Object(b.react)(Object(f.a)(n), { include: [/^on/, /^handle/] }),
              n
            );
          }
          return (
            Object(_.a)(a, [
              {
                key: 'handleSave',
                value: function() {
                  var e, t;
                  if (this.handleGroupsChanged(this.state.groups.value, !0)) {
                    var a =
                      ((e = this.props.nodeSettings),
                      (t = this.state),
                      {
                        type: ke.add_contact_groups,
                        groups: vn(t.groups.value),
                        uuid: lt(e, ke.add_contact_groups)
                      });
                    this.props.updateAction(a), this.props.onClose(!1);
                  }
                }
              },
              {
                key: 'handleGroupsChanged',
                value: function(e) {
                  var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1],
                    a = { groups: ga(qt.t('forms.groups', 'Groups'), e, [ka(t)]) },
                    n = ca(this.state, a);
                  return this.setState(n), n.valid;
                }
              },
              {
                key: 'handleGroupAdded',
                value: function(e) {
                  this.props.addAsset('groups', e),
                    this.handleGroupsChanged((this.state.groups.value || []).concat(e), !1);
                }
              },
              {
                key: 'handleCreateAssetFromInput',
                value: function(e) {
                  return { name: e };
                }
              },
              {
                key: 'getButtons',
                value: function() {
                  var e = this;
                  return {
                    primary: { name: qt.t('buttons.ok', 'Ok'), onClick: this.handleSave },
                    secondary: {
                      name: qt.t('buttons.cancel', 'Cancel'),
                      onClick: function() {
                        return e.props.onClose(!0);
                      }
                    }
                  };
                }
              },
              {
                key: 'render',
                value: function() {
                  var e = this.props.typeConfig;
                  return k.createElement(
                    me,
                    { title: e.name, headerClass: e.type, buttons: this.getButtons() },
                    k.createElement(sa, {
                      __className: '',
                      initialType: e,
                      onChange: this.props.onTypeChange
                    }),
                    k.createElement(
                      'p',
                      { 'data-spec': 'label' },
                      k.createElement(
                        De.a,
                        { i18nKey: 'forms.add_groups_summary' },
                        'Select the groups to add the contact to.'
                      )
                    ),
                    k.createElement(Qt, {
                      name: qt.t('forms.groups', 'Groups'),
                      multi: !0,
                      noOptionsMessage: qt.t(
                        'enter_to_create_group',
                        'Enter a name to create a new group'
                      ),
                      assets: this.props.assetStore.groups,
                      entry: this.state.groups,
                      onChange: this.handleGroupsChanged,
                      searchable: !0,
                      shouldExclude: fn,
                      createPrefix: qt.t('create_group', 'Create Group') + ': ',
                      createAssetFromInput: this.handleCreateAssetFromInput,
                      onAssetCreated: this.handleGroupAdded
                    }),
                    rt(this.props)
                  );
                }
              }
            ]),
            a
          );
        })(k.Component),
        bn = function(e, t) {
          var a = e.type,
            n = e.groups,
            i = [];
          return a !== ke.remove_contact_groups || (n && n.length)
            ? ut(
                n.map(function(e) {
                  return { id: e.uuid, name: e.name, type: ve.Group };
                }),
                5,
                t
              )
            : (i.push(
                (function() {
                  var e =
                      arguments.length > 0 && void 0 !== arguments[0]
                        ? arguments[0]
                        : 'remove_from_all',
                    t =
                      arguments.length > 1 && void 0 !== arguments[1]
                        ? arguments[1]
                        : 'remove_from_all',
                    a =
                      arguments.length > 2 && void 0 !== arguments[2]
                        ? arguments[2]
                        : 'Remove from all groups';
                  return k.createElement('div', { key: e, 'data-spec': t }, a);
                })()
              ),
              i);
        },
        kn = function(e, t) {
          return (function(e, t) {
            var a = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 'content';
            return k.createElement('div', { 'data-spec': a }, bn(e, t));
          })(e, t.config.endpoints);
        };
      kn.contextTypes = { config: yt };
      var En = kn,
        Cn = a(76),
        wn = a.n(Cn),
        On = Ot.a.bind(wn.a),
        Sn = (function(e) {
          Object(g.a)(a, e);
          var t = Object(v.a)(a);
          function a(e) {
            var n;
            return (
              Object(m.a)(this, a),
              ((n = t.call(this, e)).state = { checked: n.props.checked }),
              (n.handleChange = n.handleChange.bind(Object(f.a)(n))),
              n
            );
          }
          return (
            Object(_.a)(a, [
              {
                key: 'handleChange',
                value: function(e) {
                  var t = this;
                  e && (e.preventDefault(), e.stopPropagation()),
                    this.setState({ checked: !this.state.checked }, function() {
                      t.props.onChange && t.props.onChange(t.state.checked);
                    });
                }
              },
              {
                key: 'validate',
                value: function() {
                  return !0;
                }
              },
              {
                key: 'render',
                value: function() {
                  var e = this.state.checked ? 'fe-check-square' : 'fe-square';
                  return k.createElement(
                    'label',
                    {
                      className: On(wn.a.label, this.props.labelClassName),
                      onClick: this.handleChange
                    },
                    k.createElement('span', {
                      'data-spec': 'checkbox',
                      className: On(e, this.props.checkboxClassName)
                    }),
                    K(G(this.props.title))(
                      k.createElement(
                        'div',
                        { 'data-spec': 'title', className: wn.a.title },
                        this.props.title
                      )
                    ),
                    K(G(this.props.description))(
                      k.createElement(
                        'div',
                        {
                          'data-spec': 'description',
                          className: this.props.title ? wn.a.description : wn.a.description_solo
                        },
                        this.props.description
                      )
                    )
                  );
                }
              }
            ]),
            a
          );
        })(k.Component),
        Nn = a(175),
        xn = a.n(Nn),
        jn = qt.t('forms.remove_groups_summary', 'Select the groups to remove the contact from.'),
        Tn =
          (qt.t('errors.group_not_found', 'Enter the name of an existing group'),
          qt.t('forms.remove_groups_placeholder', 'Enter the name of an existing group'),
          qt.t('forms.remove_from_all_label', 'Remove from all')),
        An = qt.t(
          'forms.remove_from_all_summary',
          "Remove the active contact from all groups they're a member of."
        ),
        Rn = (function(e) {
          Object(g.a)(a, e);
          var t = Object(v.a)(a);
          function a(e) {
            var n;
            return (
              Object(m.a)(this, a),
              ((n = t.call(this, e)).state = (function(e) {
                if (e.originalAction && e.originalAction.type === ke.remove_contact_groups) {
                  var t = e.originalAction,
                    a = t.groups || [];
                  return {
                    groups: { value: gn(a) },
                    removeAll: 0 === a.length || t.all_groups,
                    valid: !0
                  };
                }
                return { groups: { value: null }, removeAll: !1, valid: !1 };
              })(n.props.nodeSettings)),
              Object(b.react)(Object(f.a)(n), { include: [/^on/, /^handle/] }),
              n
            );
          }
          return (
            Object(_.a)(a, [
              {
                key: 'handleSave',
                value: function() {
                  var e, t;
                  if (this.handleGroupsChanged(this.state.groups.value, !0)) {
                    var a =
                      ((e = this.props.nodeSettings),
                      (t = this.state),
                      {
                        type: ke.remove_contact_groups,
                        groups: t.removeAll ? [] : vn(t.groups.value),
                        all_groups: !!t.removeAll,
                        uuid: lt(e, ke.remove_contact_groups)
                      });
                    this.props.updateAction(a), this.props.onClose(!1);
                  }
                }
              },
              {
                key: 'handleUpdate',
                value: function(e) {
                  var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1],
                    a = {},
                    n = this.state.removeAll ? [] : [ka(t)];
                  e.hasOwnProperty('removeAll') &&
                    ((a.removeAll = e.removeAll), e.removeAll && (n = [])),
                    e.hasOwnProperty('groups') &&
                      (a.groups = ga(qt.t('forms.groups', 'Groups'), e.groups, n));
                  var i = ca(this.state, a);
                  return this.setState(i), i.valid;
                }
              },
              {
                key: 'handleGroupsChanged',
                value: function(e) {
                  var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                  return this.handleUpdate({ groups: e }, t);
                }
              },
              {
                key: 'handleRemoveAllUpdate',
                value: function(e) {
                  return this.handleUpdate({ removeAll: e });
                }
              },
              {
                key: 'getButtons',
                value: function() {
                  var e = this;
                  return {
                    primary: { name: qt.t('buttons.ok', 'Ok'), onClick: this.handleSave },
                    secondary: {
                      name: qt.t('buttons.cancel', 'Cancel'),
                      onClick: function() {
                        return e.props.onClose(!0);
                      }
                    }
                  };
                }
              },
              {
                key: 'render',
                value: function() {
                  var e = this.props.typeConfig;
                  return k.createElement(
                    me,
                    { title: e.name, headerClass: e.type, buttons: this.getButtons() },
                    k.createElement(sa, {
                      __className: '',
                      initialType: e,
                      onChange: this.props.onTypeChange
                    }),
                    K(!this.state.removeAll)(
                      k.createElement(
                        'div',
                        null,
                        k.createElement('p', { 'data-spec': 'label' }, jn),
                        k.createElement(Qt, {
                          name: qt.t('forms.groups', 'Groups'),
                          assets: this.props.assetStore.groups,
                          entry: this.state.groups,
                          shouldExclude: fn,
                          searchable: !0,
                          onChange: this.handleGroupsChanged,
                          multi: !0
                        })
                      )
                    ),
                    k.createElement(Sn, {
                      name: Tn,
                      title: Tn,
                      labelClassName: this.state.removeAll ? '' : xn.a.checkbox,
                      checked: this.state.removeAll,
                      description: An,
                      onChange: this.handleRemoveAllUpdate
                    }),
                    rt(this.props)
                  );
                }
              }
            ]),
            a
          );
        })(k.Component);
      Rn.contextTypes = { assetService: yt };
      var Un = a(41),
        Dn = a.n(Un),
        Fn = function(e) {
          var t = e.originalNode,
            a = t && t.node;
          if (e.originalAction && e.originalAction.type) return Vo(e.originalAction.type);
          if (a && a.actions && a.actions.length > 0)
            return Vo(a.actions[a.actions.length - 1].type);
          try {
            var n = Ho(t),
              i = Vo(n);
            if (i.type !== ke.missing) return i;
          } catch (Error) {}
          if (a && a.router) return Vo(a.router.type);
          throw new Error("Couldn't determine type config for: ".concat(a.uuid));
        },
        Pn = function(e, t, a) {
          return (
            !(!e || 0 === e.length) &&
            (t
              ? !!e.find(function(e) {
                  return e.language === a.id;
                })
              : !!e.find(function(e) {
                  return !e.language;
                }))
          );
        },
        In = (function(e) {
          Object(g.a)(a, e);
          var t = Object(v.a)(a);
          function a(e) {
            var n;
            return (
              Object(m.a)(this, a),
              ((n = t.call(this, e)).state = (function(e) {
                var t = {},
                  a = e.localizations[0],
                  n = a.getObject();
                return (
                  ((e.originalAction && Vo(e.originalAction.type).localizeableKeys) || []).forEach(
                    function(e) {
                      t[e] = { value: e in a.localizedKeys ? n[e] : '' };
                    }
                  ),
                  { keyValues: t, valid: !0 }
                );
              })(n.props.nodeSettings)),
              Object(b.react)(Object(f.a)(n), { include: [/^handle/, /^on/] }),
              n
            );
          }
          return (
            Object(_.a)(a, [
              {
                key: 'handleKeyUpdate',
                value: function(e, t) {
                  var a = Object(y.a)({}, this.state.keyValues);
                  return (a[t.toLowerCase()] = { value: e }), this.setState({ keyValues: a }), !0;
                }
              },
              {
                key: 'handleSave',
                value: function() {
                  var e = this,
                    t = {};
                  Object.keys(this.state.keyValues).forEach(function(a) {
                    var n = e.state.keyValues[a].value;
                    n ? (t[a] = n) : delete t[a];
                  }),
                    this.props.updateLocalizations(this.props.language.id, [
                      { uuid: this.props.nodeSettings.originalAction.uuid, translations: t }
                    ]),
                    this.props.onClose(!1);
                }
              },
              {
                key: 'getButtons',
                value: function() {
                  var e = this;
                  return {
                    primary: { name: qt.t('buttons.ok', 'Ok'), onClick: this.handleSave },
                    secondary: {
                      name: qt.t('buttons.cancel', 'Cancel'),
                      onClick: function() {
                        return e.props.onClose(!0);
                      }
                    }
                  };
                }
              },
              {
                key: 'render',
                value: function() {
                  var e,
                    t = this,
                    a = Fn(this.props.nodeSettings),
                    n = [],
                    i = qt.t('forms.translation', 'Translation');
                  return (
                    a.localizeableKeys.forEach(function(a) {
                      var s = a[0].toUpperCase() + a.slice(1),
                        r = k.createElement(
                          'div',
                          { key: 'localize_form_'.concat(a) },
                          k.createElement(
                            'div',
                            { 'data-spec': 'translation-container' },
                            k.createElement(
                              'div',
                              { 'data-spec': 'text-to-translate', className: Dn.a.translate_from },
                              t.props.nodeSettings.originalAction[a]
                            )
                          ),
                          k.createElement(un, {
                            name: s,
                            showLabel: !1,
                            onChange: t.handleKeyUpdate,
                            entry: t.state.keyValues[a],
                            placeholder: ''.concat(t.props.language.name, ' ').concat(i),
                            autocomplete: !0,
                            focus: !0,
                            textarea: !0
                          })
                        );
                      if (e) {
                        var o = qt.t('forms.translation', 'Translation');
                        n.push({
                          name: s + ' ' + o,
                          body: r,
                          checked: !!t.state.keyValues[a].value
                        });
                      } else e = r;
                    }),
                    k.createElement(
                      me,
                      { title: a.name, headerClass: a.type, buttons: this.getButtons(), tabs: n },
                      e,
                      rt(this.props)
                    )
                  );
                }
              }
            ]),
            a
          );
        })(k.Component);
      In.contextTypes = { config: yt };
      var Ln = a(85),
        Mn = a.n(Ln),
        zn = function(e) {
          var t = e.text;
          e.text.startsWith('@')
            ? (t = '@(exp)')
            : e.maxLength &&
              t.length > e.maxLength &&
              (t = e.text.substring(0, e.maxLength) + '...');
          var a = [Mn.a.pill];
          return (
            e.large && a.push(Mn.a.large),
            e.onClick && a.push(Mn.a.clickable),
            k.createElement(
              'div',
              {
                style: e.style,
                'data-advanced': e.advanced,
                onClick: e.onClick,
                className: a.join(' ')
              },
              t,
              e.icon
                ? k.createElement('span', {
                    'data-advanced': e.advanced,
                    className: Mn.a.icon + ' ' + e.icon
                  })
                : null
            )
          );
        },
        Bn = a(124),
        Vn = a.n(Bn),
        Hn = (function(e) {
          Object(g.a)(a, e);
          var t = Object(v.a)(a);
          function a(e) {
            var n;
            return (
              Object(m.a)(this, a),
              (n = t.call(this, e)).props.entry
                ? (n.state = { currentInput: n.props.entry })
                : (n.state = { currentInput: { value: '' } }),
              Object(b.react)(Object(f.a)(n), { include: [/^handle/] }),
              n
            );
          }
          return (
            Object(_.a)(a, [
              {
                key: 'handleInputChanged',
                value: function(e) {
                  this.setState({ currentInput: { value: e } }),
                    this.props.onEntryChanged && this.props.onEntryChanged({ value: e });
                }
              },
              {
                key: 'handleAddItem',
                value: function(e) {
                  var t = this;
                  return (
                    window.setTimeout(function() {
                      if (t.state.currentInput.value.trim().length > 0) {
                        var e = t.state.currentInput.value.trim();
                        t.props.onItemAdded(e) && t.setState({ currentInput: { value: '' } }),
                          t.props.onEntryChanged && t.props.onEntryChanged({ value: '' });
                      }
                    }, 0),
                    !0
                  );
                }
              },
              {
                key: 'handleValidateEmpty',
                value: function() {
                  var e = this,
                    t = ga(this.props.name, this.state.currentInput.value, [va]);
                  this.setState({ currentInput: t }, function() {
                    e.props.onEntryChanged && e.props.onEntryChanged(t);
                  });
                }
              },
              {
                key: 'getChosenItems',
                value: function() {
                  var e = this;
                  return this.props.items.value.length > 0
                    ? k.createElement(
                        'div',
                        { className: Vn.a.chosen },
                        this.props.items.value.map(function(t) {
                          return k.createElement(
                            'div',
                            { key: 'item_'.concat(t), className: Vn.a.item },
                            k.createElement(zn, {
                              icon: 'fe-x',
                              text: ' ' + t,
                              large: !0,
                              onClick: function() {
                                e.props.onRemoved(t);
                              }
                            })
                          );
                        })
                      )
                    : null;
                }
              },
              {
                key: 'render',
                value: function() {
                  return k.createElement(
                    k.Fragment,
                    null,
                    this.getChosenItems(),
                    this.props.helpText
                      ? k.createElement('p', null, this.props.helpText)
                      : k.createElement('p', null),
                    k.createElement(un, {
                      name: this.props.name,
                      placeholder: this.props.name,
                      showLabel: !1,
                      onChange: this.handleInputChanged,
                      entry: this.state.currentInput,
                      autocomplete: !0,
                      focus: !0,
                      onBlur: this.handleValidateEmpty,
                      onEnter: this.handleAddItem
                    })
                  );
                }
              }
            ]),
            a
          );
        })(k.Component),
        qn = (function(e) {
          Object(g.a)(a, e);
          var t = Object(v.a)(a);
          function a(e) {
            var n;
            return (
              Object(m.a)(this, a),
              ((n = t.call(this, e)).filePicker = void 0),
              (n.state = {}),
              Object(b.react)(Object(f.a)(n), { include: [/^handle/] }),
              n
            );
          }
          return (
            Object(_.a)(a, [
              {
                key: 'handleRemoveUpload',
                value: function() {
                  this.props.onUploadChanged(null);
                }
              },
              {
                key: 'handleUploadFile',
                value: function(e) {
                  var t = this,
                    a = new FormData();
                  a.append('file', e[0]);
                  var n = We('csrftoken'),
                    i = n ? { 'X-CSRFToken': n } : {};
                  Me.a
                    .post(this.props.endpoint, a, { headers: i })
                    .then(function(e) {
                      t.props.onUploadChanged(e.data.url);
                    })
                    .catch(function(e) {
                      console.log(e);
                    });
                }
              },
              {
                key: 'render',
                value: function() {
                  var e = this;
                  return k.createElement(
                    k.Fragment,
                    null,
                    k.createElement('input', {
                      style: { display: 'none' },
                      ref: function(t) {
                        e.filePicker = t;
                      },
                      type: 'file',
                      onChange: function(t) {
                        return e.handleUploadFile(t.target.files);
                      }
                    }),
                    this.props.url
                      ? k.createElement(le, {
                          iconName: 'fe-trash',
                          name: this.props.removeText,
                          topSpacing: !0,
                          onClick: this.handleRemoveUpload,
                          type: N.tertiary
                        })
                      : k.createElement(le, {
                          iconName: this.props.icon,
                          name: this.props.uploadText,
                          topSpacing: !0,
                          onClick: function() {
                            e.filePicker.click();
                          },
                          type: N.tertiary
                        })
                  );
                }
              }
            ]),
            a
          );
        })(k.Component),
        Kn = (function(e) {
          Object(g.a)(a, e);
          var t = Object(v.a)(a);
          function a(e) {
            var n;
            return (
              Object(m.a)(this, a),
              ((n = t.call(this, e)).state = (function(e) {
                var t = {
                  message: { value: '' },
                  quickReplies: { value: [] },
                  templateVariables: [],
                  templating: null,
                  audio: { value: null },
                  valid: !0
                };
                if (
                  e.originalAction &&
                  (e.originalAction.type === ke.send_msg || e.originalAction.type === ke.say_msg) &&
                  e.localizations &&
                  e.localizations.length > 0
                ) {
                  e.originalAction &&
                    e.originalAction.templating &&
                    ((t.templating = e.originalAction.templating),
                    (t.templateVariables = t.templating.variables.map(function(e) {
                      return { value: '' };
                    })));
                  var a,
                    n = Object(C.a)(e.localizations);
                  try {
                    var i = function() {
                      var e = a.value;
                      if (e.isLocalized()) {
                        var n = e.getObject();
                        if (n.text) {
                          var i = n;
                          (t.message.value = 'text' in e.localizedKeys ? i.text : ''),
                            (t.audio.value = 'audio_url' in e.localizedKeys ? i.audio_url : null),
                            (t.quickReplies.value =
                              ('quick_replies' in e.localizedKeys && i.quick_replies) || []),
                            (t.valid = !0);
                        }
                        if (n.variables) {
                          var s = n;
                          (t.templateVariables = s.variables.map(function(t) {
                            return { value: 'variables' in e.localizedKeys ? t : '' };
                          })),
                            (t.valid = !0);
                        }
                      }
                    };
                    for (n.s(); !(a = n.n()).done; ) i();
                  } catch (s) {
                    n.e(s);
                  } finally {
                    n.f();
                  }
                }
                return t;
              })(n.props.nodeSettings)),
              Object(b.react)(Object(f.a)(n), { include: [/^handle/, /^on/] }),
              n
            );
          }
          return (
            Object(_.a)(a, [
              {
                key: 'handleMessageUpdate',
                value: function(e) {
                  return this.handleUpdate({ text: e });
                }
              },
              {
                key: 'handleQuickRepliesUpdate',
                value: function(e) {
                  return this.handleUpdate({ quickReplies: e });
                }
              },
              {
                key: 'handleAudioChanged',
                value: function(e) {
                  this.handleUpdate({ audio: e });
                }
              },
              {
                key: 'handleUpdate',
                value: function(e) {
                  var t = {};
                  e.hasOwnProperty('text') &&
                    (t.message = ga(qt.t('forms.message', 'Message'), e.text, [])),
                    e.hasOwnProperty('quickReplies') &&
                      (t.quickReplies = ga(
                        qt.t('forms.quick_replies', 'Quick Replies'),
                        e.quickReplies,
                        [wa]
                      )),
                    e.hasOwnProperty('audio') && (t.audio = { value: e.audio });
                  var a = ca(this.state, t);
                  return this.setState(a), a.valid;
                }
              },
              {
                key: 'handleSave',
                value: function() {
                  var e = this.state,
                    t = e.message,
                    a = e.quickReplies,
                    n = e.audio,
                    i = e.templateVariables;
                  if (
                    !(Fn(this.props.nodeSettings).localizeableKeys.indexOf('quick_replies') > -1) ||
                    this.handleQuickRepliesUpdate(this.state.quickReplies.value)
                  ) {
                    var s = {};
                    t.value && (s.text = t.value),
                      a.value && a.value.length > 0 && (s.quick_replies = a.value),
                      n.value && (s.audio_url = n.value);
                    var r = [
                      { uuid: this.props.nodeSettings.originalAction.uuid, translations: s }
                    ];
                    i.find(function(e) {
                      return e.value.length > 0;
                    }) &&
                      r.push({
                        uuid: this.state.templating.uuid,
                        translations: {
                          variables: i.map(function(e) {
                            return e.value;
                          })
                        }
                      }),
                      this.props.updateLocalizations(this.props.language.id, r),
                      this.props.onClose(!1);
                  }
                }
              },
              {
                key: 'getButtons',
                value: function() {
                  var e = this;
                  return {
                    primary: { name: qt.t('buttons.ok', 'Ok'), onClick: this.handleSave },
                    secondary: {
                      name: qt.t('buttons.cancel', 'Cancel'),
                      onClick: function() {
                        return e.props.onClose(!0);
                      }
                    }
                  };
                }
              },
              {
                key: 'handleAddQuickReply',
                value: function(e) {
                  var t = Object(fe.a)(this.state.quickReplies.value);
                  return (
                    !(t.length >= 10) &&
                    (!t.find(function(t) {
                      return t.toLowerCase() === e.toLowerCase();
                    }) &&
                      (t.push(e), this.setState({ quickReplies: { value: t } }), !0))
                  );
                }
              },
              {
                key: 'handleRemoveQuickReply',
                value: function(e) {
                  this.setState({
                    quickReplies: {
                      value: this.state.quickReplies.value.filter(function(t) {
                        return t !== e;
                      })
                    }
                  });
                }
              },
              {
                key: 'handleTemplateVariableChanged',
                value: function(e, t) {
                  var a = ga('Variable '.concat(t + 1), e, []),
                    n = la()(this.state.templateVariables, { $merge: Object(O.a)({}, t, a) });
                  this.setState({ templateVariables: n });
                }
              },
              {
                key: 'render',
                value: function() {
                  var e = this,
                    t = Fn(this.props.nodeSettings),
                    a = [];
                  if (
                    this.state.templating &&
                    t.localizeableKeys.indexOf('templating.variables') > -1
                  ) {
                    var n = !!this.state.templateVariables.find(function(e) {
                        return e.value.length > 0;
                      }),
                      i = qt.t('forms.variable', 'Variable');
                    a.push({
                      name: 'WhatsApp',
                      body: k.createElement(
                        k.Fragment,
                        null,
                        k.createElement(
                          'p',
                          null,
                          qt.t(
                            'forms.whatsapp_warning',
                            'Sending messages over a WhatsApp channel requires that a template be used if you have not received a message from a contact in the last 24 hours. Setting a template to use over WhatsApp is especially important for the first message in your flow.'
                          )
                        ),
                        this.state.templating && this.state.templating.variables.length > 0
                          ? k.createElement(
                              k.Fragment,
                              null,
                              $(0, this.state.templating.variables.length).map(function(t) {
                                var a = e.state.templateVariables[t] || { value: '' };
                                return k.createElement(
                                  'div',
                                  { className: Dn.a.variable, key: 'tr_arg_' + t },
                                  k.createElement(un, {
                                    name: ''
                                      .concat(qt.t('forms.variable', 'Variable'), ' ')
                                      .concat(t + 1),
                                    showLabel: !1,
                                    placeholder: ''
                                      .concat(e.props.language.name, ' ')
                                      .concat(i, ' ')
                                      .concat(t + 1),
                                    onChange: function(a) {
                                      e.handleTemplateVariableChanged(a, t);
                                    },
                                    entry: a,
                                    autocomplete: !0
                                  })
                                );
                              })
                            )
                          : null
                      ),
                      checked: n
                    });
                  }
                  t.localizeableKeys.indexOf('quick_replies') > -1 &&
                    a.push({
                      name: 'Quick Replies',
                      body: k.createElement(
                        k.Fragment,
                        null,
                        k.createElement(Hn, {
                          name: qt.t('forms.quick_reply', 'Quick Reply'),
                          helpText: k.createElement(
                            De.a,
                            {
                              i18nKey: 'forms.localized_quick_replies',
                              values: { language: this.props.language.name }
                            },
                            'Add a new [[language]] Quick Reply and press enter.'
                          ),
                          items: this.state.quickReplies,
                          onRemoved: this.handleRemoveQuickReply,
                          onItemAdded: this.handleAddQuickReply
                        })
                      ),
                      checked: this.state.quickReplies.value.length > 0
                    });
                  var s = null;
                  t.localizeableKeys.indexOf('audio_url') > 0 &&
                    (s = k.createElement(qn, {
                      icon: 'fe-mic',
                      uploadText: 'Upload Recording',
                      removeText: 'Remove Recording',
                      url: this.state.audio.value,
                      endpoint: this.context.config.endpoints.attachments,
                      onUploadChanged: this.handleAudioChanged
                    }));
                  var r = qt.t('forms.translation', 'Translation');
                  return k.createElement(
                    me,
                    { title: t.name, headerClass: t.type, buttons: this.getButtons(), tabs: a },
                    k.createElement(
                      'div',
                      { 'data-spec': 'translation-container' },
                      k.createElement(
                        'div',
                        { 'data-spec': 'text-to-translate', className: Dn.a.translate_from },
                        this.props.nodeSettings.originalAction.text
                      )
                    ),
                    k.createElement(un, {
                      name: qt.t('forms.message', 'Message'),
                      showLabel: !1,
                      onChange: this.handleMessageUpdate,
                      entry: this.state.message,
                      placeholder: ''.concat(this.props.language.name, ' ').concat(r),
                      autocomplete: !0,
                      focus: !0,
                      textarea: !0
                    }),
                    s,
                    rt(this.props)
                  );
                }
              }
            ]),
            a
          );
        })(k.Component);
      Kn.contextTypes = { config: yt };
      var Gn = function(e) {
          var t = e.type;
          return k.createElement(
            'div',
            { className: 'placeholder' },
            'No implementation yet for ',
            t
          );
        },
        Wn = function(e) {
          return k.createElement('div', null, e.audio_url);
        },
        Yn = (function(e) {
          Object(g.a)(a, e);
          var t = Object(v.a)(a);
          function a(e) {
            var n, i;
            return (
              Object(m.a)(this, a),
              ((n = t.call(this, e)).state =
                (i = n.props.nodeSettings).originalAction && i.originalAction.type === ke.play_audio
                  ? { audio: { value: i.originalAction.audio_url }, valid: !0 }
                  : { audio: { value: '' }, valid: !1 }),
              Object(b.react)(Object(f.a)(n), { include: [/^handle/] }),
              n
            );
          }
          return (
            Object(_.a)(a, [
              {
                key: 'handleAudioUpdate',
                value: function(e) {
                  var t = {};
                  t.audio = ga(qt.t('forms.recording', 'Recording'), e, [ya]);
                  var a = ca(this.state, t);
                  return this.setState(a), a.valid;
                }
              },
              {
                key: 'handleSave',
                value: function() {
                  var e;
                  this.handleAudioUpdate(this.state.audio.value) &&
                    (this.props.updateAction(
                      ((e = this.props.nodeSettings),
                      {
                        audio_url: this.state.audio.value,
                        type: ke.play_audio,
                        uuid: lt(e, ke.say_msg)
                      })
                    ),
                    this.props.onClose(!1));
                }
              },
              {
                key: 'getButtons',
                value: function() {
                  var e = this;
                  return {
                    primary: { name: qt.t('buttons.ok', 'Ok'), onClick: this.handleSave },
                    secondary: {
                      name: qt.t('buttons.cancel', 'Cancel'),
                      onClick: function() {
                        return e.props.onClose(!0);
                      }
                    }
                  };
                }
              },
              {
                key: 'render',
                value: function() {
                  var e = this.props.typeConfig;
                  return k.createElement(
                    me,
                    { title: e.name, headerClass: e.type, buttons: this.getButtons() },
                    k.createElement(sa, {
                      __className: '',
                      initialType: e,
                      onChange: this.props.onTypeChange
                    }),
                    k.createElement('p', null, qt.t('forms.recording_label', 'Previous Recording')),
                    k.createElement(un, {
                      name: qt.t('forms.message', 'Message'),
                      showLabel: !1,
                      onChange: this.handleAudioUpdate,
                      entry: this.state.audio,
                      autocomplete: !0,
                      focus: !0,
                      helpText: k.createElement(
                        De.a,
                        { i18nKey: 'forms.play_audio_help_text' },
                        'Enter a variable that contains a recording the contact has previously recorded. For example, @results.voicemail or @fields.short_bio.'
                      )
                    }),
                    rt(this.props)
                  );
                }
              }
            ]),
            a
          );
        })(k.Component),
        Qn = a(65),
        Xn = a.n(Qn),
        Jn = (function(e) {
          Object(g.a)(a, e);
          var t = Object(v.a)(a);
          function a(e) {
            var n;
            return (
              Object(m.a)(this, a),
              ((n = t.call(this, e)).ele = void 0),
              (n.stroke = 1),
              (n.radius = 9),
              (n.radiusNormalized = n.radius - 2 * n.stroke),
              (n.circumference = 2 * n.radiusNormalized * Math.PI),
              (n.state = { durationSeconds: 0, currentSeconds: 0, playing: !1, progress: 0 }),
              Object(b.react)(Object(f.a)(n), { include: [/^handle/] }),
              n
            );
          }
          return (
            Object(_.a)(a, [
              {
                key: 'handleTimeUpdate',
                value: function(e) {
                  var t = this,
                    a = this.ele.currentTime || 0,
                    n = this.ele.duration || 0;
                  this.setState(function(e) {
                    return (
                      (t.ele.ended || 0 === a) &&
                        e.playing &&
                        setTimeout(function() {
                          t.setState({ progress: 0, playing: !1 });
                        }, 500),
                      {
                        currentSeconds: t.ele.ended ? 0 : a,
                        durationSeconds: n,
                        playing: a > 0,
                        progress: n > 0 ? Math.floor((a / n) * 100) : 0
                      }
                    );
                  });
                }
              },
              {
                key: 'componentDidMount',
                value: function() {
                  this.props.triggered && this.handleTogglePlay(null);
                }
              },
              {
                key: 'handleTogglePlay',
                value: function(e) {
                  this.state.playing
                    ? (this.ele.pause(), (this.ele.currentTime = 0))
                    : this.ele.play(),
                    null !== e && (e.preventDefault(), e.stopPropagation());
                }
              },
              {
                key: 'handleRef',
                value: function(e) {
                  return (this.ele = e);
                }
              },
              {
                key: 'componentDidUpdate',
                value: function(e) {
                  this.props.url !== e.url &&
                    this.setState({
                      durationSeconds: 0,
                      currentSeconds: 0,
                      playing: !1,
                      progress: 0
                    });
                }
              },
              {
                key: 'render',
                value: function() {
                  var e = this.state.progress || 0,
                    t = this.circumference - (e / 100) * this.circumference;
                  return k.createElement(
                    'div',
                    {
                      className: Xn.a.player + ' ' + (this.state.playing ? Xn.a.playing : ''),
                      style: { height: 2 * this.radius, width: 2 * this.radius },
                      onMouseDown: this.handleTogglePlay
                    },
                    k.createElement('audio', {
                      ref: this.handleRef,
                      onTimeUpdate: this.handleTimeUpdate,
                      src: this.props.url
                    }),
                    k.createElement(
                      'div',
                      { className: Xn.a.circles },
                      k.createElement(
                        'svg',
                        { height: 2 * this.radius, width: 2 * this.radius },
                        k.createElement('circle', {
                          className: Xn.a.circle_background,
                          stroke: '#fff',
                          fill: '#fff',
                          strokeWidth: this.stroke,
                          r: this.radiusNormalized,
                          cx: this.radius,
                          cy: this.radius
                        }),
                        k.createElement('circle', {
                          className: Xn.a.circle_background,
                          stroke: '#ddd',
                          fill: 'transparent',
                          strokeWidth: this.stroke,
                          r: this.radiusNormalized,
                          cx: this.radius,
                          cy: this.radius
                        }),
                        k.createElement('circle', {
                          className: Xn.a.circle_foreground,
                          stroke: 'cornflowerblue',
                          fill: 'transparent',
                          strokeWidth: this.stroke,
                          strokeDasharray: this.circumference + ' ' + this.circumference,
                          style: { strokeDashoffset: t },
                          r: this.radiusNormalized,
                          cx: this.radius,
                          cy: this.radius
                        })
                      )
                    ),
                    k.createElement('div', {
                      className:
                        Xn.a.button + ' ' + (this.state.playing ? 'fe-stop' : 'fe-play_arrow')
                    })
                  );
                }
              }
            ]),
            a
          );
        })(k.Component),
        Zn = a(125),
        $n = a.n(Zn),
        ei = qt.t('actions.say_msg.placeholder', 'Send a message to the contact'),
        ti = function(e) {
          return e.text
            ? k.createElement(
                k.Fragment,
                null,
                k.createElement('div', { className: $n.a.text }, e.text),
                e.audio_url
                  ? k.createElement(
                      'div',
                      { className: $n.a.recording },
                      k.createElement(Jn, { url: e.audio_url })
                    )
                  : null
              )
            : k.createElement('div', { className: 'placeholder' }, ei);
        },
        ai = (function(e) {
          Object(g.a)(a, e);
          var t = Object(v.a)(a);
          function a(e) {
            var n;
            return (
              Object(m.a)(this, a),
              ((n = t.call(this, e)).state = (function(e) {
                if (e.originalAction && e.originalAction.type === ke.say_msg) {
                  var t = e.originalAction;
                  return { message: { value: t.text }, audio: { value: t.audio_url }, valid: !0 };
                }
                return { message: { value: '' }, audio: { value: '' }, valid: !1 };
              })(n.props.nodeSettings)),
              Object(b.react)(Object(f.a)(n), { include: [/^handle/] }),
              n
            );
          }
          return (
            Object(_.a)(a, [
              {
                key: 'handleUpdate',
                value: function(e) {
                  var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1],
                    a = {};
                  e.hasOwnProperty('text') &&
                    (a.message = ga(qt.t('forms.message', 'Message'), e.text, [ka(t)]));
                  var n = ca(this.state, a);
                  return this.setState(n), n.valid;
                }
              },
              {
                key: 'handleMessageUpdate',
                value: function(e, t) {
                  var a = arguments.length > 2 && void 0 !== arguments[2] && arguments[2];
                  return this.handleUpdate({ text: e }, a);
                }
              },
              {
                key: 'handleSave',
                value: function() {
                  var e, t;
                  this.handleUpdate({ text: this.state.message.value }, !0) &&
                    (this.props.updateAction(
                      ((e = this.props.nodeSettings),
                      {
                        text: (t = this.state).message.value,
                        audio_url: t.audio.value,
                        type: ke.say_msg,
                        uuid: lt(e, ke.say_msg)
                      })
                    ),
                    this.props.onClose(!1));
                }
              },
              {
                key: 'getButtons',
                value: function() {
                  var e = this;
                  return {
                    primary: { name: qt.t('buttons.ok', 'Ok'), onClick: this.handleSave },
                    secondary: {
                      name: qt.t('buttons.cancel', 'Cancel'),
                      onClick: function() {
                        return e.props.onClose(!0);
                      }
                    }
                  };
                }
              },
              {
                key: 'handleUploadChanged',
                value: function(e) {
                  this.setState({ audio: { value: e } });
                }
              },
              {
                key: 'render',
                value: function() {
                  var e = this.props.typeConfig;
                  return k.createElement(
                    me,
                    { title: e.name, headerClass: e.type, buttons: this.getButtons() },
                    k.createElement(sa, {
                      __className: '',
                      initialType: e,
                      onChange: this.props.onTypeChange
                    }),
                    k.createElement(un, {
                      name: qt.t('forms.message', 'Message'),
                      showLabel: !1,
                      onChange: this.handleMessageUpdate,
                      entry: this.state.message,
                      autocomplete: !0,
                      focus: !0,
                      textarea: !0
                    }),
                    k.createElement(qn, {
                      icon: 'fe-mic',
                      uploadText: 'Upload Recording',
                      removeText: 'Remove Recording',
                      url: this.state.audio.value,
                      endpoint: this.context.config.endpoints.attachments,
                      onUploadChanged: this.handleUploadChanged
                    }),
                    rt(this.props)
                  );
                }
              }
            ]),
            a
          );
        })(k.Component);
      ai.contextTypes = { config: yt };
      var ni = a(86),
        ii = a.n(ni),
        si = qt.t('actions.send_broadcast.placeholder', 'Send a message to the contact'),
        ri = function(e, t) {
          var a = ct(e);
          return e.text
            ? k.createElement(
                'div',
                { className: ii.a.node },
                k.createElement('div', { className: ii.a.to }, ut(a, 5, t.config.endpoints)),
                k.createElement(
                  'div',
                  { className: ii.a.message },
                  e.text.split(/\r?\n/).map(function(t, a) {
                    return k.createElement('div', { key: e.uuid + a, className: ii.a.line }, t);
                  })
                )
              )
            : k.createElement('div', { className: 'placeholder' }, si);
        };
      ri.contextTypes = { config: yt };
      var oi = ri,
        li = (function(e) {
          Object(g.a)(a, e);
          var t = Object(v.a)(a);
          function a(e) {
            var n;
            return (
              Object(m.a)(this, a),
              ((n = t.call(this, e)).state = (function(e) {
                if (e.originalAction && e.originalAction.type === ke.send_broadcast) {
                  var t = e.originalAction;
                  if (e.localizations && e.localizations.length > 0) {
                    if (!e.localizations[0].isLocalized())
                      return { message: { value: '' }, recipients: { value: [] }, valid: !0 };
                    t = e.localizations[0].getObject();
                  }
                  return { message: { value: t.text }, recipients: { value: ct(t) }, valid: !0 };
                }
                return { message: { value: '' }, recipients: { value: [] }, valid: !1 };
              })(n.props.nodeSettings)),
              Object(b.react)(Object(f.a)(n), { include: [/^on/, /^handle/] }),
              n
            );
          }
          return (
            Object(_.a)(a, [
              {
                key: 'handleRecipientsChanged',
                value: function(e) {
                  return this.handleUpdate({ recipients: e });
                }
              },
              {
                key: 'handleMessageUpdate',
                value: function(e) {
                  return this.handleUpdate({ text: e });
                }
              },
              {
                key: 'handleUpdate',
                value: function(e) {
                  var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1],
                    a = {};
                  e.hasOwnProperty('recipients') &&
                    (a.recipients = ga(qt.t('forms.recipients', 'Recipients'), e.recipients, [
                      ka(t)
                    ])),
                    e.hasOwnProperty('text') &&
                      (a.message = ga(qt.t('forms.message', 'Message'), e.text, [ka(t)]));
                  var n = ca(this.state, a);
                  return this.setState(n), n.valid;
                }
              },
              {
                key: 'handleSave',
                value: function() {
                  var e, t;
                  this.handleUpdate(
                    { text: this.state.message.value, recipients: this.state.recipients.value },
                    !0
                  ) &&
                    (this.props.updateAction(
                      ((e = this.props.nodeSettings),
                      (t = this.state),
                      {
                        legacy_vars: mt(t.recipients.value),
                        contacts: _t(t.recipients.value, ve.Contact),
                        groups: _t(t.recipients.value, ve.Group),
                        text: t.message.value,
                        type: ke.send_broadcast,
                        uuid: lt(e, ke.send_broadcast)
                      })
                    ),
                    this.props.onClose(!1));
                }
              },
              {
                key: 'getButtons',
                value: function() {
                  var e = this;
                  return {
                    primary: { name: qt.t('buttons.ok', 'Ok'), onClick: this.handleSave },
                    secondary: {
                      name: qt.t('buttons.cancel', 'Cancel'),
                      onClick: function() {
                        return e.props.onClose(!0);
                      }
                    }
                  };
                }
              },
              {
                key: 'render',
                value: function() {
                  var e = this.props.typeConfig;
                  return k.createElement(
                    me,
                    { title: e.name, headerClass: e.type, buttons: this.getButtons() },
                    k.createElement(sa, {
                      __className: '',
                      initialType: e,
                      onChange: this.props.onTypeChange
                    }),
                    k.createElement(Qt, {
                      name: qt.t('forms.recipients', 'Recipients'),
                      assets: this.props.assetStore.recipients,
                      entry: this.state.recipients,
                      completion: {
                        assetStore: this.props.assetStore,
                        schema: this.props.completionSchema
                      },
                      searchable: !0,
                      multi: !0,
                      onChange: this.handleRecipientsChanged
                    }),
                    k.createElement('p', null),
                    k.createElement(un, {
                      name: qt.t('forms.message', 'Message'),
                      showLabel: !1,
                      count: Ka.SMS,
                      onChange: this.handleMessageUpdate,
                      entry: this.state.message,
                      autocomplete: !0,
                      focus: !0,
                      textarea: !0
                    }),
                    rt(this.props)
                  );
                }
              }
            ]),
            a
          );
        })(k.Component);
      li.contextTypes = { endpoints: yt, assetService: yt };
      var ci = function(e) {
          var t = e.subject;
          return k.createElement('div', null, t);
        },
        ui = (function(e) {
          Object(g.a)(a, e);
          var t = Object(v.a)(a);
          function a(e) {
            var n;
            return (
              Object(m.a)(this, a),
              (n = t.call(this, e)),
              Object(b.react)(Object(f.a)(n), { include: [/^handle/] }),
              n
            );
          }
          return (
            Object(_.a)(a, [
              {
                key: 'handleUpdateTags',
                value: function(e) {
                  this.props.onChange &&
                    this.props.onChange(
                      (function(e) {
                        return e.map(function(e) {
                          return e.label;
                        });
                      })(e)
                    );
                }
              },
              {
                key: 'handleCheckValid',
                value: function(e) {
                  return !(!e || 0 === e.trim().length) && this.props.onCheckValid(e);
                }
              },
              {
                key: 'arrowRenderer',
                value: function() {
                  return E.a.createElement('div', null);
                }
              },
              {
                key: 'render',
                value: function() {
                  var e = this,
                    t =
                      0 === (this.props.entry.validationFailures || []).length
                        ? 'react-select select-base'
                        : 'react-select select-base select-invalid',
                    a = (function(e) {
                      return e.value.map(function(e) {
                        return { label: e, value: e };
                      });
                    })(this.props.entry);
                  return E.a.createElement(
                    jt,
                    { name: this.props.name, entry: this.props.entry },
                    E.a.createElement(Gt.a, {
                      styles: Ut,
                      className: t,
                      name: this.props.name,
                      placeholder: this.props.placeholder,
                      value: a,
                      onChange: this.handleUpdateTags,
                      isMulti: !0,
                      isSearchable: !0,
                      isValidNewOption: this.handleCheckValid,
                      noOptionsMessage: function() {
                        return e.props.prompt;
                      },
                      formatCreateLabel: function(t) {
                        return void 0 !== e.props.createPrompt
                          ? e.props.createPrompt + t
                          : 'Create new ' + t;
                      },
                      options: []
                    })
                  );
                }
              }
            ]),
            a
          );
        })(E.a.Component),
        di = a(104),
        pi = a.n(di),
        hi = /\S+@\S+\.\S+/,
        mi = (function(e) {
          Object(g.a)(a, e);
          var t = Object(v.a)(a);
          function a(e) {
            var n;
            return (
              Object(m.a)(this, a),
              ((n = t.call(this, e)).state = (function(e) {
                if (e.originalAction && e.originalAction.type === ke.send_email) {
                  var t = e.originalAction;
                  return {
                    body: { value: t.body },
                    subject: { value: t.subject },
                    recipients: { value: t.addresses },
                    valid: !0
                  };
                }
                return {
                  body: { value: '' },
                  subject: { value: '' },
                  recipients: { value: [] },
                  valid: !0
                };
              })(n.props.nodeSettings)),
              Object(b.react)(Object(f.a)(n), { include: [/^on/, /^handle/] }),
              n
            );
          }
          return (
            Object(_.a)(a, [
              {
                key: 'handleRecipientsChanged',
                value: function(e) {
                  return this.handleUpdate({ recipients: e });
                }
              },
              {
                key: 'handleSubjectChanged',
                value: function(e) {
                  return this.handleUpdate({ subject: e });
                }
              },
              {
                key: 'handleBodyChanged',
                value: function(e) {
                  return this.handleUpdate({ body: e });
                }
              },
              {
                key: 'handleUpdate',
                value: function(e) {
                  var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1],
                    a = {};
                  e.hasOwnProperty('recipients') &&
                    (a.recipients = ga(qt.t('forms.recipients', 'Recipients'), e.recipients, [
                      ka(t)
                    ])),
                    e.hasOwnProperty('subject') &&
                      (a.subject = ga(qt.t('forms.subject', 'Subject'), e.subject, [ka(t)])),
                    e.hasOwnProperty('body') &&
                      (a.body = ga(qt.t('forms.body', 'Body'), e.body, [ka(t)]));
                  var n = ca(this.state, a);
                  return this.setState(n), n.valid;
                }
              },
              {
                key: 'handleSave',
                value: function() {
                  var e, t;
                  this.handleUpdate(
                    {
                      recipients: this.state.recipients.value,
                      subject: this.state.subject.value,
                      body: this.state.body.value
                    },
                    !0
                  ) &&
                    (this.props.updateAction(
                      ((e = this.props.nodeSettings),
                      {
                        addresses: (t = this.state).recipients.value,
                        subject: t.subject.value,
                        body: t.body.value,
                        type: ke.send_email,
                        uuid: lt(e, ke.send_email)
                      })
                    ),
                    this.props.onClose(!1));
                }
              },
              {
                key: 'getButtons',
                value: function() {
                  var e = this;
                  return {
                    primary: { name: qt.t('buttons.ok', 'Ok'), onClick: this.handleSave },
                    secondary: {
                      name: qt.t('buttons.cancel', 'Cancel'),
                      onClick: function() {
                        return e.props.onClose(!0);
                      }
                    }
                  };
                }
              },
              {
                key: 'handleCheckValid',
                value: function(e) {
                  return hi.test(e) || e.startsWith('@');
                }
              },
              {
                key: 'render',
                value: function() {
                  var e = this.props.typeConfig;
                  return k.createElement(
                    me,
                    { title: e.name, headerClass: e.type, buttons: this.getButtons() },
                    k.createElement(sa, {
                      __className: '',
                      initialType: e,
                      onChange: this.props.onTypeChange
                    }),
                    k.createElement(
                      'div',
                      { className: pi.a.ele },
                      k.createElement(ui, {
                        name: qt.t('forms.email_recipient_name', 'Recipient'),
                        placeholder: qt.t('forms.email_recipient_placeholder', 'To'),
                        prompt: qt.t('forms.email_recipient_prompt', 'Enter email address'),
                        onCheckValid: this.handleCheckValid,
                        entry: this.state.recipients,
                        onChange: this.handleRecipientsChanged,
                        createPrompt: ''
                      }),
                      k.createElement(un, {
                        __className: pi.a.subject,
                        name: qt.t('forms.subject', 'Subject'),
                        placeholder: qt.t('forms.subject', 'Subject'),
                        onChange: this.handleSubjectChanged,
                        entry: this.state.subject,
                        autocomplete: !0
                      }),
                      k.createElement(un, {
                        __className: pi.a.message,
                        name: qt.t('forms.message', 'Message'),
                        showLabel: !1,
                        onChange: this.handleBodyChanged,
                        entry: this.state.body,
                        autocomplete: !0,
                        textarea: !0
                      })
                    ),
                    rt(this.props)
                  );
                }
              }
            ]),
            a
          );
        })(k.Component),
        _i = a(71),
        fi = a.n(_i),
        gi = qt.t('actions.send_msg.placeholder', 'Send a message to the contact'),
        vi = function(e) {
          if (e.text) {
            var t = null,
              a = e.quick_replies || [];
            return (
              a.length > 0 &&
                (t = k.createElement(
                  'div',
                  { className: fi.a.quick_replies },
                  a.map(function(t) {
                    return k.createElement(zn, {
                      style: { marginLeft: 4, marginTop: 4 },
                      maxLength: 20,
                      advanced: !0,
                      key: e.uuid + t,
                      text: t
                    });
                  })
                )),
              k.createElement(
                k.Fragment,
                null,
                k.createElement(
                  'div',
                  null,
                  e.text.split(/\r?\n/).map(function(t, a) {
                    return k.createElement('div', { key: e.uuid + a, className: fi.a.line }, t);
                  }),
                  e.attachments && e.attachments.length > 0
                    ? k.createElement('div', {
                        className: ''.concat(fi.a.attachment, ' fe-paperclip')
                      })
                    : null,
                  e.templating && e.templating.template
                    ? k.createElement('div', {
                        className: ''.concat(fi.a.whatsapp, ' fe-whatsapp')
                      })
                    : null,
                  e.topic
                    ? k.createElement('div', {
                        className: ''.concat(fi.a.facebook, ' fe-facebook')
                      })
                    : null
                ),
                k.createElement('div', { className: fi.a.summary }, t)
              )
            );
          }
          return k.createElement('div', { className: 'placeholder' }, gi);
        },
        yi = [
          { value: 'event', label: 'Event' },
          { value: 'account', label: 'Account' },
          { value: 'purchase', label: 'Purchase' },
          { value: 'agent', label: 'Agent' }
        ],
        bi = a(49),
        ki = a.n(bi),
        Ei = [
          { value: 'image', label: qt.t('forms.image_url', 'Image URL') },
          { value: 'audio', label: qt.t('forms.audio_url', 'Audio URL') },
          { value: 'video', label: qt.t('forms.video_url', 'Video URL') }
        ],
        Ci = Ei.concat([{ value: 'upload', label: 'Upload Attachment' }]),
        wi = (function(e) {
          Object(g.a)(a, e);
          var t = Object(v.a)(a);
          function a(e) {
            var n;
            return (
              Object(m.a)(this, a),
              ((n = t.call(this, e)).filePicker = void 0),
              (n.state = (function(e, t) {
                var a = { value: null },
                  n = [];
                if (e.originalAction && e.originalAction.type === ke.send_msg) {
                  var i = e.originalAction,
                    s = [];
                  if (
                    ((i.attachments || []).forEach(function(e) {
                      var t = e.indexOf(':'),
                        a = e.substring(0, t),
                        n = { type: a, url: e.substring(t + 1), uploaded: a.indexOf('/') > -1 };
                      s.push(n);
                    }),
                    i.templating)
                  ) {
                    var r = i.templating.template;
                    (a = { value: { id: r.uuid, name: r.name, type: ve.Template } }),
                      (n = i.templating.variables.map(function(e) {
                        return { value: e };
                      }));
                  }
                  return {
                    topic: {
                      value: yi.find(function(e) {
                        return e.value === i.topic;
                      })
                    },
                    template: a,
                    templateVariables: n,
                    attachments: s,
                    message: { value: i.text },
                    quickReplies: { value: i.quick_replies || [] },
                    quickReplyEntry: { value: '' },
                    sendAll: i.all_urns,
                    valid: !0
                  };
                }
                return {
                  topic: { value: null },
                  template: a,
                  templateVariables: [],
                  attachments: [],
                  message: { value: '' },
                  quickReplies: { value: [] },
                  quickReplyEntry: { value: '' },
                  sendAll: !1,
                  valid: !1
                };
              })(n.props.nodeSettings, n.props.assetStore)),
              Object(b.react)(Object(f.a)(n), { include: [/^handle/, /^on/] }),
              null !== n.state.template.value &&
                Ye(n.props.assetStore.templates, n.state.template.value.id).then(function(e) {
                  null !== e && n.handleTemplateChanged([e]);
                }),
              n
            );
          }
          return (
            Object(_.a)(a, [
              {
                key: 'handleUpdate',
                value: function(e) {
                  var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1],
                    a = {};
                  e.hasOwnProperty('text') &&
                    (a.message = ga(qt.t('forms.message', 'Message'), e.text, [ka(t)])),
                    e.hasOwnProperty('sendAll') && (a.sendAll = e.sendAll),
                    e.hasOwnProperty('quickReplies') &&
                      (a.quickReplies = ga(
                        qt.t('forms.quick_replies', 'Quick Replies'),
                        e.quickReplies,
                        [wa]
                      ));
                  var n = ca(this.state, a);
                  return this.setState(n), n.valid;
                }
              },
              {
                key: 'handleMessageUpdate',
                value: function(e, t) {
                  var a = arguments.length > 2 && void 0 !== arguments[2] && arguments[2];
                  return this.handleUpdate({ text: e }, a);
                }
              },
              {
                key: 'handleQuickRepliesUpdate',
                value: function(e) {
                  return this.handleUpdate({ quickReplies: e });
                }
              },
              {
                key: 'handleSendAllUpdate',
                value: function(e) {
                  return this.handleUpdate({ sendAll: e });
                }
              },
              {
                key: 'handleSave',
                value: function() {
                  if (!ht(this.state.message)) {
                    var e = this.handleMessageUpdate(this.state.message.value, null, !0),
                      t = this.state.templateVariables;
                    this.state.templateVariables.forEach(function(a, n) {
                      var i = ga('Variable '.concat(n + 1), a.value, [ya]);
                      (t = la()(t, Object(O.a)({}, n, { $merge: i }))), (e = e && !ht(i));
                    }),
                      (e = e && !ht(this.state.quickReplyEntry))
                        ? (this.props.updateAction(
                            (function(e, t) {
                              var a = t.attachments
                                  .filter(function(e) {
                                    return e.url.trim().length > 0;
                                  })
                                  .map(function(e) {
                                    return ''.concat(e.type, ':').concat(e.url);
                                  }),
                                n = null;
                              if (t.template && t.template.value) {
                                var i = Z();
                                if (e.originalAction && e.originalAction.type === ke.send_msg) {
                                  var s = e.originalAction;
                                  s.templating &&
                                    s.templating.template &&
                                    s.templating.template.uuid === t.template.value.id &&
                                    (i = s.templating.uuid);
                                }
                                n = {
                                  uuid: i,
                                  template: {
                                    uuid: t.template.value.id,
                                    name: t.template.value.name
                                  },
                                  variables: t.templateVariables.map(function(e) {
                                    return e.value;
                                  })
                                };
                              }
                              var r = {
                                attachments: a,
                                text: t.message.value,
                                type: ke.send_msg,
                                all_urns: t.sendAll,
                                quick_replies: t.quickReplies.value,
                                uuid: lt(e, ke.send_msg)
                              };
                              return (
                                n && (r.templating = n),
                                t.topic.value && (r.topic = t.topic.value.value),
                                r
                              );
                            })(this.props.nodeSettings, this.state)
                          ),
                          this.props.onClose(!1))
                        : this.setState({ templateVariables: t, valid: e });
                  }
                }
              },
              {
                key: 'handleAttachmentRemoved',
                value: function(e) {
                  var t = la()(this.state.attachments, { $splice: [[e, 1]] });
                  this.setState({ attachments: t });
                }
              },
              {
                key: 'getButtons',
                value: function() {
                  var e = this;
                  return {
                    primary: { name: qt.t('buttons.ok', 'Ok'), onClick: this.handleSave },
                    secondary: {
                      name: qt.t('buttons.cancel', 'Cancel'),
                      onClick: function() {
                        return e.props.onClose(!0);
                      }
                    }
                  };
                }
              },
              {
                key: 'renderUpload',
                value: function(e, t) {
                  var a = this;
                  return k.createElement(
                    'div',
                    { className: ki.a.url_attachment, key: e > -1 ? 'url_attachment_' + e : Z() },
                    k.createElement(
                      'div',
                      { className: ki.a.type_choice },
                      k.createElement(Ia, {
                        key: 'attachment_type_' + e,
                        name: qt.t('forms.type', 'Type'),
                        style: Ht.small,
                        entry: { value: { label: t.type } },
                        options: Ei
                      })
                    ),
                    k.createElement(
                      'div',
                      { className: ki.a.url },
                      k.createElement(
                        'span',
                        { className: ki.a.upload },
                        k.createElement(zn, {
                          icon: 'fe-download',
                          text: 'Download',
                          large: !0,
                          onClick: function() {
                            window.open(t.url, '_blank');
                          }
                        }),
                        k.createElement(
                          'div',
                          { className: ki.a.remove_upload },
                          k.createElement(zn, {
                            icon: 'fe-x',
                            text: 'Remove',
                            large: !0,
                            onClick: function() {
                              a.handleAttachmentRemoved(e);
                            }
                          })
                        )
                      )
                    )
                  );
                }
              },
              {
                key: 'handleUploadFile',
                value: function(e) {
                  var t = this,
                    a = this.state.attachments,
                    n = We('csrftoken'),
                    i = n ? { 'X-CSRFToken': n } : {},
                    s = new FormData();
                  s.append('file', e[0]),
                    Me.a
                      .post(this.context.config.endpoints.attachments, s, { headers: i })
                      .then(function(e) {
                        (a = la()(a, {
                          $push: [{ type: e.data.type, url: e.data.url, uploaded: !0 }]
                        })),
                          t.setState({ attachments: a });
                      })
                      .catch(function(e) {
                        console.log(e);
                      });
                }
              },
              {
                key: 'renderAttachment',
                value: function(e, t) {
                  var a,
                    n = this,
                    i = this.state.attachments;
                  return k.createElement(
                    'div',
                    { className: ki.a.url_attachment, key: e > -1 ? 'url_attachment_' + e : Z() },
                    k.createElement(
                      'div',
                      { className: ki.a.type_choice },
                      k.createElement(Ia, {
                        key: 'attachment_type_' + e,
                        style: Ht.small,
                        name: qt.t('forms.type_options', 'Type Options'),
                        placeholder: 'Add Attachment',
                        entry: {
                          value:
                            e > -1
                              ? ((a = t.type),
                                Ei.find(function(e) {
                                  return e.value === a;
                                }))
                              : null
                        },
                        onChange: function(a) {
                          'upload' === a.value
                            ? window.setTimeout(function() {
                                n.filePicker.click();
                              }, 200)
                            : ((i =
                                -1 === e
                                  ? la()(i, { $push: [{ type: a.value, url: '' }] })
                                  : la()(
                                      i,
                                      Object(O.a)({}, e, { $set: { type: a.value, url: t.url } })
                                    )),
                              n.setState({ attachments: i }));
                        },
                        options: e > -1 ? Ei : Ci
                      })
                    ),
                    e > -1
                      ? k.createElement(
                          k.Fragment,
                          null,
                          k.createElement(
                            'div',
                            { className: ki.a.url },
                            k.createElement(un, {
                              placeholder: 'URL',
                              name: qt.t('forms.url', 'URL'),
                              onChange: function(a) {
                                (i = la()(
                                  i,
                                  Object(O.a)({}, e, { $set: { type: t.type, url: a } })
                                )),
                                  n.setState({ attachments: i });
                              },
                              entry: { value: t.url },
                              autocomplete: !0
                            })
                          ),
                          k.createElement(
                            'div',
                            { className: ki.a.remove },
                            k.createElement(zn, {
                              icon: 'fe-x',
                              text: ' Remove',
                              large: !0,
                              onClick: function() {
                                n.handleAttachmentRemoved(e);
                              }
                            })
                          )
                        )
                      : null
                  );
                }
              },
              {
                key: 'renderAttachments',
                value: function() {
                  var e = this,
                    t = this.state.attachments.map(function(t, a) {
                      return t.uploaded ? e.renderUpload(a, t) : e.renderAttachment(a, t);
                    }),
                    a =
                      this.state.attachments.length < 3
                        ? this.renderAttachment(-1, { url: '', type: '' })
                        : null;
                  return k.createElement(
                    k.Fragment,
                    null,
                    k.createElement(
                      'p',
                      null,
                      qt.t(
                        'forms.send_msg_summary',
                        'Add an attachment to each message. The attachment can be a file you upload or a dynamic URL using expressions and variables from your Flow.',
                        { count: 3 }
                      )
                    ),
                    t,
                    a,
                    k.createElement('input', {
                      style: { display: 'none' },
                      ref: function(t) {
                        e.filePicker = t;
                      },
                      type: 'file',
                      onChange: function(t) {
                        return e.handleUploadFile(t.target.files);
                      }
                    })
                  );
                }
              },
              {
                key: 'handleTemplateChanged',
                value: function(e) {
                  var t = e ? e[0] : null;
                  if (t) {
                    var a = t.content.translations[0],
                      n =
                        0 === this.state.templateVariables.length ||
                        (this.state.template.value && this.state.template.value.id !== t.id)
                          ? $(0, a.variable_count).map(function() {
                              return { value: '' };
                            })
                          : this.state.templateVariables;
                    this.setState({
                      template: { value: t },
                      templateTranslation: a,
                      templateVariables: n
                    });
                  } else
                    this.setState({
                      template: { value: null },
                      templateTranslation: null,
                      templateVariables: []
                    });
                }
              },
              {
                key: 'handleTemplateVariableChanged',
                value: function(e, t) {
                  var a = ga('Variable '.concat(t + 1), e, [ya]),
                    n = la()(this.state.templateVariables, { $merge: Object(O.a)({}, t, a) });
                  this.setState({ templateVariables: n });
                }
              },
              {
                key: 'handleShouldExcludeTemplate',
                value: function(e) {
                  return !e.content.translations.find(function(e) {
                    return 'pending' === e.status || 'approved' === e.status;
                  });
                }
              },
              {
                key: 'renderTopicConfig',
                value: function() {
                  return k.createElement(
                    k.Fragment,
                    null,
                    k.createElement(
                      'p',
                      null,
                      qt.t(
                        'forms.send_msg_facebook_warning',
                        'Sending bulk messages over a Facebook channel requires that a topic be specified if the user has not sent a message in the last 24 hours. Setting a topic to use over Facebook is especially important for the first message in your flow.'
                      )
                    ),
                    k.createElement(Ia, {
                      key: 'fb_method_select',
                      name: qt.t('forms.method', 'Method'),
                      entry: this.state.topic,
                      onChange: this.handleTopicUpdate,
                      options: yi,
                      placeholder: qt.t(
                        'forms.send_msg_facebook_topic_placeholder',
                        'Select a topic to use over Facebook'
                      ),
                      clearable: !0
                    })
                  );
                }
              },
              {
                key: 'handleTopicUpdate',
                value: function(e) {
                  this.setState({ topic: { value: e } });
                }
              },
              {
                key: 'renderTemplateConfig',
                value: function() {
                  var e = this;
                  return k.createElement(
                    k.Fragment,
                    null,
                    k.createElement(
                      'p',
                      null,
                      qt.t(
                        'forms.whatsapp_warning',
                        'Sending messages over a WhatsApp channel requires that a template be used if you have not received a message from a contact in the last 24 hours. Setting a template to use over WhatsApp is especially important for the first message in your flow.'
                      )
                    ),
                    k.createElement(Qt, {
                      name: qt.t('forms.template', 'template'),
                      noOptionsMessage: 'No templates found',
                      assets: this.props.assetStore.templates,
                      entry: this.state.template,
                      onChange: this.handleTemplateChanged,
                      shouldExclude: this.handleShouldExcludeTemplate,
                      searchable: !0,
                      formClearable: !0
                    }),
                    this.state.templateTranslation
                      ? k.createElement(
                          k.Fragment,
                          null,
                          k.createElement(
                            'div',
                            { className: ki.a.template_text },
                            this.state.templateTranslation.content
                          ),
                          $(0, this.state.templateTranslation.variable_count).map(function(t) {
                            return k.createElement(
                              'div',
                              { className: ki.a.variable, key: 'tr_arg_' + t },
                              k.createElement(un, {
                                name: ''
                                  .concat(qt.t('forms.variable', 'Variable'), ' ')
                                  .concat(t + 1),
                                showLabel: !1,
                                placeholder: ''
                                  .concat(qt.t('forms.variable', 'Variable'), ' ')
                                  .concat(t + 1),
                                onChange: function(a) {
                                  e.handleTemplateVariableChanged(a, t);
                                },
                                entry: e.state.templateVariables[t],
                                autocomplete: !0
                              })
                            );
                          })
                        )
                      : null
                  );
                }
              },
              {
                key: 'handleAddQuickReply',
                value: function(e) {
                  var t = Object(fe.a)(this.state.quickReplies.value);
                  return (
                    !(t.length >= 10) &&
                    (!t.find(function(t) {
                      return t.toLowerCase() === e.toLowerCase();
                    }) &&
                      (t.push(e), this.setState({ quickReplies: { value: t } }), !0))
                  );
                }
              },
              {
                key: 'handleRemoveQuickReply',
                value: function(e) {
                  this.setState({
                    quickReplies: {
                      value: this.state.quickReplies.value.filter(function(t) {
                        return t !== e;
                      })
                    }
                  });
                }
              },
              {
                key: 'handleQuickReplyEntry',
                value: function(e) {
                  this.setState({ quickReplyEntry: e });
                }
              },
              {
                key: 'render',
                value: function() {
                  var e = this.props.typeConfig,
                    t = [
                      {
                        name: 'Quick Replies',
                        body: k.createElement(
                          k.Fragment,
                          null,
                          k.createElement(
                            'p',
                            null,
                            qt.t(
                              'forms.quick_replies_summary',
                              'Quick Replies are made into buttons for supported channels. For example, when asking a question, you might add a Quick Reply for "Yes" and one for "No".'
                            )
                          ),
                          k.createElement(Hn, {
                            name: qt.t('forms.quick_reply', 'quick_reply'),
                            helpText: k.createElement(
                              De.a,
                              { i18nKey: 'forms.add_quick_reply' },
                              'Add a new Quick Reply and press enter.'
                            ),
                            items: this.state.quickReplies,
                            entry: this.state.quickReplyEntry,
                            onRemoved: this.handleRemoveQuickReply,
                            onItemAdded: this.handleAddQuickReply,
                            onEntryChanged: this.handleQuickReplyEntry
                          })
                        ),
                        checked: this.state.quickReplies.value.length > 0,
                        hasErrors: ht(this.state.quickReplyEntry)
                      },
                      {
                        name: 'Attachments',
                        body: this.renderAttachments(),
                        checked: this.state.attachments.length > 0
                      },
                      {
                        name: 'Advanced',
                        body: k.createElement(Sn, {
                          name: qt.t('forms.all_destinations', 'All Destinations'),
                          title: 'All Destinations',
                          labelClassName: ki.a.checkbox,
                          checked: this.state.sendAll,
                          description: qt.t(
                            'forms.all_destinations',
                            "Send a message to all destinations known for this contact. If you aren't sure what this means, leave it unchecked."
                          ),
                          onChange: this.handleSendAllUpdate
                        }),
                        checked: this.state.sendAll
                      }
                    ];
                  if (qo(this.context.config, Ce.HAS_WHATSAPP)) {
                    var a = {
                      name: 'WhatsApp',
                      body: this.renderTemplateConfig(),
                      checked: null != this.state.template.value,
                      hasErrors: !!this.state.templateVariables.find(function(e) {
                        return ht(e);
                      })
                    };
                    t.splice(0, 0, a);
                  }
                  if (qo(this.context.config, Ce.HAS_FACEBOOK)) {
                    var n = {
                      name: 'Facebook',
                      body: this.renderTopicConfig(),
                      checked: null != this.state.topic.value
                    };
                    t.splice(0, 0, n);
                  }
                  return k.createElement(
                    me,
                    { title: e.name, headerClass: e.type, buttons: this.getButtons(), tabs: t },
                    k.createElement(sa, {
                      __className: '',
                      initialType: e,
                      onChange: this.props.onTypeChange
                    }),
                    k.createElement(un, {
                      name: qt.t('forms.message', 'Message'),
                      showLabel: !1,
                      count: Ka.SMS,
                      onChange: this.handleMessageUpdate,
                      entry: this.state.message,
                      autocomplete: !0,
                      focus: !0,
                      textarea: !0
                    }),
                    rt(this.props)
                  );
                }
              }
            ]),
            a
          );
        })(k.Component);
      wi.contextTypes = { config: yt };
      var Oi = function(e) {
          var t = e.value,
            a = e.name;
          return t
            ? (function(e, t) {
                return k.createElement('div', null, 'Save ', q(e), ' as ', q(t));
              })(t, a)
            : (function(e) {
                return k.createElement('div', null, 'Clear value for ', q(e));
              })(a);
        },
        Si = a(105),
        Ni = a.n(Si),
        xi = (function(e) {
          Object(g.a)(a, e);
          var t = Object(v.a)(a);
          function a(e) {
            var n;
            return (
              Object(m.a)(this, a),
              ((n = t.call(this, e)).state = (function(e) {
                if (e.originalAction && e.originalAction.type === ke.set_run_result) {
                  var t = e.originalAction;
                  return {
                    name: { value: { id: M(t.name), name: t.name, type: ve.Result } },
                    value: { value: t.value },
                    category: { value: t.category },
                    valid: !0
                  };
                }
                return {
                  name: { value: null },
                  value: { value: '' },
                  category: { value: '' },
                  valid: !1
                };
              })(n.props.nodeSettings)),
              Object(b.react)(Object(f.a)(n), { include: [/^handle/, /^on/] }),
              n
            );
          }
          return (
            Object(_.a)(a, [
              {
                key: 'handleNameUpdate',
                value: function(e) {
                  e ? this.handleUpdate({ name: e[0] }) : this.handleUpdate({ name: null });
                }
              },
              {
                key: 'handleValueUpdate',
                value: function(e) {
                  return this.handleUpdate({ value: e });
                }
              },
              {
                key: 'handleCategoryUpdate',
                value: function(e) {
                  return this.handleUpdate({ category: e });
                }
              },
              {
                key: 'handleUpdate',
                value: function(e) {
                  var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1],
                    a = {};
                  e.hasOwnProperty('name') &&
                    (a.name = ga(qt.t('forms.name', 'Name'), e.name, [ka(t), xa, Oa])),
                    e.hasOwnProperty('value') &&
                      (a.value = ga(qt.t('forms.value', 'Value'), e.value, [])),
                    e.hasOwnProperty('category') &&
                      (a.category = ga(qt.t('forms.category', 'Category'), e.category, []));
                  var n = ca(this.state, a);
                  return this.setState(n), n.valid;
                }
              },
              {
                key: 'handleSave',
                value: function() {
                  var e, t;
                  this.handleUpdate({ name: this.state.name.value }, !0) &&
                    (this.props.updateAction(
                      ((e = this.props.nodeSettings),
                      (t = this.state),
                      {
                        type: ke.set_run_result,
                        name: t.name.value.name,
                        value: t.value.value,
                        category: t.category.value,
                        uuid: lt(e, ke.set_run_result)
                      })
                    ),
                    this.props.onClose(!1));
                }
              },
              {
                key: 'getButtons',
                value: function() {
                  var e = this;
                  return {
                    primary: { name: qt.t('buttons.ok', 'Ok'), onClick: this.handleSave },
                    secondary: {
                      name: qt.t('buttons.cancel', 'Cancel'),
                      onClick: function() {
                        return e.props.onClose(!0);
                      }
                    }
                  };
                }
              },
              {
                key: 'handleCreateAssetFromInput',
                value: function(e) {
                  return { id: M(e), name: e, type: ve.Result };
                }
              },
              {
                key: 'render',
                value: function() {
                  var e = this.props.typeConfig,
                    t =
                      !ht(this.state.name) && this.state.name.value
                        ? '.' + M(this.state.name.value.name)
                        : '';
                  return k.createElement(
                    me,
                    { title: e.name, headerClass: e.type, buttons: this.getButtons() },
                    k.createElement(sa, {
                      __className: '',
                      initialType: e,
                      onChange: this.props.onTypeChange
                    }),
                    k.createElement(
                      'div',
                      { className: Ni.a.form },
                      k.createElement(Qt, {
                        name: qt.t('forms.result', 'Result'),
                        assets: this.props.assetStore.results,
                        entry: this.state.name,
                        searchable: !0,
                        createPrefix: qt.t('forms.create_prefix', 'New: '),
                        onChange: this.handleNameUpdate,
                        createAssetFromInput: this.handleCreateAssetFromInput,
                        formClearable: !0,
                        showLabel: !0,
                        helpText: k.createElement(
                          De.a,
                          {
                            i18nKey: 'forms.result_name_help',
                            values: { resultFormat: '@results'.concat(t) }
                          },
                          'By naming the result, you can reference it later using [[resultFormat]]'
                        )
                      }),
                      k.createElement(un, {
                        __className: Ni.a.value,
                        name: qt.t('forms.value', 'Value'),
                        showLabel: !0,
                        onChange: this.handleValueUpdate,
                        entry: this.state.value,
                        autocomplete: !0,
                        helpText:
                          'The value to save for this result or empty to clears it. You can use expressions, for example: @(title(input))'
                      }),
                      k.createElement(un, {
                        __className: Ni.a.category,
                        name: qt.t('forms.category', 'Category'),
                        placeholder: 'Optional',
                        showLabel: !0,
                        onChange: this.handleCategoryUpdate,
                        entry: this.state.category,
                        autocomplete: !1,
                        helpText:
                          "An optional category for your result. For age, the value might be 17, but the category might be 'Young Adult'"
                      })
                    ),
                    rt(this.props)
                  );
                }
              }
            ]),
            a
          );
        })(k.PureComponent),
        ji = function(e, t) {
          var a = e.flow,
            n = a.name,
            i = a.uuid;
          return k.createElement(
            k.Fragment,
            null,
            ut([{ name: n, id: i, type: ve.Flow }], 3, t.config.endpoints)
          );
        };
      ji.contextTypes = { config: yt };
      var Ti = ji,
        Ai = a(106),
        Ri = a.n(Ai),
        Ui = function(e, t) {
          var a = ct(e);
          return k.createElement(
            'div',
            { className: Ri.a.node },
            k.createElement(
              'div',
              { className: Ri.a.to },
              e.create_contact
                ? 'Create a new contact'
                : e.contact_query
                ? e.contact_query
                : ut(a, 5, t.config.endpoints)
            ),
            k.createElement(
              'div',
              { className: Ri.a.flow },
              dt({ name: e.flow.name, id: e.flow.uuid, type: ve.Flow }, t.config.endpoints)
            )
          );
        };
      Ui.contextTypes = { config: yt };
      var Di,
        Fi = Ui,
        Pi = { label: 'Select recipients manually', value: 'assets' },
        Ii = { label: 'Create a new contact', value: 'create_contact' },
        Li = { label: 'Select recipients from a query', value: 'contact_query' },
        Mi = [Pi, Li, Ii],
        zi = (function(e) {
          Object(g.a)(a, e);
          var t = Object(v.a)(a);
          function a(e) {
            var n;
            return (
              Object(m.a)(this, a),
              ((n = t.call(this, e)).state = (function(e) {
                if (e.originalAction && e.originalAction.type === ke.start_session) {
                  var t = e.originalAction;
                  return {
                    recipients: { value: ct(t) },
                    flow: { value: { id: t.flow.uuid, name: t.flow.name, type: ve.Flow } },
                    startType: { value: t.create_contact ? Ii : t.contact_query ? Li : Pi },
                    contactQuery: { value: t.contact_query || '' },
                    valid: !0
                  };
                }
                return {
                  recipients: { value: [] },
                  flow: { value: null },
                  startType: { value: Pi },
                  contactQuery: { value: '' },
                  valid: !1
                };
              })(n.props.nodeSettings)),
              Object(b.react)(Object(f.a)(n), { include: [/^on/, /^handle/] }),
              n
            );
          }
          return (
            Object(_.a)(a, [
              {
                key: 'handleRecipientsChanged',
                value: function(e) {
                  return this.handleUpdate({ recipients: e });
                }
              },
              {
                key: 'handleFlowChanged',
                value: function(e) {
                  var t = null;
                  return e && e.length > 0 && (t = e[0]), this.handleUpdate({ flow: t });
                }
              },
              {
                key: 'handleStartTypeChanged',
                value: function(e) {
                  return this.handleUpdate({ startType: e });
                }
              },
              {
                key: 'handleContactQueryChanged',
                value: function(e) {
                  return this.handleUpdate({ contactQuery: e });
                }
              },
              {
                key: 'handleUpdate',
                value: function(e) {
                  var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1],
                    a = {};
                  e.hasOwnProperty('startType') &&
                    ((a.startType = { value: e.startType }),
                    e.startType !== Pi && (a.recipients = { value: [] }),
                    e.startType !== Li && (a.contactQuery = { value: '' })),
                    e.hasOwnProperty('contactQuery') &&
                      (a.contactQuery = ga(
                        qt.t('forms.contact_query', 'Contact Query'),
                        e.contactQuery,
                        [ka(t && this.state.startType.value === Li)]
                      )),
                    e.hasOwnProperty('recipients') &&
                      (a.recipients = ga(qt.t('forms.recipients', 'Recipients'), e.recipients, [
                        ka(t && this.state.startType.value === Pi)
                      ])),
                    e.hasOwnProperty('flow') &&
                      (a.flow = ga(qt.t('forms.flow', 'Flow'), e.flow, [ka(t)]));
                  var n = ca(this.state, a);
                  return this.setState(n), n.valid;
                }
              },
              {
                key: 'handleSave',
                value: function() {
                  this.handleUpdate(
                    {
                      recipients: this.state.recipients.value,
                      flow: this.state.flow.value,
                      contactQuery: this.state.contactQuery.value
                    },
                    !0
                  ) &&
                    (this.props.updateAction(
                      (function(e, t) {
                        var a = t.flow.value,
                          n = {
                            legacy_vars: mt(t.recipients.value),
                            contacts: _t(t.recipients.value, ve.Contact),
                            groups: _t(t.recipients.value, ve.Group),
                            create_contact: t.startType.value === Ii,
                            flow: { name: a.name, uuid: a.id },
                            type: ke.start_session,
                            uuid: lt(e, ke.start_session)
                          };
                        return t.contactQuery.value && (n.contact_query = t.contactQuery.value), n;
                      })(this.props.nodeSettings, this.state)
                    ),
                    this.props.onClose(!1));
                }
              },
              {
                key: 'getButtons',
                value: function() {
                  var e = this;
                  return {
                    primary: { name: qt.t('buttons.ok', 'Ok'), onClick: this.handleSave },
                    secondary: {
                      name: qt.t('buttons.cancel', 'Cancel'),
                      onClick: function() {
                        return e.props.onClose(!0);
                      }
                    }
                  };
                }
              },
              {
                key: 'render',
                value: function() {
                  var e = this.props.typeConfig;
                  return k.createElement(
                    me,
                    { title: e.name, headerClass: e.type, buttons: this.getButtons() },
                    k.createElement(sa, {
                      __className: '',
                      initialType: e,
                      onChange: this.props.onTypeChange
                    }),
                    k.createElement(
                      'div',
                      null,
                      k.createElement(Ia, {
                        key: 'start_type_select',
                        name: qt.t('forms.start_type', 'Start Type'),
                        entry: this.state.startType,
                        onChange: this.handleStartTypeChanged,
                        options: Mi
                      })
                    ),
                    k.createElement('p', null),
                    k.createElement(
                      'div',
                      null,
                      K(this.state.startType.value === Pi)(
                        k.createElement(
                          'div',
                          { 'data-testid': 'recipients' },
                          k.createElement(Qt, {
                            name: qt.t('forms.recipients', 'Recipients'),
                            placeholder: 'Choose who should be started in the flow',
                            assets: this.props.assetStore.recipients,
                            completion: {
                              assetStore: this.props.assetStore,
                              schema: this.props.completionSchema
                            },
                            entry: this.state.recipients,
                            searchable: !0,
                            multi: !0,
                            onChange: this.handleRecipientsChanged
                          }),
                          k.createElement('p', null)
                        )
                      ),
                      K(this.state.startType.value === Li)(
                        k.createElement(
                          'div',
                          { 'data-testid': 'contact_query' },
                          k.createElement(un, {
                            name: qt.t('forms.contact_query', 'Contact Query'),
                            placeholder: 'household_id = @fields.household_id',
                            onChange: this.handleContactQueryChanged,
                            entry: this.state.contactQuery,
                            autocomplete: !0,
                            focus: !0
                          }),
                          k.createElement('p', null)
                        )
                      ),
                      k.createElement(Qt, {
                        name: qt.t('forms.flow', 'Flow'),
                        placeholder: 'Choose which flow to start',
                        assets: this.props.assetStore.flows,
                        entry: this.state.flow,
                        searchable: !0,
                        onChange: this.handleFlowChanged
                      })
                    ),
                    rt(this.props)
                  );
                }
              }
            ]),
            a
          );
        })(k.Component),
        Bi = a(126),
        Vi = a.n(Bi),
        Hi = function(e) {
          var t = Object.keys(e.amounts).map(function(t) {
            return k.createElement(
              'div',
              { key: 'transfer_' + t },
              k.createElement('div', { className: Vi.a.amount }, e.amounts[t]),
              k.createElement('div', { className: Vi.a.code }, t)
            );
          });
          return k.createElement('div', null, t);
        },
        qi = a(40),
        Ki = function(e, t) {
          return t ? q(e) : e;
        },
        Gi = function(e, t) {
          var a = arguments.length > 2 && void 0 !== arguments[2] && arguments[2];
          return t
            ? k.createElement(
                'div',
                { className: ''.concat(qi.node_asset) },
                'Set ',
                Ki(e, a),
                ' to ',
                q(t),
                '.'
              )
            : k.createElement('div', null, 'Clear ', Ki(e, a), '.');
        },
        Wi = function(e) {
          return e.type === ke.set_contact_field
            ? Gi(e.field.name, e.value, !0)
            : e.type === ke.set_contact_channel
            ? Gi('channel', e.channel.name, !1)
            : e.type === ke.set_contact_language
            ? Gi('language', el(e.language, e.languages), !1)
            : e.type === ke.set_contact_name
            ? Gi('name', e.name, !1)
            : null;
        },
        Yi = function(e) {
          if (e.ghost) {
            var t = Object.keys(e.inboundConnections);
            if (t.length > 0) {
              var a = t[0];
              return { exitUUID: a, nodeUUID: e.inboundConnections[a] };
            }
          }
        },
        Qi = [ft, vt, gt],
        Xi = [ft, vt],
        Ji = function() {
          var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null;
          return !e || Xt(e) ? Qi : Xi;
        },
        Zi = qt.t('forms.message_label', 'If the message response...'),
        $i =
          (qt.t('forms.expression_label', 'If the expression...'),
          qt.t('forms.split_by_groups', "Select the groups you'd like to split by below"));
      qt.t(
        'forms.localize_rules',
        'Sometimes languages need special rules to route things properly. If a translation is not provided, the original rule will be used.'
      );
      !(function(e) {
        (e.All_Responses = 'All Responses'),
          (e.No_Response = 'No Response'),
          (e.Any_Value = 'Any Value'),
          (e.Other = 'Other');
      })(Di || (Di = {}));
      var es = function(e, t, a, n) {
          var i = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : [],
            s = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : {},
            r = {
              node: { uuid: e, actions: i, router: t, exits: a },
              ui: { type: n, position: null, config: s },
              inboundConnections: {}
            };
          return r;
        },
        ts = function(e) {
          return !!(e.router && e.router.cases && e.router.cases.length);
        },
        as = function(e, t) {
          var a = (function(e) {
            return e.node.router ? e.node.router.categories : [];
          })(t);
          return JSON.parse(JSON.stringify(e)).map(function(e) {
            var n = a.find(function(t) {
              return t.uuid === e.category_uuid;
            });
            if (ns(e.type) && t.ui.config && t.ui.config.cases) {
              var i = t.ui.config.cases[e.uuid];
              i && i.arguments && (e.arguments = i.arguments);
            }
            return { uuid: e.uuid, kase: e, categoryName: n ? n.name : null, valid: !0 };
          });
        },
        ns = function(e) {
          return !![Ee.has_date_eq, Ee.has_date_gt, Ee.has_date_lt].find(function(t) {
            return e === t;
          });
        },
        is = function(e, t) {
          return e.name.toLowerCase().trim() === t.categoryName.trim().toLowerCase();
        },
        ss = function(e, t) {
          var a,
            n = [],
            i = [],
            s = [],
            r = {},
            o = t && t.router,
            l = (o && o.categories) || [],
            c = Object(C.a)(e);
          try {
            var u = function() {
              var e = a.value;
              if (!e.categoryName || 0 === e.categoryName.trim().length) return 'continue';
              ns(e.kase.type) &&
                ((r[e.uuid] = { arguments: e.kase.arguments }),
                (e.kase.arguments = [
                  '@(datetime_add(today(), '.concat(e.kase.arguments[0], ', "D"))')
                ]));
              var o = n.find(function(t) {
                return is(t, e);
              });
              if (!o) {
                if (
                  !(o = l.find(function(t) {
                    return is(t, e);
                  }))
                ) {
                  var c = rs(t);
                  if (c) {
                    var u = c.cases.find(function(t) {
                      return t.uuid === e.uuid;
                    });
                    if (u) {
                      var d = l.find(function(e) {
                        return e.uuid === u.category_uuid;
                      });
                      d && (o = Object(y.a)(Object(y.a)({}, d), {}, { name: e.categoryName }));
                    }
                  }
                }
                if (
                  (o &&
                    n.find(function(e) {
                      return e.uuid === o.uuid;
                    }) &&
                    (o = null),
                  o)
                ) {
                  n.push(o);
                  var p = t.exits.find(function(e) {
                    return o.exit_uuid === e.uuid;
                  });
                  s.push(p);
                }
              }
              if (!o) {
                var h = { uuid: Z() };
                s.push(h), (o = { uuid: Z(), name: e.categoryName, exit_uuid: h.uuid }), n.push(o);
              }
              i.push(Object(y.a)(Object(y.a)({}, e.kase), {}, { category_uuid: o.uuid }));
            };
            for (c.s(); !(a = c.n()).done; ) u();
          } catch (d) {
            c.e(d);
          } finally {
            c.f();
          }
          return { cases: i, categories: n, exits: s, caseConfig: r };
        },
        rs = function(e) {
          return e && e.router && e.router.type === s.switch ? e.router : null;
        },
        os = function(e, t) {
          var a = rs(t);
          if (a) {
            var n = a.categories.find(function(e) {
                return e.uuid === a.default_category_uuid;
              }),
              i = t.exits.find(function(e) {
                return e.uuid === n.exit_uuid;
              });
            return (n.name = e), { defaultCategory: n, defaultExit: i };
          }
          var s = { uuid: Z() };
          return { defaultCategory: { uuid: Z(), name: e, exit_uuid: s.uuid }, defaultExit: s };
        },
        ls = function(e) {
          var t = null,
            a = null,
            n = rs(e);
          if (n && n.wait && n.wait.timeout) {
            var i = n.wait.timeout.category_uuid;
            (t = n.categories.find(function(e) {
              return e.uuid === i;
            })),
              (a = e.exits.find(function(e) {
                return e.uuid === t.exit_uuid;
              }));
          }
          return (
            t ||
              ((a = { uuid: Z() }), (t = { uuid: Z(), name: Di.No_Response, exit_uuid: a.uuid })),
            { timeoutCategory: t, timeoutExit: a }
          );
        },
        cs = function(e, t, a) {
          var n = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : null,
            i = ss(e, a),
            s = n;
          s || (s = i.categories.length > 0 ? Di.Other : Di.All_Responses);
          var r = os(s, a),
            o = r.defaultCategory,
            l = r.defaultExit;
          i.categories.push(o), i.exits.push(l);
          var c = Object(y.a)(Object(y.a)({}, i), {}, { defaultCategory: o.uuid });
          if (t) {
            var u = ls(a),
              d = u.timeoutCategory,
              p = u.timeoutExit;
            i.categories.push(d), i.exits.push(p), (c.timeoutCategory = d.uuid);
          }
          return c;
        },
        us = function(e, t, a) {
          var n = [],
            i = [],
            r = [];
          if (t && 1 === t.node.actions.length && t.node.actions[0].type === e.type) {
            var o = rs(t.node);
            t.node.exits.forEach(function(e) {
              return n.push(e);
            }),
              o.cases.forEach(function(e) {
                return i.push(e);
              }),
              t.node.router.categories.forEach(function(e) {
                return r.push(e);
              });
          } else
            n.push({ uuid: Z(), destination_uuid: null }, { uuid: Z(), destination_uuid: null }),
              (r = [
                { uuid: Z(), name: p.Success, exit_uuid: n[0].uuid },
                { uuid: Z(), name: p.Failure, exit_uuid: n[1].uuid }
              ]),
              (i = [
                {
                  uuid: Z(),
                  type: a ? Ee.has_category : Ee.has_only_text,
                  arguments: [p.Success],
                  category_uuid: r[0].uuid
                }
              ]);
          var l = '@results.' + M(e.result_name);
          a || (l += '.category');
          var c = {
              type: s.switch,
              operand: l,
              cases: i,
              categories: r,
              default_category_uuid: r[r.length - 1].uuid
            },
            u = ke.split_by_webhook;
          return (
            e.type === ke.call_resthook
              ? (u = ke.split_by_resthook)
              : e.type === ke.open_ticket
              ? (u = ke.split_by_ticket)
              : e.type === ke.transfer_airtime && (u = ke.split_by_airtime),
            es(t.node.uuid, c, n, u, [e])
          );
        },
        ds = function(e, t) {
          var a = Ho(e) === ke.split_by_groups;
          return e.node.router
            ? e.node.router.categories
                .filter(function(e) {
                  return e.exit_uuid === t.uuid;
                })
                .map(function(e) {
                  return a
                    ? Object(y.a)({}, e)
                    : Object(y.a)(Object(y.a)({}, e), {}, { missing: !1 });
                })
            : [];
        },
        ps = function(e) {
          var t = rs(e);
          if (t && t.result_name) return t.result_name;
          if (e.router && e.router.type === s.random) return e.router.result_name;
          if (1 === e.actions.length) {
            var a = e.actions[0];
            if (
              a.type === ke.call_webhook ||
              a.type === ke.call_resthook ||
              a.type === ke.open_ticket ||
              a.type === ke.transfer_airtime
            )
              return a.result_name;
          }
        },
        hs = a(16),
        ms = function(e) {
          return hs(e, Y({ uuid: Z() }));
        },
        _s = function(e, t, a) {
          if (e && t.results) {
            var n = (function(e, t, a) {
              var n = M(e);
              if (n in t) {
                var i = t[n].references.filter(function(e) {
                  return e.nodeUUID !== a.nodeUUID || e.actionUUID !== a.actionUUID;
                });
                return 0 === i.length
                  ? hs(t, { $unset: [n] })
                  : hs(t, Object(O.a)({}, n, { references: { $set: i } }));
              }
              return t;
            })(e, t.results.items, a);
            return hs(t, { results: { items: { $set: n } } });
          }
          return t;
        },
        fs = function(e, t, a) {
          var n = M(e),
            i = n in t ? t[n] : { name: e, id: n, type: ve.Result, references: [] };
          return (
            i.references.find(function(e) {
              return e.nodeUUID === a.nodeUUID && e.actionUUID === a.actionUUID;
            }) || i.references.push(a),
            hs(t, { $merge: Object(O.a)({}, n, i) })
          );
        },
        gs = function(e, t) {
          return hs(e, { revisions: { items: { $merge: Object(O.a)({}, t.id, t) } } });
        },
        vs = function(e, t, a, n) {
          var i = e,
            s = Ml(e, t);
          n && Ml(e, n);
          var r = zl(s.node, a),
            o = s.node.exits[r].destination_uuid;
          return (
            (i = hs(
              i,
              Object(O.a)({}, t, {
                node: { exits: Object(O.a)({}, r, { destination_uuid: W(n) }) }
              })
            )),
            n && (i = hs(i, Object(O.a)({}, n, { inboundConnections: Y(Object(O.a)({}, a, t)) }))),
            null != o && (i = hs(i, Object(O.a)({}, o, { inboundConnections: Q([[a]]) }))),
            i
          );
        },
        ys = function(e, t) {
          var a = e;
          a[t.node.uuid] && (a = ks(e, t.node.uuid)),
            (a = hs(e, Y(Object(O.a)({}, t.node.uuid, t))));
          for (var n = 0, i = Object.keys(t.inboundConnections); n < i.length; n++) {
            var s = i[n],
              r = t.inboundConnections[s],
              o = Ml(e, r),
              l = zl(o.node, s);
            a = hs(
              a,
              Object(O.a)({}, r, {
                node: { exits: Object(O.a)({}, l, Y({ destination_uuid: t.node.uuid })) }
              })
            );
          }
          return a;
        },
        bs = function(e, t, a) {
          var n = e[t],
            i = (function(e) {
              if (e.router.type === s.switch) {
                var t = e.router;
                return e.exits.find(function(e) {
                  return e.uuid === t.default_category_uuid;
                });
              }
            })(n.node),
            r = i ? i.destination_uuid : null,
            o = ks(e, n.node.uuid, !1),
            l = {
              node: { uuid: Z(), actions: [a], exits: [{ uuid: Z(), destination_uuid: r }] },
              ui: { position: n.ui.position, type: ke.execute_actions },
              inboundConnections: n.inboundConnections
            };
          return (o = ys(o, l));
        },
        ks = function(e, t) {
          var a,
            n = !(arguments.length > 2 && void 0 !== arguments[2]) || arguments[2],
            i = Ml(e, t),
            s = e,
            r = Object(C.a)(i.node.exits);
          try {
            for (r.s(); !(a = r.n()).done; ) {
              var o = a.value;
              o.destination_uuid &&
                (s = hs(
                  s,
                  Object(O.a)({}, o.destination_uuid, { inboundConnections: Q([o.uuid]) })
                ));
            }
          } catch (_) {
            r.e(_);
          } finally {
            r.f();
          }
          for (var l = 0, c = Object.keys(i.inboundConnections); l < c.length; l++) {
            var u = c[l],
              d = null;
            n && 1 === i.node.exits.length && (d = i.node.exits[0].destination_uuid);
            var p = i.inboundConnections[u],
              h = Ml(e, p);
            if (d)
              try {
                Hl(s, p, d);
              } catch (f) {
                d = null;
              }
            var m = zl(h.node, u);
            (s = hs(
              s,
              Object(O.a)({}, p, {
                node: { exits: Object(O.a)({}, m, { destination_uuid: W(d) }) }
              })
            )),
              d &&
                (Ml(e, d),
                (s = hs(s, Object(O.a)({}, d, { inboundConnections: Y(Object(O.a)({}, u, p)) }))));
          }
          return hs(s, Q([t]));
        },
        Es = function(e, t, a) {
          var n = !(arguments.length > 3 && void 0 !== arguments[3]) || arguments[3],
            i = a.left,
            s = a.top,
            r = { left: i, top: s };
          return (
            n && (r = I(i, s)),
            hs(e, Object(O.a)({}, t, { ui: { position: W({ left: r.left, top: r.top }) } }))
          );
        },
        Cs = function(e, t, a) {
          var n = !(arguments.length > 3 && void 0 !== arguments[3]) || arguments[3];
          e._ui.stickies || (e._ui.stickies = {});
          var i = e._ui.stickies[t].position,
            s = i.right - i.left,
            r = i.bottom - i.top,
            o = a.left,
            l = a.top,
            c = { left: o, top: l };
          return (
            n && (c = I(o, l)),
            hs(e, {
              _ui: {
                stickies: Object(O.a)({}, t, {
                  position: W({ left: c.left, top: c.top, right: c.left + s, bottom: c.top + r })
                })
              }
            })
          );
        },
        ws = function(e, t, a) {
          return (
            e._ui.stickies || (e._ui.stickies = {}),
            hs(
              e,
              a ? { _ui: { stickies: Y(Object(O.a)({}, t, a)) } } : { _ui: { stickies: Q([t]) } }
            )
          );
        },
        Os = a(176),
        Ss = a.n(Os),
        Ns = (function(e) {
          Object(g.a)(a, e);
          var t = Object(v.a)(a);
          function a(e) {
            var n;
            return (
              Object(m.a)(this, a),
              ((n = t.call(this, e)).state = Ko(n.props.nodeSettings, n.props.assetStore)),
              Object(b.react)(Object(f.a)(n), { include: [/^get/, /^on/, /^handle/] }),
              n
            );
          }
          return (
            Object(_.a)(a, [
              {
                key: 'handleUpdate',
                value: function(e) {
                  var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1],
                    a = {};
                  e.hasOwnProperty('type') && (a.type = e.type),
                    e.hasOwnProperty('name') && (a.name = { value: e.name }),
                    e.hasOwnProperty('channel') &&
                      (a.channel = ga(qt.t('forms.channel', 'Channel'), e.channel, [ka(t)])),
                    e.hasOwnProperty('language') &&
                      (a.language = ga(qt.t('forms.language', 'Language'), e.language, [ka(t)])),
                    e.hasOwnProperty('field') && (a.field = { value: e.field }),
                    e.hasOwnProperty('fieldValue') &&
                      (a.fieldValue = { value: e.fieldValue, validationFailures: [] });
                  var n = ca(this.state, a);
                  return this.setState(n), n.valid;
                }
              },
              {
                key: 'handlePropertyChange',
                value: function(e) {
                  var t = e[0];
                  if (t.type === ve.ContactProperty)
                    switch (t.id) {
                      case l.Name:
                        return this.handleUpdate({ field: t, type: ke.set_contact_name, name: '' });
                      case l.Language:
                        return this.handleUpdate({ field: t, type: ke.set_contact_language });
                      case l.Channel:
                        return this.handleUpdate({ field: t, type: ke.set_contact_channel });
                    }
                  return this.handleUpdate({
                    type: ke.set_contact_field,
                    field: t,
                    fieldValue: ''
                  });
                }
              },
              {
                key: 'handleChannelUpdate',
                value: function(e) {
                  var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                  return this.handleUpdate({ channel: e[0] }, t);
                }
              },
              {
                key: 'handleLanguageUpdate',
                value: function(e) {
                  var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                  return this.handleUpdate({ language: e[0] }, t);
                }
              },
              {
                key: 'handleFieldValueUpdate',
                value: function(e) {
                  return this.handleUpdate({ fieldValue: e, name: '' });
                }
              },
              {
                key: 'handleNameUpdate',
                value: function(e) {
                  return this.handleUpdate({ name: e, fieldValue: '' });
                }
              },
              {
                key: 'onUpdated',
                value: function(e, t) {
                  var a = t().flowContext.assetStore;
                  this.state.field.value.type === ve.Field &&
                    e(
                      Re(
                        (function(e, t, a) {
                          var n = Ql(a);
                          return hs(t, Object(O.a)({}, e, { items: { $merge: n } }));
                        })('fields', a, [this.state.field.value])
                      )
                    );
                }
              },
              {
                key: 'handleFieldAdded',
                value: function(e) {
                  this.props.addAsset('fields', e), this.handlePropertyChange([e]);
                }
              },
              {
                key: 'handleSave',
                value: function() {
                  var e = this.state.valid;
                  this.state.type === ke.set_contact_language &&
                    (e = this.handleLanguageUpdate([this.state.language.value], !0) && e),
                    this.state.type === ke.set_contact_channel &&
                      (e = this.handleChannelUpdate([this.state.channel.value], !0) && e),
                    e &&
                      (this.props.updateAction(
                        Go(this.props.nodeSettings, this.state),
                        this.onUpdated
                      ),
                      this.props.onClose(!0));
                }
              },
              {
                key: 'getButtons',
                value: function() {
                  var e = this;
                  return {
                    primary: { name: qt.t('buttons.ok', 'Ok'), onClick: this.handleSave },
                    secondary: {
                      name: qt.t('buttons.cancel', 'Cancel'),
                      onClick: function() {
                        return e.props.onClose(!0);
                      }
                    }
                  };
                }
              },
              {
                key: 'getValueWidget',
                value: function() {
                  return this.state.type === ke.set_contact_channel
                    ? k.createElement(Qt, {
                        key: 'select_channel',
                        name: qt.t('forms.channel', 'Channel'),
                        placeholder: 'Select the channel to use for this contact',
                        assets: this.props.assetStore.channels,
                        entry: this.state.channel,
                        searchable: !0,
                        valueClearable: !0,
                        onChange: this.handleChannelUpdate
                      })
                    : this.state.type === ke.set_contact_language
                    ? k.createElement(Qt, {
                        key: 'select_language',
                        name: qt.t('forms.language', 'Language'),
                        placeholder: 'Select the language to use for this contact',
                        assets: this.props.assetStore.languages,
                        entry: this.state.language,
                        searchable: !0,
                        valueClearable: !0,
                        onChange: this.handleLanguageUpdate,
                        shouldExclude: function(e) {
                          return 'base' === e.id;
                        }
                      })
                    : this.state.type === ke.set_contact_name
                    ? k.createElement(un, {
                        name: qt.t('forms.name', 'Name'),
                        placeholder: 'Enter a new name for the contact',
                        onChange: this.handleNameUpdate,
                        entry: this.state.name,
                        autocomplete: !0,
                        focus: !0
                      })
                    : k.createElement(un, {
                        name: qt.t('forms.field_value', 'Field Value'),
                        placeholder: 'Enter a new value for '.concat(this.state.field.value.name),
                        onChange: this.handleFieldValueUpdate,
                        entry: this.state.fieldValue,
                        autocomplete: !0,
                        focus: !0
                      });
                }
              },
              {
                key: 'handleCreateAssetFromInput',
                value: function(e) {
                  return { label: e, value_type: 'text' };
                }
              },
              {
                key: 'render',
                value: function() {
                  var e = this.props.typeConfig;
                  return k.createElement(
                    me,
                    { title: e.name, headerClass: e.type, buttons: this.getButtons() },
                    k.createElement(sa, {
                      __className: '',
                      initialType: e,
                      onChange: this.props.onTypeChange
                    }),
                    k.createElement('p', null, 'Select what to update'),
                    k.createElement(Qt, {
                      name: qt.t('forms.contact_field', 'Contact Field'),
                      assets: this.props.assetStore.fields,
                      additionalOptions: Ji(this.context.config.flowType),
                      entry: this.state.field,
                      searchable: !0,
                      sortFunction: Wo,
                      onChange: this.handlePropertyChange,
                      createPrefix: 'Create Contact Field: ',
                      createAssetFromInput: this.handleCreateAssetFromInput,
                      onAssetCreated: this.handleFieldAdded
                    }),
                    k.createElement('div', { className: Ss.a.value }, this.getValueWidget()),
                    rt(this.props)
                  );
                }
              }
            ]),
            a
          );
        })(k.Component);
      Ns.contextTypes = { config: yt };
      var xs = a(77),
        js = a.n(xs),
        Ts = (function(e) {
          Object(g.a)(a, e);
          var t = Object(v.a)(a);
          function a(e) {
            var n;
            return (
              Object(m.a)(this, a),
              (n = t.call(this, e)),
              Object(b.react)(Object(f.a)(n), { include: [/^on/, /^handle/] }),
              n
            );
          }
          return (
            Object(_.a)(a, [
              {
                key: 'handleCurrencyChanged',
                value: function(e) {
                  this.props.onChange(this.props.index, {
                    value: { amount: this.props.transfer.value.amount, code: e[0].id },
                    validationFailures: this.props.transfer.validationFailures
                  });
                }
              },
              {
                key: 'handleAmountChanged',
                value: function(e) {
                  var t = [];
                  isNaN(Number(e)) && t.push({ message: 'Invalid amount, please enter a number' }),
                    this.props.onChange(this.props.index, {
                      value: { amount: e, code: this.props.transfer.value.code },
                      validationFailures: t
                    });
                }
              },
              {
                key: 'render',
                value: function() {
                  var e = this,
                    t = 'Transfer Amount',
                    a = '',
                    n = null;
                  if (this.props.transfer.value) {
                    var i = this.props.transfer.value;
                    i.code && ((t = ''.concat(i.code, ' ').concat(t)), (n = { id: i.code })),
                      (a = '' + i.amount);
                  }
                  var s =
                      this.props.index > -1
                        ? k.createElement(
                            'div',
                            { className: js.a.amount },
                            k.createElement(un, {
                              placeholder: t,
                              name: qt.t('forms.value', 'value'),
                              onChange: this.handleAmountChanged,
                              entry: { value: a }
                            })
                          )
                        : null,
                    r =
                      this.props.index > -1
                        ? k.createElement(
                            'div',
                            {
                              className: js.a.remove,
                              onClick: function() {
                                e.props.onRemove(e.props.index);
                              }
                            },
                            k.createElement('span', { className: 'fe-x' })
                          )
                        : null;
                  return k.createElement(
                    jt,
                    {
                      name: qt.t('forms.currency', 'Currency'),
                      entry: this.props.transfer,
                      __className: js.a.form_element
                    },
                    k.createElement(
                      'div',
                      { className: js.a.transfer },
                      k.createElement(
                        'div',
                        { className: js.a.currency },
                        k.createElement(Qt, {
                          styles: Rt,
                          name: qt.t('forms.currency', 'Currency'),
                          shouldExclude: function(t) {
                            return (
                              e.props.exclude.filter(function(e) {
                                return e.value.code === t.id;
                              }).length > 1
                            );
                          },
                          assets: this.props.currencies,
                          entry: { value: n },
                          searchable: !0,
                          onChange: this.handleCurrencyChanged,
                          placeholder: qt.t('forms.currency', 'Select a Currency')
                        })
                      ),
                      s,
                      ' ',
                      r
                    )
                  );
                }
              }
            ]),
            a
          );
        })(k.Component),
        As = a(127),
        Rs = a.n(As),
        Us = (function(e) {
          Object(g.a)(a, e);
          var t = Object(v.a)(a);
          function a(e) {
            var n;
            return (
              Object(m.a)(this, a),
              (n = t.call(this, e)),
              Object(b.react)(Object(f.a)(n), { include: [/^handle/] }),
              (n.state = { editing: n.props.value.value.trim().length > 0, valid: !0 }),
              n
            );
          }
          return (
            Object(_.a)(a, [
              {
                key: 'handleTextChanged',
                value: function(e) {
                  this.props.onChange(e);
                }
              },
              {
                key: 'handleEditingChanged',
                value: function() {
                  this.setState({ editing: !0 });
                }
              },
              {
                key: 'render',
                value: function() {
                  var e;
                  return (
                    (e = this.state.editing
                      ? k.createElement(un, {
                          'data-spec': 'optional-field',
                          name: this.props.name,
                          showLabel: !0,
                          entry: this.props.value,
                          onChange: this.handleTextChanged,
                          helpText: this.props.helpText,
                          maxLength: this.props.maxLength
                        })
                      : k.createElement(
                          'span',
                          {
                            'data-spec': 'toggle-link',
                            className: Rs.a.toggle_link,
                            onClick: this.handleEditingChanged
                          },
                          this.props.toggleText
                        )),
                    k.createElement('div', { className: Rs.a.optional_text_input }, e)
                  );
                }
              }
            ]),
            a
          );
        })(k.Component),
        Ds = function(e, t) {
          var a = !ht(e) && e.value ? '.' + M(e.value) : '';
          return k.createElement(Us, {
            name: qt.t('forms.save_result_name', 'Result Name'),
            maxLength: 64,
            value: e,
            onChange: t,
            toggleText: qt.t('forms.save_as_title', 'Save as..'),
            helpText: k.createElement(
              De.a,
              { i18nKey: 'forms.result_name_help', values: { resultFormat: '@results'.concat(a) } },
              'By naming the result, you can reference it later using [[resultFormat]]'
            )
          });
        },
        Fs = a(128),
        Ps = a.n(Fs),
        Is = function(e) {
          var t = e.validationFailures.map(function(e, t) {
            return k.createElement(
              'div',
              { key: 'validation_' + t, className: Ps.a.error },
              e.message
            );
          });
          return k.createElement('div', { className: Ps.a.errors }, t);
        },
        Ls = a(177),
        Ms = a.n(Ls),
        zs = function(e) {
          var t =
            e.originalAction ||
            (e.originalNode.node.actions.length > 0 && e.originalNode.node.actions[0]);
          if (t.type === ke.transfer_airtime) return t;
        },
        Bs = (function(e) {
          Object(g.a)(a, e);
          var t = Object(v.a)(a);
          function a(e) {
            var n;
            return (
              Object(m.a)(this, a),
              ((n = t.call(this, e)).state = (function(e) {
                var t = zs(e),
                  a = { value: 'Result' },
                  n = !1,
                  i = [];
                return (
                  t &&
                    t.type === ke.transfer_airtime &&
                    (Object.keys(t.amounts).forEach(function(e) {
                      i.push({ value: { code: e, amount: '' + t.amounts[e] } });
                    }),
                    (a = { value: t.result_name }),
                    (n = !0)),
                  { valid: n, amounts: i, resultName: a }
                );
              })(e.nodeSettings)),
              Object(b.react)(Object(f.a)(n), { include: [/^on/, /^handle/] }),
              n
            );
          }
          return (
            Object(_.a)(a, [
              {
                key: 'handleSave',
                value: function() {
                  var e = [];
                  this.state.amounts.forEach(function(t, a) {
                    0 === t.value.amount.trim().length && e.push(a);
                  });
                  var t = !this.state.amounts.find(function(e) {
                    return (e.validationFailures || []).length > 0;
                  });
                  t &&
                    ((t =
                      void 0 !==
                      this.state.amounts.find(function(e) {
                        return e.value.amount.trim().length > 0;
                      })) ||
                      this.setState({
                        valid: !1,
                        validationFailures: [
                          { message: 'At least one amount to transfer is required' }
                        ]
                      })),
                    t &&
                      (this.props.updateRouter(
                        (function(e, t) {
                          var a = Z(),
                            n = zs(e);
                          n && (a = n.uuid);
                          var i = {};
                          t.amounts.forEach(function(e) {
                            e.value.amount.trim().length > 0 &&
                              (i[e.value.code] = Number(e.value.amount));
                          });
                          var s = {
                            uuid: a,
                            type: ke.transfer_airtime,
                            amounts: i,
                            result_name: t.resultName.value
                          };
                          return us(s, e.originalNode, !0);
                        })(this.props.nodeSettings, this.state)
                      ),
                      this.props.onClose(!1));
                }
              },
              {
                key: 'handleUpdateResultName',
                value: function(e) {
                  var t = ga(qt.t('forms.result_name', 'Result Name'), e, [ya, xa, Oa]);
                  this.setState({ resultName: t, valid: this.state.valid && !ht(t) });
                }
              },
              {
                key: 'getButtons',
                value: function() {
                  var e = this;
                  return {
                    primary: { name: 'Ok', onClick: this.handleSave },
                    secondary: {
                      name: 'Cancel',
                      onClick: function() {
                        return e.props.onClose(!0);
                      }
                    }
                  };
                }
              },
              {
                key: 'handleRemoved',
                value: function(e) {
                  var t = la()(this.state.amounts, { $splice: [[e, 1]] });
                  this.setState({ amounts: t });
                }
              },
              {
                key: 'handleTransferChanged',
                value: function(e, t) {
                  var a = this.state.amounts;
                  (a =
                    e > -1
                      ? la()(this.state.amounts, { $merge: Object(O.a)({}, e, t) })
                      : la()(this.state.amounts, { $push: [t] })),
                    this.setState({ amounts: a, validationFailures: [] });
                }
              },
              {
                key: 'renderAmount',
                value: function(e, t) {
                  return k.createElement(Ts, {
                    key: 'currency_' + e,
                    exclude: this.state.amounts,
                    currencies: this.props.assetStore.currencies,
                    transfer: t,
                    index: e,
                    onChange: this.handleTransferChanged,
                    onRemove: this.handleRemoved
                  });
                }
              },
              {
                key: 'renderAmounts',
                value: function() {
                  var e = this,
                    t = this.state.amounts.map(function(t, a) {
                      return e.renderAmount(a, t);
                    });
                  return k.createElement(
                    'div',
                    null,
                    t,
                    this.renderAmount(-1, { value: { code: null, amount: '' } })
                  );
                }
              },
              {
                key: 'render',
                value: function() {
                  var e = this.props.typeConfig,
                    t = this.state.validationFailures
                      ? k.createElement(Is, { validationFailures: this.state.validationFailures })
                      : null;
                  return k.createElement(
                    me,
                    { title: e.name, headerClass: e.type, buttons: this.getButtons() },
                    k.createElement(sa, {
                      __className: '',
                      initialType: e,
                      onChange: this.props.onTypeChange
                    }),
                    this.renderAmounts(),
                    t,
                    k.createElement(
                      'div',
                      { className: Ms.a.result_name },
                      Ds(this.state.resultName, this.handleUpdateResultName)
                    ),
                    rt(this.props)
                  );
                }
              }
            ]),
            a
          );
        })(k.PureComponent),
        Vs = a(178),
        Hs = a.n(Vs),
        qs = [
          {
            type: Ee.has_top_intent,
            verboseName: qt.t('operators.has_top_intent', 'has top intent'),
            operands: 2,
            visibility: Ke
          },
          {
            type: Ee.has_intent,
            verboseName: qt.t('operators.has_intent', 'has intent'),
            operands: 2,
            visibility: Ke
          }
        ],
        Ks = [
          {
            type: Ee.has_any_word,
            verboseName: qt.t('operators.has_any_word', 'has any of the words'),
            operands: 1,
            visibility: qe
          },
          {
            type: Ee.has_all_words,
            verboseName: qt.t('operators.has_all_words', 'has all of the words'),
            operands: 1,
            visibility: qe
          },
          {
            type: Ee.has_phrase,
            verboseName: qt.t('operators.has_phrase', 'has the phrase'),
            operands: 1,
            visibility: qe
          },
          {
            type: Ee.has_only_phrase,
            verboseName: qt.t('operators.has_only_phrase', 'has only the phrase'),
            operands: 1,
            visibility: qe
          },
          {
            type: Ee.has_beginning,
            verboseName: qt.t('operators.has_beginning', 'starts with'),
            operands: 1
          },
          {
            type: Ee.has_text,
            verboseName: qt.t('operators.has_text', 'has some text'),
            operands: 0,
            categoryName: 'Has Text',
            visibility: qe
          },
          {
            type: Ee.has_number,
            verboseName: qt.t('operators.has_number', 'has a number'),
            operands: 0,
            categoryName: 'Has Number'
          },
          {
            type: Ee.has_number_between,
            verboseName: qt.t('operators.has_number_between', 'has a number between'),
            operands: 2
          },
          {
            type: Ee.has_number_lt,
            verboseName: qt.t('operators.has_number_lt', 'has a number below'),
            operands: 1
          },
          {
            type: Ee.has_number_lte,
            verboseName: qt.t('operators.has_number_lte', 'has a number at or below'),
            operands: 1
          },
          {
            type: Ee.has_number_eq,
            verboseName: qt.t('operators.has_number_eq', 'has a number equal to'),
            operands: 1
          },
          {
            type: Ee.has_number_gte,
            verboseName: qt.t('operators.has_number_gte', 'has a number at or above'),
            operands: 1
          },
          {
            type: Ee.has_number_gt,
            verboseName: qt.t('operators.has_number_gt', 'has a number above'),
            operands: 1
          },
          {
            type: Ee.has_date,
            verboseName: qt.t('operators.has_date', 'has a date'),
            operands: 0,
            categoryName: qt.t('operators.has_date_category', 'Has Date'),
            visibility: qe
          },
          {
            type: Ee.has_date_lt,
            verboseName: qt.t('operators.has_date_lt', 'has a date before'),
            operands: 1,
            visibility: qe
          },
          {
            type: Ee.has_date_eq,
            verboseName: qt.t('operators.has_date_eq', 'has a date equal to'),
            operands: 1,
            visibility: qe
          },
          {
            type: Ee.has_date_gt,
            verboseName: qt.t('operators.has_date_gt', 'has a date after'),
            operands: 1,
            visibility: qe
          },
          {
            type: Ee.has_time,
            verboseName: qt.t('operators.has_time', 'has a time'),
            operands: 0,
            categoryName: 'Has Time',
            visibility: qe
          },
          {
            type: Ee.has_group,
            verboseName: qt.t('operators.has_group', 'is in the group'),
            operands: 1,
            visibility: Be
          },
          {
            type: Ee.has_category,
            verboseName: qt.t('operators.has_category', 'has the category'),
            operands: 0,
            visibility: Be
          },
          {
            type: Ee.has_phone,
            verboseName: qt.t('operators.has_phone', 'has a phone number'),
            operands: 0,
            categoryName: qt.t('operators.has_phone_category', 'Has Phone')
          },
          {
            type: Ee.has_email,
            verboseName: qt.t('operators.has_email', 'has an email'),
            operands: 0,
            categoryName: qt.t('operators.has_email_category', 'Has Email'),
            visibility: qe
          },
          {
            type: Ee.has_state,
            verboseName: qt.t('operators.has_state', 'has state'),
            operands: 0,
            categoryName: qt.t('operators.has_state_category', 'Has State')
          },
          {
            type: Ee.has_district,
            verboseName: qt.t('operators.has_district', 'has district'),
            operands: 1,
            categoryName: qt.t('operators.has_district_category', 'Has District')
          },
          {
            type: Ee.has_ward,
            verboseName: qt.t('operators.has_ward', 'has ward'),
            operands: 2,
            categoryName: qt.t('operators.has_ward_category', 'Has Ward')
          },
          {
            type: Ee.has_error,
            verboseName: qt.t('operators.has_error', 'has an error'),
            operands: 0,
            categoryName: qt.t('operators.has_error_category', 'Has Error'),
            visibility: Be
          },
          {
            type: Ee.has_value,
            verboseName: qt.t('operators.has_value', 'is not empty'),
            operands: 0,
            categoryName: qt.t('operators.has_value_category', 'Not Empty'),
            visibility: Be
          },
          {
            type: Ee.has_pattern,
            verboseName: qt.t('operator.has_pattern', 'matches regex'),
            operands: 1
          }
        ],
        Gs = [].concat(Ks, qs).reduce(function(e, t) {
          return (e[t.type] = t), e;
        }, {}),
        Ws = function(e) {
          return Gs[e];
        },
        Ys = a(42),
        Qs = a.n(Ys),
        Xs = function(e) {
          var t = '';
          return (
            e.indexOf('_lt') > -1
              ? (t = e.indexOf('date') > -1 ? 'Before ' : e.indexOf('lte') > -1 ? '<= ' : '< ')
              : e.indexOf('_gt') > -1 &&
                (t = e.indexOf('date') > -1 ? 'After ' : e.indexOf('gte') > -1 ? '>= ' : '>'),
            t
          );
        },
        Js = function(e) {
          var t,
            a,
            n,
            i = e.exitEdited && e.exitName ? [ya] : [],
            s = {
              operatorConfig: e.operatorConfig,
              district: { value: '', validationFailures: [] },
              state: { value: '', validationFailures: [] },
              min: { value: '', validationFailures: [] },
              max: { value: '', validationFailures: [] },
              argument: { value: '', validationFailures: [] },
              intent: { value: null, validationFailures: [] },
              confidence: { value: '', validationFailures: [] }
            };
          if (e.operatorConfig.operands > 0) {
            switch (e.operatorConfig.type) {
              case Ee.has_number_eq:
              case Ee.has_number_gt:
              case Ee.has_number_gte:
              case Ee.has_number_lt:
              case Ee.has_number_lte:
                i.push(ja);
                break;
              case Ee.has_date_eq:
              case Ee.has_date_lt:
              case Ee.has_date_gt:
                i.push(Na);
            }
            if (e.operatorConfig.type === Ee.has_number_between)
              (s.min = ga(
                qt.t('forms.minimum_value', 'Minimum value'),
                e.min || '',
                i.concat([
                  Na,
                  ((a = parseFloat(e.max)),
                  (n = qt.t('forms.the_maximum', 'the maximum')),
                  function(e, t) {
                    return 'string' === typeof t && parseFloat(t) >= a
                      ? {
                          value: t,
                          failures: [
                            {
                              message: ''
                                .concat(e, ' ')
                                .concat(qt.t('forms.must_be_less_than', 'must be less than'), ' ')
                                .concat(n)
                            }
                          ]
                        }
                      : { failures: [], value: t };
                  })
                ])
              )),
                (s.max = ga(
                  qt.t('forms.maximum_value', 'Maximum value'),
                  e.max || '',
                  i.concat([Na, ba(parseFloat(e.min), qt.t('forms.the_minimum', 'the minimum'))])
                ));
            else if (e.operatorConfig.type === Ee.has_district)
              s.argument = ga(qt.t('forms.state', 'State'), e.argument || '', i.concat([]));
            else if (e.operatorConfig.type === Ee.has_ward)
              (s.state = ga(qt.t('forms.state', 'State'), e.state || '', i.concat([]))),
                (s.district = ga(
                  qt.t('forms.district', 'District'),
                  e.district || '',
                  i.concat([])
                ));
            else if (
              e.operatorConfig.type === Ee.has_top_intent ||
              e.operatorConfig.type === Ee.has_intent
            ) {
              var r = [
                ((t = e.classifier),
                function(e, a) {
                  if ('object' === typeof a) {
                    var n = a;
                    return n &&
                      t &&
                      t.content &&
                      !t.content.intents.find(function(e) {
                        return e === n.value;
                      })
                      ? {
                          value: a,
                          failures: [
                            {
                              message: ''
                                .concat(n.value, ' is not a valid intent for ')
                                .concat(t.name)
                            }
                          ]
                        }
                      : { failures: [], value: a };
                  }
                  return { failures: [], value: a };
                })
              ];
              e.confidence && r.push(ya),
                (s.intent = ga(qt.t('forms.intent', 'Intent'), e.intent, r)),
                (s.confidence = ga(
                  qt.t('forms.confidence', 'Confidence'),
                  e.confidence || '',
                  i.concat(e.intent ? [Na, ya] : [Na])
                ));
            } else s.argument = ga('Value', e.argument || '', i);
          }
          return (
            (s.categoryNameEdited = !!e.exitEdited),
            (s.categoryName = ga(
              qt.t('forms.category', 'Category'),
              s.categoryNameEdited ? e.exitName : Zs(s),
              s.argument.value ||
                (s.min.value && s.max.value) ||
                (s.state.value && s.district.value)
                ? [ya]
                : []
            )),
            (s.valid =
              0 === s.state.validationFailures.length &&
              0 === s.district.validationFailures.length &&
              0 === s.min.validationFailures.length &&
              0 === s.max.validationFailures.length &&
              0 === s.argument.validationFailures.length &&
              0 === s.intent.validationFailures.length &&
              0 === s.confidence.validationFailures.length &&
              0 === s.categoryName.validationFailures.length),
            s
          );
        },
        Zs = function(e) {
          if (e.categoryNameEdited) return e.categoryName.value;
          if (0 === e.operatorConfig.operands) return e.operatorConfig.categoryName;
          if (
            (e.operatorConfig.type === Ee.has_intent ||
              e.operatorConfig.type === Ee.has_top_intent) &&
            e.intent.value
          )
            return z(e.intent.value.label.replace('_', ' '));
          if (e.operatorConfig.type === Ee.has_number_between && e.min.value && e.max.value)
            return ''.concat(e.min.value, ' - ').concat(e.max.value);
          if (ns(e.operatorConfig.type)) {
            var t = parseInt(e.argument.value, 10);
            if (!isNaN(t)) {
              var a =
                  e.operatorConfig.type === Ee.has_date_eq
                    ? qt.t('forms.today_proper', 'Today')
                    : qt.t('forms.today', 'today'),
                n = t < 0 ? ' - ' : ' + ',
                i =
                  ' ' + (1 === Math.abs(t) ? qt.t('forms.day', 'day') : qt.t('forms.days', 'days'));
              return Xs(e.operatorConfig.type) + a + n + Math.abs(t) + i;
            }
          }
          if (e.argument && e.argument.value) {
            var s = Xs(e.operatorConfig.type),
              r = e.argument.value.match(/\w+/g);
            if (r && r.length > 0) {
              var o = Object(w.a)(r, 1)[0];
              return s + z(o);
            }
            return s + z(e.argument.value);
          }
          return '';
        },
        $s = (function(e) {
          Object(g.a)(a, e);
          var t = Object(v.a)(a);
          function a(e) {
            var n;
            return (
              Object(m.a)(this, a),
              ((n = t.call(this, e)).operators = void 0),
              Object(b.react)(Object(f.a)(n), { include: [/^handle/, /^get/] }),
              (n.state = (function(e) {
                var t = e.kase.arguments && e.kase.arguments.length >= 1 ? e.kase.arguments[0] : '',
                  a = e.kase.arguments && 2 === e.kase.arguments.length ? e.kase.arguments[1] : '';
                return {
                  errors: [],
                  operatorConfig: Ws(e.kase.type),
                  argument: { value: t },
                  min: { value: t },
                  max: { value: a },
                  state: { value: t },
                  district: { value: a },
                  intent: { value: t ? { label: t, value: t } : null },
                  confidence: { value: a },
                  categoryName: { value: e.categoryName || '' },
                  categoryNameEdited: !!e.categoryName,
                  valid: !0
                };
              })(e)),
              n
            );
          }
          return (
            Object(_.a)(a, [
              {
                key: 'componentDidMount',
                value: function() {
                  var e = Js({
                    operatorConfig: this.state.operatorConfig,
                    argument: this.state.argument.value,
                    min: this.state.min.value,
                    max: this.state.max.value,
                    intent: this.state.intent.value,
                    confidence: this.state.confidence.value,
                    exitName: this.state.categoryName.value,
                    exitEdited: this.state.categoryNameEdited,
                    classifier: this.props.classifier
                  });
                  this.setState(e, this.handleChange);
                }
              },
              {
                key: 'componentDidUpdate',
                value: function(e) {
                  if (
                    this.props.classifier &&
                    this.props.classifier !== e.classifier &&
                    this.state.intent.value
                  ) {
                    var t = Js({
                      operatorConfig: this.state.operatorConfig,
                      argument: this.state.argument.value,
                      min: this.state.min.value,
                      max: this.state.max.value,
                      intent: this.state.intent.value,
                      confidence: this.state.confidence.value,
                      exitName: this.state.categoryName.value,
                      exitEdited: this.state.categoryNameEdited,
                      classifier: this.props.classifier
                    });
                    this.setState(t, this.handleChange);
                  }
                }
              },
              {
                key: 'getOperators',
                value: function() {
                  var e = this.props.operators || Ks;
                  return (
                    void 0 === this.operators &&
                      (this.operators = (function(e, t) {
                        return console.log('operators', e), Jt($t(e, t), t);
                      })(e, this.context.config)),
                    this.operators
                  );
                }
              },
              {
                key: 'getArgumentArray',
                value: function() {
                  return 0 === this.state.operatorConfig.operands
                    ? []
                    : this.state.operatorConfig.type === Ee.has_intent ||
                      this.state.operatorConfig.type === Ee.has_top_intent
                    ? this.state.intent.value
                      ? [this.state.intent.value.value, this.state.confidence.value]
                      : ['', this.state.confidence.value]
                    : this.state.operatorConfig.type === Ee.has_number_between
                    ? [this.state.min.value, this.state.max.value]
                    : this.state.operatorConfig.type === Ee.has_ward
                    ? [this.state.state.value, this.state.district.value]
                    : [this.state.argument.value];
                }
              },
              {
                key: 'handleOperatorChanged',
                value: function(e) {
                  var t = this,
                    a = Js({
                      operatorConfig: e,
                      argument: this.state.argument.value,
                      min: this.state.min.value,
                      max: this.state.max.value,
                      intent: this.state.intent.value,
                      confidence: this.state.confidence.value,
                      exitName: this.state.categoryName.value,
                      exitEdited: this.state.categoryNameEdited,
                      classifier: this.props.classifier
                    });
                  this.setState(a, function() {
                    return t.handleChange();
                  });
                }
              },
              {
                key: 'handleArgumentChanged',
                value: function(e) {
                  var t = this,
                    a = Js({
                      operatorConfig: this.state.operatorConfig,
                      argument: e,
                      exitName: this.state.categoryName.value,
                      exitEdited: this.state.categoryNameEdited
                    });
                  this.setState(a, function() {
                    return t.handleChange();
                  });
                }
              },
              {
                key: 'handleDistrictChanged',
                value: function(e) {
                  var t = this,
                    a = Js({
                      operatorConfig: this.state.operatorConfig,
                      argument: this.state.argument.value,
                      state: this.state.state.value,
                      district: e,
                      exitName: this.state.categoryName.value,
                      exitEdited: this.state.categoryNameEdited
                    });
                  this.setState(a, function() {
                    return t.handleChange();
                  });
                }
              },
              {
                key: 'handleStateChanged',
                value: function(e) {
                  var t = this,
                    a = Js({
                      operatorConfig: this.state.operatorConfig,
                      argument: this.state.argument.value,
                      district: this.state.district.value,
                      state: e,
                      exitName: this.state.categoryName.value,
                      exitEdited: this.state.categoryNameEdited
                    });
                  this.setState(a, function() {
                    return t.handleChange();
                  });
                }
              },
              {
                key: 'handleIntentChanged',
                value: function(e) {
                  var t = this,
                    a = Js({
                      operatorConfig: this.state.operatorConfig,
                      intent: e,
                      confidence: this.state.confidence.value || '.9',
                      exitName: this.state.categoryName.value,
                      exitEdited: this.state.categoryNameEdited,
                      classifier: this.props.classifier
                    });
                  this.setState(a, function() {
                    return t.handleChange();
                  });
                }
              },
              {
                key: 'handleConfidenceChanged',
                value: function(e) {
                  var t = this,
                    a = Js({
                      operatorConfig: this.state.operatorConfig,
                      intent: this.state.intent.value,
                      confidence: e,
                      exitName: this.state.categoryName.value,
                      exitEdited: this.state.categoryNameEdited,
                      classifier: this.props.classifier
                    });
                  this.setState(a, function() {
                    return t.handleChange();
                  });
                }
              },
              {
                key: 'handleMinChanged',
                value: function(e) {
                  var t = this,
                    a = Js({
                      operatorConfig: this.state.operatorConfig,
                      min: e,
                      max: this.state.max.value,
                      exitName: this.state.categoryName.value,
                      exitEdited: this.state.categoryNameEdited
                    });
                  this.setState(a, function() {
                    return t.handleChange();
                  });
                }
              },
              {
                key: 'handleMaxChanged',
                value: function(e) {
                  var t = this,
                    a = Js({
                      operatorConfig: this.state.operatorConfig,
                      min: this.state.min.value,
                      max: e,
                      exitName: this.state.categoryName.value,
                      exitEdited: this.state.categoryNameEdited
                    });
                  this.setState(a, function() {
                    return t.handleChange();
                  });
                }
              },
              {
                key: 'handleExitChanged',
                value: function(e) {
                  var t = this,
                    a = Js({
                      operatorConfig: this.state.operatorConfig,
                      state: this.state.state.value,
                      district: this.state.district.value,
                      argument: this.state.argument.value,
                      min: this.state.min.value,
                      max: this.state.max.value,
                      intent: this.state.intent.value,
                      confidence: this.state.confidence.value,
                      classifier: this.props.classifier,
                      exitName: e,
                      exitEdited: !0
                    });
                  this.setState(a, function() {
                    return t.handleChange();
                  });
                }
              },
              {
                key: 'handleRemoveClicked',
                value: function() {
                  this.props.onRemove(this.props.kase.uuid);
                }
              },
              {
                key: 'getCaseProps',
                value: function() {
                  return {
                    uuid: this.props.kase.uuid,
                    categoryName: this.state.categoryName.value,
                    kase: {
                      arguments: this.getArgumentArray(),
                      type: this.state.operatorConfig.type,
                      uuid: this.props.kase.uuid,
                      category_uuid: this.state.categoryNameEdited
                        ? null
                        : this.props.kase.category_uuid
                    },
                    valid: this.state.valid
                  };
                }
              },
              {
                key: 'handleChange',
                value: function() {
                  this.state.categoryName.value ||
                    (this.state.operatorConfig.type === Ee.has_number_between
                      ? !this.state.min.value && this.state.max.value
                      : this.state.argument.value),
                    this.props.onChange(this.getCaseProps());
                }
              },
              {
                key: 'handleIntentMenuOpened',
                value: function() {
                  this.setState({ intent: { value: this.state.intent.value } });
                }
              },
              {
                key: 'handleIntentMenuClosed',
                value: function() {
                  var e = this;
                  window.setTimeout(function() {
                    e.handleIntentChanged(e.state.intent.value);
                  }, 0);
                }
              },
              {
                key: 'renderArguments',
                value: function() {
                  if (this.state.operatorConfig.operands > 0) {
                    if (this.state.operatorConfig.operands > 1) {
                      if (this.state.operatorConfig.type === Ee.has_number_between)
                        return k.createElement(
                          k.Fragment,
                          null,
                          k.createElement(un, {
                            name: qt.t('forms.arguments', 'arguments'),
                            onChange: this.handleMinChanged,
                            entry: this.state.min
                          }),
                          k.createElement(
                            'span',
                            { className: Qs.a.divider, 'data-draggable': !0 },
                            'and'
                          ),
                          k.createElement(un, {
                            name: qt.t('forms.arguments', 'arguments'),
                            onChange: this.handleMaxChanged,
                            entry: this.state.max
                          })
                        );
                      if (
                        this.state.operatorConfig.type === Ee.has_intent ||
                        this.state.operatorConfig.type === Ee.has_top_intent
                      ) {
                        var e = [];
                        return (
                          this.props.classifier &&
                            this.props.classifier.content &&
                            (e = this.props.classifier.content.intents.map(function(e) {
                              return { label: e, value: e };
                            })),
                          k.createElement(
                            k.Fragment,
                            null,
                            k.createElement(
                              'div',
                              { style: { width: '114px' } },
                              k.createElement(Ia, {
                                key: 'intent_select',
                                style: Ht.small,
                                name: qt.t('forms.intent', 'Intent'),
                                entry: this.state.intent,
                                onChange: this.handleIntentChanged,
                                options: e,
                                onMenuOpen: this.handleIntentMenuOpened,
                                onMenuClose: this.handleIntentMenuClosed,
                                placeholder: ''
                              })
                            ),
                            k.createElement(
                              'span',
                              { className: Qs.a.divider, 'data-draggable': !0 },
                              'above'
                            ),
                            k.createElement(
                              'div',
                              { style: { width: '34px' } },
                              k.createElement(un, {
                                name: qt.t('forms.confidence', 'confidence'),
                                onChange: this.handleConfidenceChanged,
                                entry: this.state.confidence,
                                placeholder: '.9'
                              })
                            )
                          )
                        );
                      }
                      return k.createElement(
                        k.Fragment,
                        null,
                        k.createElement(un, {
                          name: qt.t('forms.state', 'State'),
                          placeholder: 'State',
                          onChange: this.handleStateChanged,
                          entry: this.state.state
                        }),
                        k.createElement(
                          'span',
                          { className: Qs.a.divider, 'data-draggable': !0 },
                          'and'
                        ),
                        k.createElement(un, {
                          name: qt.t('forms.district', 'District'),
                          placeholder: qt.t('forms.district', 'District'),
                          onChange: this.handleDistrictChanged,
                          entry: this.state.district
                        })
                      );
                    }
                    return ns(this.state.operatorConfig.type)
                      ? k.createElement(
                          k.Fragment,
                          null,
                          k.createElement(
                            'span',
                            { className: Qs.a.divider, 'data-draggable': !0 },
                            'today +',
                            ' '
                          ),
                          k.createElement(un, {
                            __className: Qs.a.relative_date,
                            name: qt.t('forms.arguments', 'arguments'),
                            onChange: this.handleArgumentChanged,
                            entry: this.state.argument,
                            autocomplete: !1
                          }),
                          k.createElement('span', { className: Qs.a.divider }, 'days')
                        )
                      : k.createElement(un, {
                          name: qt.t('forms.arguments', 'arguments'),
                          onChange: this.handleArgumentChanged,
                          entry: this.state.argument,
                          placeholder:
                            this.state.operatorConfig.type === Ee.has_district ? 'State' : '',
                          autocomplete: !0
                        });
                  }
                  return null;
                }
              },
              {
                key: 'render',
                value: function() {
                  return k.createElement(
                    jt,
                    {
                      'data-spec': 'case-form',
                      name: this.props.name,
                      __className: Qs.a.group,
                      kaseError: this.state.errors.length > 0
                    },
                    k.createElement(
                      'div',
                      {
                        className: ''
                          .concat(Qs.a.kase, ' ')
                          .concat(Qs.a[this.state.operatorConfig.type]),
                        'data-draggable': !0
                      },
                      k.createElement('span', {
                        className: 'fe-chevrons-expand '.concat(Qs.a.dnd_icon),
                        'data-draggable': !0
                      }),
                      k.createElement(
                        'div',
                        { className: Qs.a.choice },
                        k.createElement(ia, {
                          name: qt.t('forms.operator', 'operator'),
                          style: Ht.small,
                          options: this.getOperators(),
                          nameKey: 'verboseName',
                          valueKey: 'type',
                          onChange: this.handleOperatorChanged,
                          value: this.state.operatorConfig
                        })
                      ),
                      k.createElement(
                        'div',
                        {
                          className:
                            this.state.operatorConfig.operands > 1
                              ? Qs.a.multi_operand
                              : Qs.a.single_operand
                        },
                        this.renderArguments()
                      ),
                      k.createElement(
                        'div',
                        { className: Qs.a.categorize_as, 'data-draggable': !0 },
                        'categorize as'
                      ),
                      k.createElement(
                        'div',
                        { className: Qs.a.category },
                        k.createElement(un, {
                          name: qt.t('forms.exit_name', 'Exit Name'),
                          onChange: this.handleExitChanged,
                          entry: this.state.categoryName,
                          maxLength: 36,
                          showInvalid: B(this.state.errors, [/category/])
                        })
                      ),
                      k.createElement('span', {
                        'data-testid': 'remove-case-' + this.props.kase.uuid,
                        className: 'fe-x '.concat(Qs.a.remove_icon),
                        onClick: this.handleRemoveClicked
                      })
                    )
                  );
                }
              }
            ]),
            a
          );
        })(k.Component);
      $s.contextTypes = { config: yt };
      var er,
        tr = a(129),
        ar = a(87),
        nr = a.n(ar);
      !(function(e) {
        (e.move = 'move'), (e.pointer = 'pointer');
      })(er || (er = {}));
      var ir = Object(tr.SortableElement)(function(e) {
          var t = e.value,
            a = t.item;
          return k.createElement(
            'div',
            { className: nr.a.kase + ' case_list_case' },
            k.createElement(
              $s,
              Object.assign({ key: a.uuid }, a, {
                onRemove: t.list.handleRemoveCase,
                onChange: t.list.handleUpdateCase,
                operators: t.list.props.operators,
                classifier: t.list.props.classifier
              })
            )
          );
        }),
        sr = (function(e) {
          Object(g.a)(a, e);
          var t = Object(v.a)(a);
          function a(e) {
            var n;
            Object(m.a)(this, a),
              ((n = t.call(this, e)).sortableList = Object(tr.SortableContainer)(function(e) {
                var t = e.items;
                return k.createElement(
                  'div',
                  { className: nr.a.case_list },
                  t.map(function(e, t) {
                    return k.createElement(ir, {
                      key: 'item-'.concat(t),
                      index: t,
                      value: { item: e, list: Object(f.a)(n) },
                      disabled: t === n.state.currentCases.length - 1,
                      shouldCancelStart: function(e) {
                        return console.log(e), !0;
                      }
                    });
                  })
                );
              })),
              Object(b.react)(Object(f.a)(n), { include: [/^handle/] });
            var i = n.props.cases;
            return (
              n.hasEmptyCase(i) || i.push(n.createEmptyCase()),
              (n.state = { currentCases: i, valid: !0 }),
              n
            );
          }
          return (
            Object(_.a)(a, [
              {
                key: 'createEmptyCase',
                value: function() {
                  return this.props.createEmptyCase
                    ? this.props.createEmptyCase()
                    : (function() {
                        var e = Z();
                        return {
                          uuid: e,
                          kase: {
                            uuid: e,
                            type: Ee.has_any_word,
                            arguments: [''],
                            category_uuid: null
                          },
                          categoryName: '',
                          valid: !0
                        };
                      })();
                }
              },
              {
                key: 'handleUpdate',
                value: function(e) {
                  var t = this,
                    a = {},
                    n = !1;
                  e.hasOwnProperty('caseProps') &&
                    ((a.currentCases = [e.caseProps]),
                    (n = !0),
                    e.caseProps.valid || (a.valid = !1));
                  var i = [];
                  e.hasOwnProperty('removeCase') &&
                    ((i = [{ currentCases: [e.removeCase] }]), (n = !0)),
                    this.setState(
                      function(e) {
                        var n = ca(e, a, i);
                        return t.props.onCasesUpdated(n.currentCases), n;
                      },
                      function() {
                        n &&
                          (t.hasEmptyCase(t.state.currentCases) ||
                            t.handleUpdate({ caseProps: t.createEmptyCase() }));
                      }
                    );
                }
              },
              {
                key: 'hasEmptyCase',
                value: function(e) {
                  return (
                    null !=
                    e.find(function(e) {
                      return 0 === e.categoryName.trim().length;
                    })
                  );
                }
              },
              {
                key: 'handleRemoveCase',
                value: function(e) {
                  return this.handleUpdate({ removeCase: { uuid: e } });
                }
              },
              {
                key: 'handleUpdateCase',
                value: function(e) {
                  this.handleUpdate({ caseProps: e });
                }
              },
              {
                key: 'handleSortEnd',
                value: function(e) {
                  var t = this,
                    a = e.oldIndex,
                    n = e.newIndex;
                  this.setState(
                    function(e) {
                      var i = e.currentCases;
                      return {
                        currentCases: Hs()(i, a, n === t.state.currentCases.length - 1 ? n - 1 : n)
                      };
                    },
                    function() {
                      t.props.onCasesUpdated(t.state.currentCases);
                    }
                  );
                }
              },
              {
                key: 'render',
                value: function() {
                  return k.createElement(
                    'div',
                    {
                      className:
                        nr.a.case_list_container +
                        ' ' +
                        (this.state.currentCases.length > 5 ? nr.a.scrolling : '')
                    },
                    k.createElement(this.sortableList, {
                      items: this.state.currentCases,
                      onSortEnd: this.handleSortEnd,
                      shouldCancelStart: function(e) {
                        return !(e.target instanceof HTMLElement) || !e.target.dataset.draggable;
                      }
                    })
                  );
                }
              }
            ]),
            a
          );
        })(k.Component);
      sr.contextTypes = { config: yt };
      var rr,
        or = a(179),
        lr = a.n(or),
        cr = (function(e) {
          Object(g.a)(a, e);
          var t = Object(v.a)(a);
          function a(e) {
            var n;
            return (
              Object(m.a)(this, a),
              ((n = t.call(this, e)).state = (function(e) {
                var t = [],
                  a = { value: '' };
                if (Ho(e.originalNode) === ke.wait_for_digits) {
                  var n = e.originalNode.node.router;
                  n &&
                    (ts(e.originalNode.node) && (t = as(n.cases, e.originalNode)),
                    (a = { value: n.result_name || '' }));
                }
                return { cases: t, resultName: a, valid: !0 };
              })(n.props.nodeSettings)),
              Object(b.react)(Object(f.a)(n), { include: [/^on/, /^handle/] }),
              n
            );
          }
          return (
            Object(_.a)(a, [
              {
                key: 'handleUpdateResultName',
                value: function(e) {
                  var t = ga(qt.t('forms.result_name', 'Result Name'), e, [xa, Oa]);
                  this.setState({ resultName: t, valid: this.state.valid && !ht(t) });
                }
              },
              {
                key: 'handleCasesUpdated',
                value: function(e) {
                  this.setState({ cases: e });
                }
              },
              {
                key: 'handleSave',
                value: function() {
                  this.state.valid &&
                    (this.props.updateRouter(
                      (function(e, t) {
                        var a = cs(t.cases, !1, e.originalNode.node),
                          n = a.cases,
                          i = a.exits,
                          l = a.categories,
                          c = a.defaultCategory,
                          u = a.caseConfig,
                          d = {};
                        t.resultName.value && (d.result_name = t.resultName.value);
                        var p = Object(y.a)(
                          {
                            type: s.switch,
                            default_category_uuid: c,
                            categories: l,
                            cases: n,
                            operand: '@input.text',
                            wait: { type: r.msg, hint: { type: o.digits } }
                          },
                          d
                        );
                        return es(e.originalNode.node.uuid, p, i, ke.wait_for_response, [], {
                          cases: u
                        });
                      })(this.props.nodeSettings, this.state)
                    ),
                    this.props.onClose(!1));
                }
              },
              {
                key: 'getButtons',
                value: function() {
                  var e = this;
                  return {
                    primary: { name: qt.t('buttons.ok', 'Ok'), onClick: this.handleSave },
                    secondary: {
                      name: qt.t('buttons.cancel', 'Cancel'),
                      onClick: function() {
                        return e.props.onClose(!0);
                      }
                    }
                  };
                }
              },
              {
                key: 'renderEdit',
                value: function() {
                  var e = this.props.typeConfig;
                  return k.createElement(
                    me,
                    { title: e.name, headerClass: e.type, buttons: this.getButtons() },
                    k.createElement(sa, {
                      __className: '',
                      initialType: e,
                      onChange: this.props.onTypeChange
                    }),
                    k.createElement(
                      'p',
                      { className: lr.a.lead_in },
                      'If the keypad entry before the # symbol..'
                    ),
                    k.createElement(sr, {
                      'data-spec': 'cases',
                      cases: this.state.cases,
                      onCasesUpdated: this.handleCasesUpdated
                    }),
                    Ds(this.state.resultName, this.handleUpdateResultName),
                    rt(this.props)
                  );
                }
              },
              {
                key: 'render',
                value: function() {
                  return this.renderEdit();
                }
              }
            ]),
            a
          );
        })(k.Component);
      !(function(e) {
        (e.args = 'args'), (e.min = 'min'), (e.max = 'max'), (e.exit = 'exit');
      })(rr || (rr = {}));
      var ur,
        dr = (function(e) {
          Object(g.a)(a, e);
          var t = Object(v.a)(a);
          function a(e) {
            var n;
            return (
              Object(m.a)(this, a),
              ((n = t.call(this, e)).state = (function(e) {
                var t = [],
                  a = { value: '' },
                  n = '@input.text';
                if (e.originalNode && Ho(e.originalNode) === ke.split_by_expression) {
                  var i = e.originalNode.node.router;
                  i &&
                    (ts(e.originalNode.node) && (t = as(i.cases, e.originalNode)),
                    (a = { value: i.result_name || '' })),
                    (n = i.operand);
                }
                return { cases: t, resultName: a, operand: { value: n }, valid: !0 };
              })(n.props.nodeSettings)),
              Object(b.react)(Object(f.a)(n), { include: [/^on/, /^handle/] }),
              n
            );
          }
          return (
            Object(_.a)(a, [
              {
                key: 'handleUpdateResultName',
                value: function(e) {
                  var t = ga(qt.t('forms.result_name', 'Result Name'), e, [xa, Oa]);
                  this.setState({ resultName: t, valid: this.state.valid && !ht(t) });
                }
              },
              {
                key: 'handleOperandUpdated',
                value: function(e) {
                  this.setState({ operand: ga(qt.t('forms.operand', 'Operand'), e, [ya]) });
                }
              },
              {
                key: 'handleCasesUpdated',
                value: function(e) {
                  this.setState({ cases: e });
                }
              },
              {
                key: 'handleSave',
                value: function() {
                  this.state.valid &&
                    (this.props.updateRouter(
                      (function(e, t) {
                        var a = cs(t.cases, !1, e.originalNode.node),
                          n = a.cases,
                          i = a.exits,
                          r = a.defaultCategory,
                          o = a.caseConfig,
                          l = a.categories,
                          c = {};
                        t.resultName.value && (c.result_name = t.resultName.value);
                        var u = Object(y.a)(
                          {
                            type: s.switch,
                            default_category_uuid: r,
                            categories: l,
                            cases: n,
                            operand: t.operand.value
                          },
                          c
                        );
                        return es(e.originalNode.node.uuid, u, i, ke.split_by_expression, [], {
                          cases: o
                        });
                      })(this.props.nodeSettings, this.state)
                    ),
                    this.props.onClose(!1));
                }
              },
              {
                key: 'getButtons',
                value: function() {
                  var e = this;
                  return {
                    primary: { name: qt.t('buttons.ok', 'Ok'), onClick: this.handleSave },
                    secondary: {
                      name: qt.t('buttons.cancel', 'Cancel'),
                      onClick: function() {
                        return e.props.onClose(!0);
                      }
                    }
                  };
                }
              },
              {
                key: 'renderEdit',
                value: function() {
                  var e = this.props.typeConfig;
                  return k.createElement(
                    me,
                    { title: e.name, headerClass: e.type, buttons: this.getButtons() },
                    k.createElement(sa, {
                      __className: '',
                      initialType: e,
                      onChange: this.props.onTypeChange
                    }),
                    k.createElement('p', null, 'If the expression...'),
                    k.createElement(un, {
                      name: qt.t('forms.operand', 'Operand'),
                      showLabel: !1,
                      autocomplete: !0,
                      onChange: this.handleOperandUpdated,
                      entry: this.state.operand
                    }),
                    k.createElement(sr, {
                      'data-spec': 'cases',
                      cases: this.state.cases,
                      onCasesUpdated: this.handleCasesUpdated
                    }),
                    Ds(this.state.resultName, this.handleUpdateResultName),
                    rt(this.props)
                  );
                }
              },
              {
                key: 'render',
                value: function() {
                  return this.renderEdit();
                }
              }
            ]),
            a
          );
        })(k.Component),
        pr = a(130),
        hr = a.n(pr),
        mr = function() {
          var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null;
          return [].concat(
            Object(fe.a)(Ji(e)),
            Object(fe.a)(
              Lo.map(function(e) {
                return { name: e.path, id: e.scheme, type: ve.Scheme };
              })
            )
          );
        };
      !(function(e) {
        (e.args = 'args'), (e.min = 'min'), (e.max = 'max'), (e.exit = 'exit');
      })(ur || (ur = {}));
      var _r = (function(e) {
        Object(g.a)(a, e);
        var t = Object(v.a)(a);
        function a(e) {
          var n;
          return (
            Object(m.a)(this, a),
            ((n = t.call(this, e)).state = (function(e, t) {
              var a = [],
                n = { value: '' },
                i = null,
                s = Ho(e.originalNode);
              if (e.originalNode && s === ke.split_by_contact_field) {
                var r = e.originalNode.node.router;
                r &&
                  (ts(e.originalNode.node) && (a = as(r.cases, e.originalNode)),
                  (n = { value: r.result_name || '' }));
                var o = e.originalNode.ui.config.operand;
                if (t.fields && o.id in t.fields.items) {
                  var l = t.fields.items[o.id].name;
                  i = { id: o.id, type: o.type, name: l };
                }
                i ||
                  (i = mr().find(function(e) {
                    return e.id === o.id;
                  }));
              }
              return i || (i = ft), { cases: a, resultName: n, field: { value: i }, valid: !0 };
            })(n.props.nodeSettings, n.props.assetStore)),
            Object(b.react)(Object(f.a)(n), { include: [/^on/, /^handle/] }),
            n
          );
        }
        return (
          Object(_.a)(a, [
            {
              key: 'handleUpdateResultName',
              value: function(e) {
                var t = ga(qt.t('forms.result_name', 'Result Name'), e, [xa, Oa]);
                this.setState({ resultName: t, valid: this.state.valid && !ht(t) });
              }
            },
            {
              key: 'handleFieldChanged',
              value: function(e) {
                this.setState({ field: { value: e[0] } });
              }
            },
            {
              key: 'handleCasesUpdated',
              value: function(e) {
                this.setState({ cases: e });
              }
            },
            {
              key: 'handleSave',
              value: function() {
                this.state.valid &&
                  (this.props.updateRouter(
                    (function(e, t) {
                      var a = cs(t.cases, !1, e.originalNode.node),
                        n = a.cases,
                        i = a.exits,
                        r = a.defaultCategory,
                        o = a.caseConfig,
                        l = a.categories,
                        c = {};
                      t.resultName.value && (c.result_name = t.resultName.value);
                      var u = '@input.text',
                        d = t.field.value;
                      u =
                        d.type === ve.Scheme
                          ? '@(default(urn_parts(urns.'.concat(d.id, ').path, ""))')
                          : d.type === ve.Field
                          ? '@fields.'.concat(d.id)
                          : '@contact.'.concat(d.id);
                      var p = Object(y.a)(
                        {
                          type: s.switch,
                          default_category_uuid: r,
                          cases: n,
                          categories: l,
                          operand: u
                        },
                        c
                      );
                      return es(e.originalNode.node.uuid, p, i, ke.split_by_contact_field, [], {
                        operand: { id: d.id, type: d.type, name: d.name },
                        cases: o
                      });
                    })(this.props.nodeSettings, this.state)
                  ),
                  this.props.onClose(!1));
              }
            },
            {
              key: 'getButtons',
              value: function() {
                var e = this;
                return {
                  primary: { name: qt.t('buttons.ok', 'Ok'), onClick: this.handleSave },
                  secondary: {
                    name: qt.t('buttons.cancel', 'Cancel'),
                    onClick: function() {
                      return e.props.onClose(!0);
                    }
                  }
                };
              }
            },
            {
              key: 'renderEdit',
              value: function() {
                var e = this.props.typeConfig;
                return k.createElement(
                  me,
                  { title: e.name, headerClass: e.type, buttons: this.getButtons() },
                  k.createElement(sa, {
                    __className: '',
                    initialType: e,
                    onChange: this.props.onTypeChange
                  }),
                  k.createElement(
                    'div',
                    { className: hr.a.lead_in },
                    "If the contact's",
                    k.createElement(
                      'div',
                      { className: ''.concat(hr.a.field_select, ' select-small') },
                      k.createElement(Qt, {
                        name: qt.t('forms.contact_field', 'Contact Field'),
                        styles: Rt,
                        assets: this.props.assetStore.fields,
                        additionalOptions: mr(this.context.config.flowType),
                        entry: this.state.field,
                        searchable: !0,
                        sortFunction: Wo,
                        onChange: this.handleFieldChanged
                      })
                    )
                  ),
                  k.createElement(sr, {
                    'data-spec': 'cases',
                    cases: this.state.cases,
                    onCasesUpdated: this.handleCasesUpdated
                  }),
                  Ds(this.state.resultName, this.handleUpdateResultName),
                  rt(this.props)
                );
              }
            },
            {
              key: 'render',
              value: function() {
                return this.renderEdit();
              }
            }
          ]),
          a
        );
      })(k.Component);
      _r.contextTypes = { assetService: yt, config: yt };
      var fr,
        gr = function(e) {
          var t = [],
            a = rs(e);
          return (
            a &&
              (t = a.cases.map(function(e) {
                return {
                  name: a.categories.find(function(t) {
                    return t.uuid === e.category_uuid;
                  }).name,
                  id: e.arguments[0],
                  type: ve.Group
                };
              })),
            t
          );
        },
        vr = function() {
          var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];
          return e.map(function(e) {
            var t = e.name,
              a = e.id;
            return {
              uuid: a,
              kase: { uuid: Z(), type: Ee.has_group, arguments: [a, t], category_uuid: '' },
              categoryName: t,
              valid: !0
            };
          });
        },
        yr = (function(e) {
          Object(g.a)(a, e);
          var t = Object(v.a)(a);
          function a(e) {
            var n;
            return (
              Object(m.a)(this, a),
              ((n = t.call(this, e)).state = (function(e) {
                var t = { groups: { value: [] }, resultName: { value: '' }, valid: !1 };
                return (
                  Ho(e.originalNode) === ke.split_by_groups &&
                    ((t.groups.value = gr(e.originalNode.node)),
                    (t.resultName = { value: e.originalNode.node.router.result_name || '' }),
                    (t.valid = !0)),
                  t
                );
              })(n.props.nodeSettings)),
              Object(b.react)(Object(f.a)(n), { include: [/^handle/] }),
              n
            );
          }
          return (
            Object(_.a)(a, [
              {
                key: 'handleGroupsChanged',
                value: function(e) {
                  this.handleUpdate({ groups: e });
                }
              },
              {
                key: 'handleUpdateResultName',
                value: function(e) {
                  this.handleUpdate({ resultName: e });
                }
              },
              {
                key: 'handleUpdate',
                value: function(e) {
                  var t = {};
                  e.hasOwnProperty('groups') &&
                    (t.groups = ga(qt.t('forms.groups', 'Groups'), e.groups, [ya])),
                    e.hasOwnProperty('resultName') && (t.resultName = { value: e.resultName });
                  var a = ca(this.state, t);
                  return this.setState(a), a.valid;
                }
              },
              {
                key: 'handleSave',
                value: function() {
                  this.state.valid &&
                    (this.props.updateRouter(
                      (function(e, t) {
                        var a = vr(t.groups.value),
                          n = cs(a, !1, e.originalNode.node),
                          i = n.cases,
                          r = n.exits,
                          o = n.defaultCategory,
                          l = n.caseConfig,
                          c = n.categories,
                          u = {
                            type: s.switch,
                            cases: i,
                            categories: c,
                            default_category_uuid: o,
                            operand: '@contact.groups',
                            result_name: t.resultName.value
                          };
                        return es(e.originalNode.node.uuid, u, r, ke.split_by_groups, [], {
                          cases: l
                        });
                      })(this.props.nodeSettings, this.state)
                    ),
                    this.props.onClose(!1));
                }
              },
              {
                key: 'getButtons',
                value: function() {
                  var e = this;
                  return {
                    primary: { name: qt.t('buttons.ok', 'Ok'), onClick: this.handleSave },
                    secondary: {
                      name: qt.t('buttons.cancel', 'Cancel'),
                      onClick: function() {
                        return e.props.onClose(!0);
                      }
                    }
                  };
                }
              },
              {
                key: 'render',
                value: function() {
                  var e = this.props.typeConfig;
                  return k.createElement(
                    me,
                    { title: e.name, headerClass: e.type, buttons: this.getButtons() },
                    k.createElement(sa, {
                      __className: '',
                      initialType: e,
                      onChange: this.props.onTypeChange
                    }),
                    k.createElement('p', null, $i),
                    k.createElement(Qt, {
                      name: qt.t('forms.groups', 'Groups'),
                      assets: this.props.assetStore.groups,
                      entry: this.state.groups,
                      searchable: !0,
                      onChange: this.handleGroupsChanged,
                      multi: !0
                    }),
                    Ds(this.state.resultName, this.handleUpdateResultName),
                    rt(this.props)
                  );
                }
              }
            ]),
            a
          );
        })(k.Component);
      (yr.contextTypes = { endpoints: yt, assetService: yt }),
        (function(e) {
          (e[(e.Category = 0)] = 'Category'), (e[(e.Case = 1)] = 'Case');
        })(fr || (fr = {}));
      var br = function(e, t) {
          var a = [],
            n = e.originalNode.node.router.categories;
          t === fr.Case &&
            (n = (function(e) {
              var t = Ho(e);
              return t === ke.wait_for_response || t === ke.split_by_expression;
            })(e.originalNode)
              ? e.originalNode.node.router.cases
              : []);
          var i,
            s = Object(C.a)(n);
          try {
            var r = function() {
              var t = i.value,
                n = e.localizations.filter(function(e) {
                  return e.getObject().uuid === t.uuid;
                }),
                s = Object(w.a)(n, 1)[0];
              s.isLocalized() ? a.push(s.getObject()) : a.push({ uuid: t.uuid });
            };
            for (s.s(); !(i = s.n()).done; ) r();
          } catch (o) {
            s.e(o);
          } finally {
            s.f();
          }
          return a;
        },
        kr = a(66),
        Er = a.n(kr),
        Cr = (function(e) {
          Object(g.a)(a, e);
          var t = Object(v.a)(a);
          function a(e) {
            var n;
            Object(m.a)(this, a), (n = t.call(this, e));
            var i = br(e.nodeSettings, fr.Category),
              s = br(e.nodeSettings, fr.Case);
            return (
              (n.state = { categories: i, cases: s, valid: !0 }),
              Object(b.react)(Object(f.a)(n), { include: [/^handle/] }),
              n
            );
          }
          return (
            Object(_.a)(a, [
              {
                key: 'handleUpdate',
                value: function(e) {
                  var t = {};
                  e.hasOwnProperty('category') && (t.categories = [e.category]),
                    e.hasOwnProperty('kase') && (t.cases = [e.kase]);
                  var a = ca(this.state, t);
                  return this.setState(a), a.valid;
                }
              },
              {
                key: 'handleUpdateCategoryName',
                value: function(e, t) {
                  return (e.name = t), this.handleUpdate({ category: e });
                }
              },
              {
                key: 'handleUpdateCaseArgument',
                value: function(e, t) {
                  return (e.arguments = [t]), this.handleUpdate({ kase: e });
                }
              },
              {
                key: 'handleSave',
                value: function() {
                  var e = this.state.categories.map(function(e) {
                    return e.name
                      ? { uuid: e.uuid, translations: { name: e.name } }
                      : { uuid: e.uuid };
                  });
                  e.push.apply(
                    e,
                    Object(fe.a)(
                      this.state.cases.map(function(e) {
                        return e.arguments
                          ? { uuid: e.uuid, translations: { arguments: e.arguments } }
                          : { uuid: e.uuid };
                      })
                    )
                  ),
                    this.props.updateLocalizations(this.props.language.id, e),
                    this.props.onClose(!1);
                }
              },
              {
                key: 'getButtons',
                value: function() {
                  var e = this;
                  return {
                    primary: { name: qt.t('buttons.ok', 'Ok'), onClick: this.handleSave },
                    secondary: {
                      name: qt.t('buttons.cancel', 'Cancel'),
                      onClick: function() {
                        return e.props.onClose(!0);
                      }
                    }
                  };
                }
              },
              {
                key: 'renderCases',
                value: function() {
                  var e = this;
                  return this.state.cases.map(function(t) {
                    var a,
                      n,
                      i =
                        ((a = e.props.nodeSettings),
                        (n = t.uuid),
                        a.originalNode.node.router.cases.find(function(e) {
                          return e.uuid === n;
                        })),
                      s = Ws(i.type).verboseName,
                      r = Object(w.a)(i.arguments, 1)[0],
                      o = '';
                    t.arguments && t.arguments.length > 0 && (o = t.arguments[0]);
                    var l = qt.t('forms.translation', 'Translation');
                    return k.createElement(
                      'div',
                      {
                        key: 'translate_'.concat(t.uuid),
                        'data-spec': 'operator-field',
                        className: Er.a.translating_operator_container
                      },
                      k.createElement(
                        'div',
                        { 'data-spec': 'verbose-name', className: Er.a.translating_operator },
                        s
                      ),
                      k.createElement(
                        'div',
                        { 'data-spec': 'argument-to-translate', className: Er.a.translating_from },
                        r
                      ),
                      k.createElement(
                        'div',
                        { className: Er.a.translating_to },
                        k.createElement(un, {
                          'data-spec': 'localize-case',
                          name: t.uuid,
                          placeholder: ''.concat(e.props.language.name, ' ').concat(l),
                          showLabel: !1,
                          onChange: function(a) {
                            return e.handleUpdateCaseArgument(t, a);
                          },
                          entry: { value: o }
                        })
                      )
                    );
                  });
                }
              },
              {
                key: 'renderCategories',
                value: function() {
                  var e = this;
                  return this.state.categories.map(function(t) {
                    var a,
                      n,
                      i =
                        ((a = e.props.nodeSettings),
                        (n = t.uuid),
                        a.originalNode.node.router.categories.find(function(e) {
                          return e.uuid === n;
                        })),
                      s = ''.concat(e.props.language.name, ' Translation');
                    return (
                      t.name || (t.name = ''),
                      k.createElement(
                        'div',
                        { key: t.uuid, className: Er.a.translating_category },
                        k.createElement(
                          'div',
                          { 'data-spec': 'category-name', className: Er.a.translating_from },
                          i.name
                        ),
                        k.createElement(
                          'div',
                          { className: Er.a.translating_to },
                          k.createElement(un, {
                            'data-spec': 'localize-category',
                            name: t.name,
                            placeholder: s,
                            showLabel: !1,
                            entry: { value: t.name },
                            onChange: function(a) {
                              return e.handleUpdateCategoryName(t, a);
                            }
                          })
                        )
                      )
                    );
                  });
                }
              },
              {
                key: 'render',
                value: function() {
                  var e = Fn(this.props.nodeSettings),
                    t = [];
                  return (
                    this.state.cases.length > 0 &&
                      t.push({
                        name: 'Rule Translations',
                        body: k.createElement(
                          k.Fragment,
                          null,
                          k.createElement(
                            'p',
                            { 'data-spec': 'instructions' },
                            'Sometimes languages need special rules to route things properly. If a translation is not provided, the original rule will be used.'
                          ),
                          this.renderCases()
                        )
                      }),
                    k.createElement(
                      me,
                      {
                        title: ''.concat(this.props.language.name, ' Category Names'),
                        headerClass: e.type,
                        buttons: this.getButtons(),
                        tabs: t
                      },
                      k.createElement(
                        'p',
                        { 'data-spec': 'instructions' },
                        'When category names are referenced later in the flow, the appropriate language for the category will be used. If no translation is provided, the original text will be used.'
                      ),
                      this.renderCategories(),
                      rt(this.props)
                    )
                  );
                }
              }
            ]),
            a
          );
        })(k.Component),
        wr = function() {
          var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [],
            t = arguments.length > 1 ? arguments[1] : void 0;
          return e
            .map(function(e, a) {
              var n = 9 === a ? 0 : a + 1,
                i = t.find(function(e) {
                  return e.arguments[0] === '' + n;
                }) || { uuid: Z(), arguments: ['' + n], type: Ee.has_number_eq, category_uuid: '' };
              return { uuid: i.uuid, kase: i, categoryName: e, valid: !0 };
            })
            .filter(function(e) {
              return e.categoryName.trim().length > 0;
            });
        },
        Or = a(88),
        Sr = a.n(Or),
        Nr = a(16),
        xr = (function(e) {
          Object(g.a)(a, e);
          var t = Object(v.a)(a);
          function a(e) {
            var n;
            return (
              Object(m.a)(this, a),
              ((n = t.call(this, e)).state = (function(e) {
                for (var t = { value: '' }, a = [], n = 0; n < 10; n++) a.push('');
                if (Ho(e.originalNode) === ke.wait_for_menu) {
                  var i,
                    s = e.originalNode.node.router,
                    r = Object(C.a)(s.cases);
                  try {
                    var o = function() {
                      var t = i.value,
                        n = parseInt(t.arguments[0], 10) - 1;
                      -1 === n && (n = a.length - 1),
                        (a[n] = e.originalNode.node.router.categories.find(function(e) {
                          return e.uuid === t.category_uuid;
                        }).name);
                    };
                    for (r.s(); !(i = r.n()).done; ) o();
                  } catch (l) {
                    r.e(l);
                  } finally {
                    r.f();
                  }
                  t = { value: s.result_name || '' };
                }
                return { resultName: t, menu: a, valid: !0 };
              })(n.props.nodeSettings)),
              Object(b.react)(Object(f.a)(n), { include: [/^on/, /^handle/] }),
              n
            );
          }
          return (
            Object(_.a)(a, [
              {
                key: 'handleUpdateResultName',
                value: function(e) {
                  var t = ga(qt.t('forms.result_name', 'Result Name'), e, [xa, Oa]);
                  this.setState({ resultName: t, valid: this.state.valid && !ht(t) });
                }
              },
              {
                key: 'handleSave',
                value: function() {
                  this.props.updateRouter(
                    (function(e, t) {
                      var a = {};
                      t.resultName.value && (a.result_name = t.resultName.value);
                      var n = [];
                      Ho(e.originalNode) === ke.wait_for_menu &&
                        (n = e.originalNode.node.router.cases);
                      var i = wr(t.menu, n),
                        l = cs(i, !1, e.originalNode.node),
                        c = l.cases,
                        u = l.exits,
                        d = l.defaultCategory,
                        p = l.caseConfig,
                        h = l.categories,
                        m = Object(y.a)(
                          {
                            type: s.switch,
                            operand: '@input.text',
                            default_category_uuid: d,
                            cases: c,
                            categories: h,
                            wait: { type: r.msg, hint: { type: o.digits, count: 1 } }
                          },
                          a
                        );
                      return es(e.originalNode.node.uuid, m, u, ke.wait_for_response, [], {
                        cases: p
                      });
                    })(this.props.nodeSettings, this.state)
                  ),
                    this.props.onClose(!1);
                }
              },
              {
                key: 'getButtons',
                value: function() {
                  var e = this;
                  return {
                    primary: { name: qt.t('buttons.ok', 'Ok'), onClick: this.handleSave },
                    secondary: {
                      name: qt.t('buttons.cancel', 'Cancel'),
                      onClick: function() {
                        return e.props.onClose(!0);
                      }
                    }
                  };
                }
              },
              {
                key: 'handleMenuChanged',
                value: function(e, t) {
                  var a = Nr(this.state.menu, Object(O.a)({}, e, { $set: t }));
                  this.setState({ menu: a });
                }
              },
              {
                key: 'renderOption',
                value: function(e) {
                  var t = this;
                  return k.createElement(
                    'div',
                    { key: 'menuoption-' + e, className: Sr.a.menu_option },
                    k.createElement('div', { className: Sr.a.digit }, 9 === e ? 0 : e + 1),
                    k.createElement(
                      'div',
                      { className: Sr.a.category },
                      k.createElement(un, {
                        name: 'Menu ' + e,
                        entry: { value: this.state.menu[e] },
                        onChange: function(a) {
                          t.handleMenuChanged(e, a);
                        }
                      })
                    )
                  );
                }
              },
              {
                key: 'renderMenu',
                value: function() {
                  for (var e = [], t = 0; t < 10; t++) e.push(this.renderOption(t));
                  return e;
                }
              },
              {
                key: 'renderEdit',
                value: function() {
                  var e = this.props.typeConfig;
                  return k.createElement(
                    me,
                    { title: e.name, headerClass: e.type, buttons: this.getButtons() },
                    k.createElement(sa, {
                      __className: '',
                      initialType: e,
                      onChange: this.props.onTypeChange
                    }),
                    k.createElement('div', { className: Sr.a.menu }, this.renderMenu()),
                    Ds(this.state.resultName, this.handleUpdateResultName),
                    rt(this.props)
                  );
                }
              },
              {
                key: 'render',
                value: function() {
                  return this.renderEdit();
                }
              }
            ]),
            a
          );
        })(k.Component);
      xr.contextTypes = { assetService: yt };
      var jr,
        Tr = $(2, 11).map(function(e) {
          return { value: e + '', label: e + ' buckets' };
        }),
        Ar = function(e) {
          var t = Tr.find(function(t) {
            return t.value === e + '';
          });
          return t || (t = { label: ''.concat(e, ' Buckets'), value: e + '' }), t;
        },
        Rr = function(e, t) {
          return e.concat(
            $(e.length, t).map(function(e) {
              return { uuid: Z(), name: 'Bucket '.concat(e + 1), exit_uuid: null };
            })
          );
        },
        Ur = a(89),
        Dr = a.n(Ur);
      !(function(e) {
        (e.args = 'args'), (e.min = 'min'), (e.max = 'max'), (e.exit = 'exit');
      })(jr || (jr = {}));
      var Fr = (function(e) {
        Object(g.a)(a, e);
        var t = Object(v.a)(a);
        function a(e) {
          var n;
          return (
            Object(m.a)(this, a),
            ((n = t.call(this, e)).state = (function(e) {
              var t = { value: '' },
                a = 2,
                n = [];
              e.originalNode &&
                Ho(e.originalNode) === ke.split_by_random &&
                ((t = { value: e.originalNode.node.router.result_name || '' }),
                (a = e.originalNode.node.exits.length),
                (n = e.originalNode.node.router.categories));
              return {
                categories: (n = Rr(n, a)),
                resultName: t,
                bucketChoice: { value: Ar(a) },
                valid: !0
              };
            })(n.props.nodeSettings)),
            Object(b.react)(Object(f.a)(n), { include: [/^on/, /^handle/] }),
            n
          );
        }
        return (
          Object(_.a)(a, [
            {
              key: 'handleUpdateResultName',
              value: function(e) {
                var t = ga(qt.t('forms.result_name', 'Result Name'), e, [xa, Oa]);
                this.setState({ resultName: t, valid: this.state.valid && !ht(t) });
              }
            },
            {
              key: 'handleBucketsChanged',
              value: function(e) {
                var t = parseInt(e.value, 10),
                  a = this.state.categories.concat([]);
                (a = a.slice(0, t)), (a = Rr(a, t));
                var n = { bucketChoice: { value: e } },
                  i = ca(this.state, n);
                return (
                  this.setState(Object(y.a)(Object(y.a)({}, i), {}, { categories: a })), i.valid
                );
              }
            },
            {
              key: 'handleSave',
              value: function() {
                this.props.updateRouter(
                  (function(e, t) {
                    var a = {};
                    t.resultName.value && (a.result_name = t.resultName.value);
                    var n =
                        Ho(e.originalNode) === ke.split_by_random ? e.originalNode.node.exits : [],
                      i = parseInt(t.bucketChoice.value.value, 10);
                    n.splice(i, n.length - i),
                      t.categories.forEach(function(e, t) {
                        if (t < n.length) e.exit_uuid = n[t].uuid;
                        else {
                          var a = { uuid: Z(), destination_uuid: null };
                          (e.exit_uuid = a.uuid), n.push(a);
                        }
                      });
                    var r = Object(y.a)({ type: s.random, categories: t.categories }, a);
                    return es(e.originalNode.node.uuid, r, n, ke.split_by_random, [], null);
                  })(this.props.nodeSettings, this.state)
                ),
                  this.props.onClose(!1);
              }
            },
            {
              key: 'getButtons',
              value: function() {
                var e = this;
                return {
                  primary: { name: qt.t('buttons.ok', 'Ok'), onClick: this.handleSave },
                  secondary: {
                    name: qt.t('buttons.cancel', 'Cancel'),
                    onClick: function() {
                      return e.props.onClose(!0);
                    }
                  }
                };
              }
            },
            {
              key: 'handleBucketNameChanged',
              value: function(e, t) {
                var a = this.state.categories;
                (a.find(function(t) {
                  return t.uuid === e.uuid;
                }).name = t),
                  this.setState({ categories: a });
              }
            },
            {
              key: 'renderBucketNames',
              value: function() {
                var e = this;
                return this.state.categories.map(function(t) {
                  return k.createElement(un, {
                    key: t.uuid,
                    __className: Dr.a.bucket_name,
                    name: t.uuid,
                    entry: { value: t.name },
                    onChange: function(a) {
                      e.handleBucketNameChanged(t, a);
                    }
                  });
                });
              }
            },
            {
              key: 'renderEdit',
              value: function() {
                var e = this.props.typeConfig,
                  t = Tr.concat([]);
                return (
                  -1 === Tr.indexOf(this.state.bucketChoice.value) &&
                    t.push(this.state.bucketChoice.value),
                  k.createElement(
                    me,
                    { title: e.name, headerClass: e.type, buttons: this.getButtons() },
                    k.createElement(sa, {
                      __className: '',
                      initialType: e,
                      onChange: this.props.onTypeChange
                    }),
                    k.createElement(
                      'div',
                      { className: Dr.a.lead_in },
                      'Split them randomly into one of'
                    ),
                    k.createElement(
                      'div',
                      { className: Dr.a.bucket_select },
                      k.createElement(Ia, {
                        key: 'buckets_select',
                        style: Ht.small,
                        name: qt.t('forms.buckets', 'Buckets'),
                        entry: this.state.bucketChoice,
                        onChange: this.handleBucketsChanged,
                        options: t
                      })
                    ),
                    k.createElement(
                      'div',
                      { className: Dr.a.bucket_list },
                      this.renderBucketNames()
                    ),
                    Ds(this.state.resultName, this.handleUpdateResultName),
                    rt(this.props)
                  )
                );
              }
            },
            {
              key: 'render',
              value: function() {
                return this.renderEdit();
              }
            }
          ]),
          a
        );
      })(k.Component);
      Fr.contextTypes = { assetService: yt };
      var Pr,
        Ir = a(90),
        Lr = a.n(Ir),
        Mr = [
          { value: '60', label: qt.t('forms.timeout_1 minute', '1 minute') },
          { value: '120', label: qt.t('forms.timeout_2 minutes', '2 minutes') },
          { value: '180', label: qt.t('forms.timeout_3 minutes', '3 minutes') },
          { value: '240', label: qt.t('forms.timeout_4 minutes', '4 minutes') },
          { value: '300', label: qt.t('forms.timeout_5 minutes', '5 minutes') },
          { value: '600', label: qt.t('forms.timeout_10 minutes', '10 minutes') },
          { value: '900', label: qt.t('forms.timeout_15 minutes', '15 minutes') },
          { value: '3600', label: qt.t('forms.timeout_1 hour', '1 hour') },
          { value: '7200', label: qt.t('forms.timeout_2 hours', '2 hours') },
          { value: '10800', label: qt.t('forms.timeout_3 hours', '3 hours') },
          { value: '21600', label: qt.t('forms.timeout_6 hours', '6 hours') },
          { value: '43200', label: qt.t('forms.timeout_12 hours', '12 hours') },
          { value: '64800', label: qt.t('forms.timeout_18 hours', '18 hours') },
          { value: '86400', label: qt.t('forms.timeout_1 day', '1 day') },
          { value: '172800', label: qt.t('forms.timeout_2 days', '2 days') },
          { value: '259200', label: qt.t('forms.timeout_3 days', '3 days') },
          { value: '604800', label: qt.t('forms.timeout_1 week', '1 week') }
        ],
        zr = Mr[4],
        Br = (function(e) {
          Object(g.a)(a, e);
          var t = Object(v.a)(a);
          function a(e) {
            var n;
            return (
              Object(m.a)(this, a),
              (n = t.call(this, e)),
              Object(b.react)(Object(f.a)(n), { include: [/^handle/] }),
              n
            );
          }
          return (
            Object(_.a)(a, [
              {
                key: 'getSelected',
                value: function(e) {
                  var t,
                    a = Object(C.a)(Mr.entries());
                  try {
                    for (a.s(); !(t = a.n()).done; ) {
                      var n = Object(w.a)(t.value, 2),
                        i = n[0];
                      if (n[1].value === '' + e) return Mr[i];
                    }
                  } catch (s) {
                    a.e(s);
                  } finally {
                    a.f();
                  }
                  return null;
                }
              },
              {
                key: 'isChecked',
                value: function() {
                  return this.props.timeout > 0;
                }
              },
              {
                key: 'getInstructions',
                value: function() {
                  var e = 'Continue when there is no response';
                  return this.isChecked() ? ''.concat(e, ' for') : ''.concat(e, '...');
                }
              },
              {
                key: 'handleChecked',
                value: function() {
                  this.props.timeout > 0
                    ? this.props.onChanged(0)
                    : this.props.onChanged(parseInt(zr.value));
                }
              },
              {
                key: 'handleTimeoutChanged',
                value: function(e) {
                  this.props.onChanged(parseInt(e.value));
                }
              },
              {
                key: 'render',
                value: function() {
                  return k.createElement(
                    'div',
                    { className: Lr.a.timeout_control_container },
                    k.createElement(
                      'div',
                      { className: Lr.a.left_section },
                      k.createElement(Sn, {
                        name: qt.t('forms.timeout', 'Timeout'),
                        checked: this.isChecked(),
                        description: this.getInstructions(),
                        checkboxClassName: Lr.a.checkbox,
                        onChange: this.handleChecked
                      })
                    ),
                    K(this.isChecked())(
                      k.createElement(
                        'div',
                        { className: Lr.a.drop_down },
                        k.createElement(ia, {
                          name: qt.t('forms.timeout', 'Timeout'),
                          style: Ht.small,
                          value: this.getSelected(this.props.timeout),
                          options: Mr,
                          onChange: this.handleTimeoutChanged
                        })
                      )
                    )
                  );
                }
              }
            ]),
            a
          );
        })(k.Component);
      !(function(e) {
        (e.args = 'args'), (e.min = 'min'), (e.max = 'max'), (e.exit = 'exit');
      })(Pr || (Pr = {}));
      var Vr = (function(e) {
          Object(g.a)(a, e);
          var t = Object(v.a)(a);
          function a(e) {
            var n;
            return (
              Object(m.a)(this, a),
              ((n = t.call(this, e)).state = (function(e) {
                var t = [],
                  a = { value: 'Result' },
                  n = 0;
                if (e.originalNode && Ho(e.originalNode) === ke.wait_for_response) {
                  var i = e.originalNode.node.router;
                  i &&
                    (ts(e.originalNode.node) && (t = as(i.cases, e.originalNode)),
                    (a = { value: i.result_name || '' })),
                    e.originalNode.node.router.wait &&
                      e.originalNode.node.router.wait.timeout &&
                      (n = e.originalNode.node.router.wait.timeout.seconds || 0);
                }
                return { cases: t, resultName: a, timeout: n, valid: !0 };
              })(n.props.nodeSettings)),
              Object(b.react)(Object(f.a)(n), { include: [/^on/, /^handle/] }),
              n
            );
          }
          return (
            Object(_.a)(a, [
              {
                key: 'handleUpdateResultName',
                value: function(e) {
                  var t = ga(qt.t('forms.result_name', 'Result Name'), e, [xa, Oa]);
                  this.setState({ resultName: t, valid: this.state.valid && !ht(t) });
                }
              },
              {
                key: 'handleUpdateTimeout',
                value: function(e) {
                  this.setState({ timeout: e });
                }
              },
              {
                key: 'handleCasesUpdated',
                value: function(e) {
                  var t = e.find(function(e) {
                    return !e.valid;
                  });
                  this.setState({ cases: e, valid: !t });
                }
              },
              {
                key: 'handleSave',
                value: function() {
                  this.state.valid &&
                    (this.props.updateRouter(
                      (function(e, t) {
                        var a = cs(t.cases, t.timeout > 0, e.originalNode.node),
                          n = a.cases,
                          i = a.exits,
                          o = a.defaultCategory,
                          l = a.timeoutCategory,
                          c = a.caseConfig,
                          u = a.categories,
                          d = {};
                        t.resultName.value && (d.result_name = t.resultName.value);
                        var p = { type: r.msg };
                        t.timeout > 0 && (p.timeout = { seconds: t.timeout, category_uuid: l });
                        var h = Object(y.a)(
                          {
                            type: s.switch,
                            default_category_uuid: o,
                            cases: n,
                            categories: u,
                            operand: '@input.text',
                            wait: p
                          },
                          d
                        );
                        return es(e.originalNode.node.uuid, h, i, ke.wait_for_response, [], {
                          cases: c
                        });
                      })(this.props.nodeSettings, this.state)
                    ),
                    this.props.onClose(!1));
                }
              },
              {
                key: 'getButtons',
                value: function() {
                  var e = this;
                  return {
                    primary: { name: qt.t('buttons.ok', 'Ok'), onClick: this.handleSave },
                    secondary: {
                      name: qt.t('buttons.cancel', 'Cancel'),
                      onClick: function() {
                        return e.props.onClose(!0);
                      }
                    }
                  };
                }
              },
              {
                key: 'renderEdit',
                value: function() {
                  var e = this.props.typeConfig;
                  return k.createElement(
                    me,
                    {
                      title: e.name,
                      headerClass: e.type,
                      buttons: this.getButtons(),
                      gutter: k.createElement(Br, {
                        timeout: this.state.timeout,
                        onChanged: this.handleUpdateTimeout
                      })
                    },
                    k.createElement(sa, {
                      __className: '',
                      initialType: e,
                      onChange: this.props.onTypeChange
                    }),
                    k.createElement('div', null, Zi),
                    k.createElement(sr, {
                      'data-spec': 'cases',
                      cases: this.state.cases,
                      onCasesUpdated: this.handleCasesUpdated
                    }),
                    Ds(this.state.resultName, this.handleUpdateResultName),
                    rt(this.props)
                  );
                }
              },
              {
                key: 'render',
                value: function() {
                  return this.renderEdit();
                }
              }
            ]),
            a
          );
        })(k.Component),
        Hr = function(e) {
          var t =
            e.originalAction ||
            (e.originalNode.node.actions.length > 0 && e.originalNode.node.actions[0]);
          if (t.type === ke.call_resthook) return t;
        },
        qr = a(180),
        Kr = a.n(qr),
        Gr = (function(e) {
          Object(g.a)(a, e);
          var t = Object(v.a)(a);
          function a(e) {
            var n;
            return (
              Object(m.a)(this, a),
              ((n = t.call(this, e)).state = (function(e) {
                var t = { value: null },
                  a = { value: 'Result' },
                  n = !1,
                  i = Hr(e);
                if (i && i.type === ke.call_resthook) {
                  var s = i.resthook;
                  (t = { value: { id: s, name: s, type: ve.Resthook } }),
                    (a = { value: i.result_name }),
                    (n = !0);
                }
                return { resthook: t, resultName: a, valid: n };
              })(e.nodeSettings)),
              Object(b.react)(Object(f.a)(n), { include: [/^on/, /^handle/] }),
              n
            );
          }
          return (
            Object(_.a)(a, [
              {
                key: 'handleUpdateResultName',
                value: function(e) {
                  var t = ga(qt.t('forms.result_name', 'Result Name'), e, [ya, xa, Oa]);
                  this.setState({ resultName: t, valid: this.state.valid && !ht(t) });
                }
              },
              {
                key: 'handleResthookChanged',
                value: function(e) {
                  var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1],
                    a = { resthook: ga(qt.t('forms.resthook', 'Resthook'), e[0], [ka(t)]) },
                    n = ca(this.state, a);
                  return this.setState(n), n.valid;
                }
              },
              {
                key: 'handleSave',
                value: function() {
                  this.handleResthookChanged([this.state.resthook.value], !0) &&
                    (this.props.updateRouter(
                      (function(e, t) {
                        var a = Z(),
                          n = Hr(e);
                        n && (a = n.uuid);
                        var i = {
                          uuid: a,
                          resthook: t.resthook.value.id,
                          type: ke.call_resthook,
                          result_name: t.resultName.value
                        };
                        return us(i, e.originalNode, !1);
                      })(this.props.nodeSettings, this.state)
                    ),
                    this.props.onClose(!1));
                }
              },
              {
                key: 'getButtons',
                value: function() {
                  var e = this;
                  return {
                    primary: { name: 'Ok', onClick: this.handleSave },
                    secondary: {
                      name: 'Cancel',
                      onClick: function() {
                        return e.props.onClose(!0);
                      }
                    }
                  };
                }
              },
              {
                key: 'render',
                value: function() {
                  var e = this.props.typeConfig;
                  return k.createElement(
                    me,
                    { title: e.name, headerClass: e.type, buttons: this.getButtons() },
                    k.createElement(sa, {
                      __className: '',
                      initialType: e,
                      onChange: this.props.onTypeChange
                    }),
                    k.createElement(Qt, {
                      name: qt.t('forms.resthook', 'Resthook'),
                      placeholder: qt.t('forms.resthook_to_call', 'Select the resthook to call'),
                      assets: this.props.assetStore.resthooks,
                      entry: this.state.resthook,
                      searchable: !0,
                      onChange: this.handleResthookChanged
                    }),
                    k.createElement(
                      'div',
                      { className: Kr.a.result_name },
                      Ds(this.state.resultName, this.handleUpdateResultName)
                    ),
                    rt(this.props)
                  );
                }
              }
            ]),
            a
          );
        })(k.PureComponent),
        Wr = [
          { value: '0', label: 'first' },
          { value: '1', label: 'second' },
          { value: '2', label: 'third' },
          { value: '3', label: 'fourth' },
          { value: '4', label: 'fifth' },
          { value: '5', label: 'sixth' },
          { value: '6', label: 'seventh' },
          { value: '7', label: 'eighth' },
          { value: '8', label: 'ninth' },
          { value: '9', label: 'tenth' },
          { value: '10', label: '11th' },
          { value: '11', label: '12th' },
          { value: '12', label: '13th' },
          { value: '13', label: '14th' },
          { value: '14', label: '15th' },
          { value: '15', label: '16th' },
          { value: '16', label: '17th' },
          { value: '17', label: '18th' },
          { value: '18', label: '19th' },
          { value: '19', label: '20th' }
        ],
        Yr = [
          { value: ' ', label: 'spaces' },
          { value: '.', label: 'periods' },
          { value: '+', label: 'plusses' }
        ],
        Qr = function(e) {
          return Yr.find(function(t) {
            return t.value === e;
          });
        },
        Xr = a(51),
        Jr = a.n(Xr),
        Zr = (function(e) {
          Object(g.a)(a, e);
          var t = Object(v.a)(a);
          function a(e) {
            var n;
            return (
              Object(m.a)(this, a),
              ((n = t.call(this, e)).state = (function(e, t) {
                var a = [],
                  n = { value: '' },
                  i = null,
                  s = 1,
                  r = ' ',
                  o = !1,
                  l = Ho(e.originalNode);
                if (
                  (e.originalNode && l === ke.split_by_run_result) ||
                  l === ke.split_by_run_result_delimited
                ) {
                  var c = e.originalNode.node.router;
                  c &&
                    (ts(e.originalNode.node) && (a = as(c.cases, e.originalNode)),
                    (n = { value: c.result_name || '' }));
                  var u = e.originalNode.ui.config;
                  u &&
                    u.operand &&
                    (i = u.operand.id in t.results.items ? t.results.items[u.operand.id] : null),
                    l === ke.split_by_run_result_delimited &&
                      ((s = u.index), (r = u.delimiter), (o = !0));
                }
                return {
                  cases: a,
                  resultName: n,
                  result: { value: i },
                  shouldDelimit: o,
                  fieldNumber: s,
                  delimiter: r,
                  valid: !0
                };
              })(n.props.nodeSettings, n.props.assetStore)),
              Object(b.react)(Object(f.a)(n), { include: [/^on/, /^handle/] }),
              n
            );
          }
          return (
            Object(_.a)(a, [
              {
                key: 'handleUpdateResultName',
                value: function(e) {
                  var t = ga(qt.t('forms.result_name', 'Result Name'), e, [xa, Oa]);
                  this.setState({ resultName: t, valid: this.state.valid && !ht(t) });
                }
              },
              {
                key: 'handleResultChanged',
                value: function(e) {
                  var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1],
                    a = {
                      result: ga(qt.t('forms.result_to_split_on', 'Result to split on'), e[0], [
                        ka(t)
                      ])
                    },
                    n = ca(this.state, a);
                  return this.setState(n), n.valid;
                }
              },
              {
                key: 'handleCasesUpdated',
                value: function(e) {
                  this.setState({ cases: e });
                }
              },
              {
                key: 'handleSave',
                value: function() {
                  this.handleResultChanged([this.state.result.value], !0) &&
                    (this.props.updateRouter(
                      (function(e, t) {
                        var a = cs(t.cases, !1, e.originalNode.node),
                          n = a.cases,
                          i = a.exits,
                          r = a.defaultCategory,
                          o = a.caseConfig,
                          l = a.categories,
                          c = {};
                        t.resultName.value && (c.result_name = t.resultName.value);
                        var u = ke.split_by_run_result,
                          d = t.result.value,
                          p = '@results.'.concat(d.id),
                          h = { operand: { id: d.id, type: d.type, name: d.name }, cases: o };
                        t.shouldDelimit &&
                          ((h.index = t.fieldNumber),
                          (h.delimiter = t.delimiter),
                          (p = '@(field(results.'
                            .concat(d.id, ', ')
                            .concat(t.fieldNumber, ', "')
                            .concat(t.delimiter, '"))')),
                          (u = ke.split_by_run_result_delimited));
                        var m = Object(y.a)(
                          {
                            type: s.switch,
                            default_category_uuid: r,
                            categories: l,
                            cases: n,
                            operand: p
                          },
                          c
                        );
                        return es(e.originalNode.node.uuid, m, i, u, [], h);
                      })(this.props.nodeSettings, this.state)
                    ),
                    this.props.onClose(!1));
                }
              },
              {
                key: 'getButtons',
                value: function() {
                  var e = this;
                  return {
                    primary: { name: qt.t('buttons.ok', 'Ok'), onClick: this.handleSave },
                    secondary: {
                      name: qt.t('buttons.cancel', 'Cancel'),
                      onClick: function() {
                        return e.props.onClose(!0);
                      }
                    }
                  };
                }
              },
              {
                key: 'handleShouldDelimitChanged',
                value: function(e) {
                  this.setState({ shouldDelimit: e });
                }
              },
              {
                key: 'handleFieldNumberChanged',
                value: function(e) {
                  this.setState({ fieldNumber: parseInt(e.value, 10) });
                }
              },
              {
                key: 'handleDelimiterChanged',
                value: function(e) {
                  this.setState({ delimiter: e.value });
                }
              },
              {
                key: 'renderField',
                value: function() {
                  return k.createElement(
                    'div',
                    { className: Jr.a.non_delimited },
                    k.createElement('div', { className: Jr.a.lead_in }, 'If the flow result'),
                    k.createElement(
                      'div',
                      { className: Jr.a.result_select },
                      k.createElement(Qt, {
                        entry: this.state.result,
                        styles: Rt,
                        name: qt.t('forms.flow_result', 'Flow Result'),
                        placeholder: 'Select Result',
                        searchable: !1,
                        assets: this.props.assetStore.results,
                        onChange: this.handleResultChanged
                      })
                    )
                  );
                }
              },
              {
                key: 'renderFieldDelimited',
                value: function() {
                  return k.createElement(
                    'div',
                    { className: Jr.a.delimited },
                    k.createElement('div', { className: Jr.a.lead_in }, 'If the'),
                    k.createElement(
                      'div',
                      { className: Jr.a.field_number },
                      k.createElement(Ia, {
                        key: 'field_number_select',
                        style: Ht.small,
                        name: qt.t('forms.field_number', 'Field Number'),
                        entry: {
                          value:
                            ((e = this.state.fieldNumber),
                            Wr.find(function(t) {
                              return t.value === '' + e;
                            }))
                        },
                        onChange: this.handleFieldNumberChanged,
                        options: Wr
                      })
                    ),
                    k.createElement('div', { className: Jr.a.lead_in_sub }, 'field of'),
                    k.createElement(
                      'div',
                      { className: Jr.a.result_select_delimited },
                      k.createElement(Qt, {
                        entry: this.state.result,
                        styles: Rt,
                        name: qt.t('forms.flow_result', 'Flow Result'),
                        placeholder: qt.t('forms.select_result', 'Select Result'),
                        searchable: !1,
                        assets: this.props.assetStore.results,
                        onChange: this.handleResultChanged
                      })
                    ),
                    k.createElement('div', { className: Jr.a.lead_in_sub }, 'delimited by'),
                    k.createElement(
                      'div',
                      { className: Jr.a.delimiter },
                      k.createElement(Ia, {
                        key: 'delimiter_select',
                        style: Ht.small,
                        name: qt.t('forms.delimiter', 'Delimiter'),
                        entry: { value: Qr(this.state.delimiter) },
                        onChange: this.handleDelimiterChanged,
                        options: Yr
                      })
                    )
                  );
                  var e;
                }
              },
              {
                key: 'render',
                value: function() {
                  var e = this.props.typeConfig,
                    t = {
                      name: 'Advanced',
                      body: k.createElement(
                        'div',
                        { className: Jr.a.should_delimit },
                        k.createElement(Sn, {
                          name: qt.t('forms.delimit', 'Delimit'),
                          title: qt.t('forms.delimit_result', 'Delimit Result'),
                          checked: this.state.shouldDelimit,
                          description: qt.t(
                            'forms.delimit_result_description',
                            'Evaluate your rules against a delimited part of your result'
                          ),
                          onChange: this.handleShouldDelimitChanged
                        })
                      ),
                      checked: this.state.shouldDelimit
                    };
                  return k.createElement(
                    me,
                    { title: e.name, headerClass: e.type, buttons: this.getButtons(), tabs: [t] },
                    k.createElement(sa, {
                      __className: '',
                      initialType: e,
                      onChange: this.props.onTypeChange
                    }),
                    this.state.shouldDelimit ? this.renderFieldDelimited() : this.renderField(),
                    k.createElement(sr, {
                      'data-spec': 'cases',
                      cases: this.state.cases,
                      onCasesUpdated: this.handleCasesUpdated
                    }),
                    Ds(this.state.resultName, this.handleUpdateResultName),
                    rt(this.props)
                  );
                }
              }
            ]),
            a
          );
        })(k.Component),
        $r = function() {
          var e =
            arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : { uuid: '', name: '' };
          return { id: e.uuid, name: e.name, type: ve.Flow };
        },
        eo = function(e) {
          return { uuid: e.id, name: e.name };
        },
        to = a(78),
        ao = a.n(to),
        no = (function(e) {
          Object(g.a)(a, e);
          var t = Object(v.a)(a);
          function a(e) {
            var n;
            return (
              Object(m.a)(this, a),
              ((n = t.call(this, e)).state = (function(e) {
                var t = {};
                if (
                  Ho(e.originalNode) === ke.split_by_subflow ||
                  (e.originalAction && e.originalAction.type === ke.enter_flow)
                ) {
                  var a = e.originalAction;
                  return (
                    (a && a.type === ke.enter_flow) ||
                      (a = e.originalNode.node.actions.find(function(e) {
                        return e.type === ke.enter_flow;
                      })),
                    e.originalNode.node.actions.forEach(function(e) {
                      if (e.type === ke.set_run_result) {
                        var a = e;
                        t[a.name] = { value: a.value };
                      }
                    }),
                    { flow: { value: $r(a.flow) }, params: t, valid: !0 }
                  );
                }
                return { flow: { value: null }, params: {}, valid: !1 };
              })(e.nodeSettings)),
              Object(b.react)(Object(f.a)(n), { include: [/^on/, /^handle/] }),
              n
            );
          }
          return (
            Object(_.a)(a, [
              {
                key: 'componentDidMount',
                value: function() {
                  var e = this;
                  this.state.flow.value &&
                    Ye(this.props.assetStore.flows, this.state.flow.value.id).then(function(t) {
                      e.handleFlowChanged([t]);
                    });
                }
              },
              {
                key: 'handleFlowChanged',
                value: function(e) {
                  var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1],
                    a = e[0],
                    n = { flow: ga(qt.t('forms.flow', 'Flow'), a, [ka(t)]) },
                    i = {};
                  if (a && a.content && a.content.parent_refs) {
                    var s,
                      r = Object(C.a)(a.content.parent_refs);
                    try {
                      for (r.s(); !(s = r.n()).done; ) {
                        var o = s.value;
                        this.state.params[o]
                          ? (i[o] = Object(y.a)({}, this.state.params[o]))
                          : (i[o] = { value: '' });
                      }
                    } catch (c) {
                      r.e(c);
                    } finally {
                      r.f();
                    }
                    n.params = i;
                  }
                  var l = ca(this.state, n);
                  return this.setState(l), l.valid;
                }
              },
              {
                key: 'handleSave',
                value: function() {
                  var e = this;
                  this.handleFlowChanged([this.state.flow.value], !0);
                  var t = Object.keys(this.state.params).find(function(t) {
                    return ht(e.state.params[t]);
                  });
                  this.state.valid &&
                    !t &&
                    (this.props.updateRouter(
                      (function(e, t) {
                        var a,
                          n,
                          i,
                          r = {
                            uuid:
                              (
                                e.originalAction ||
                                (e.originalNode.node.actions.length > 0 &&
                                  e.originalNode.node.actions[0])
                              ).uuid || Z(),
                            type: ke.enter_flow,
                            flow: eo(t.flow.value)
                          };
                        if (Ho(e.originalNode) === ke.split_by_subflow) {
                          a = e.originalNode.node.exits;
                          var o = e.originalNode.node.router;
                          (n = o.cases), (i = o.categories);
                        } else
                          (a = [
                            { uuid: Z(), destination_uuid: null },
                            { uuid: Z(), destination_uuid: null }
                          ]),
                            (i = [
                              { uuid: Z(), name: d.Complete, exit_uuid: a[0].uuid },
                              { uuid: Z(), name: d.Expired, exit_uuid: a[1].uuid }
                            ]),
                            (n = [
                              {
                                uuid: Z(),
                                type: Ee.has_only_text,
                                arguments: ['completed'],
                                category_uuid: i[0].uuid
                              },
                              {
                                uuid: Z(),
                                arguments: ['expired'],
                                type: Ee.has_only_text,
                                category_uuid: i[1].uuid
                              }
                            ]);
                        var l = [];
                        Object.keys(t.params).forEach(function(e) {
                          var a = (t.params[e] && t.params[e].value) || '';
                          if (a.trim().length > 0) {
                            var n = { uuid: Z(), name: e, value: a, type: ke.set_run_result };
                            l.push(n);
                          }
                        }),
                          l.push(r);
                        var c = {
                          type: s.switch,
                          operand: '@child.run.status',
                          cases: n,
                          categories: i,
                          default_category_uuid: i[i.length - 1].uuid
                        };
                        return es(e.originalNode.node.uuid, c, a, ke.split_by_subflow, l);
                      })(this.props.nodeSettings, this.state)
                    ),
                    this.props.onClose(!1));
                }
              },
              {
                key: 'getButtons',
                value: function() {
                  var e = this;
                  return {
                    primary: { name: qt.t('buttons.ok', 'Ok'), onClick: this.handleSave },
                    secondary: {
                      name: qt.t('buttons.cancel', 'Cancel'),
                      onClick: function() {
                        return e.props.onClose(!0);
                      }
                    }
                  };
                }
              },
              {
                key: 'handleFilter',
                value: function(e) {
                  return e.content.type === this.context.config.flowType;
                }
              },
              {
                key: 'handleParamChanged',
                value: function(e, t) {
                  var a = Object(y.a)({}, this.state.params);
                  (a[t] = { value: e }), this.setState({ params: a });
                }
              },
              {
                key: 'render',
                value: function() {
                  var e = this,
                    t = this.props.typeConfig,
                    a = [],
                    n = this.state.flow.value,
                    i = !!Object.keys(this.state.params).find(function(t) {
                      return ht(e.state.params[t]);
                    });
                  return (
                    n &&
                      n.content &&
                      n.content.parent_refs.length > 0 &&
                      a.push({
                        name: qt.t('forms.enter_flow_parameters_tab', 'Parameters'),
                        body: k.createElement(
                          'div',
                          null,
                          k.createElement(
                            'p',
                            { className: ao.a.info },
                            k.createElement(
                              De.a,
                              {
                                i18nKey: 'forms.enter_flow_parameters_summary',
                                values: {
                                  flow: this.state.flow.value.name,
                                  url:
                                    this.context.config.endpoints.editor +
                                    '/' +
                                    this.state.flow.value.id
                                }
                              },
                              k.createElement(
                                'a',
                                {
                                  target: '_',
                                  href:
                                    this.context.config.endpoints.editor +
                                    '/' +
                                    this.state.flow.value.id
                                },
                                '[[flow]]'
                              ),
                              ' ',
                              'expects the following parameters to be set by this flow. These can be set using a',
                              ' ',
                              k.createElement('span', null, 'Save Flow Result'),
                              ' action or directly below.'
                            )
                          ),
                          k.createElement(
                            'table',
                            { className: ao.a.params },
                            k.createElement(
                              'tbody',
                              null,
                              n.content.parent_refs.map(function(t) {
                                return k.createElement(
                                  'tr',
                                  { key: 'param_' + t, className: ao.a.param },
                                  k.createElement('td', { className: ao.a.param_name }, t),
                                  k.createElement(
                                    'td',
                                    { className: ao.a.param_input },
                                    k.createElement(un, {
                                      name: t,
                                      showLabel: !1,
                                      placeholder: t,
                                      onChange: function(a) {
                                        e.handleParamChanged(a, t);
                                      },
                                      entry: e.state.params[t],
                                      autocomplete: !0
                                    })
                                  )
                                );
                              })
                            )
                          )
                        ),
                        hasErrors: i,
                        checked: !!Object.keys(this.state.params).find(function(t) {
                          return e.state.params[t] && e.state.params[t].value.trim().length > 0;
                        })
                      }),
                    k.createElement(
                      me,
                      { title: t.name, headerClass: t.type, buttons: this.getButtons(), tabs: a },
                      k.createElement(sa, {
                        __className: '',
                        initialType: t,
                        onChange: this.props.onTypeChange
                      }),
                      k.createElement(Qt, {
                        name: qt.t('forms.flow', 'Flow'),
                        placeholder: 'Select the flow to start',
                        assets: this.props.assetStore.flows,
                        entry: this.state.flow,
                        searchable: !0,
                        onFilter: this.handleFilter,
                        onChange: this.handleFlowChanged
                      }),
                      rt(this.props)
                    )
                  );
                }
              }
            ]),
            a
          );
        })(k.PureComponent);
      no.contextTypes = { config: yt };
      var io,
        so = a(181),
        ro = a.n(so),
        oo = (function(e) {
          Object(g.a)(a, e);
          var t = Object(v.a)(a);
          function a(e) {
            var n;
            return (
              Object(m.a)(this, a),
              ((n = t.call(this, e)).state = (function(e) {
                var t = { value: 'Result' };
                if (e.originalNode && e.originalNode.ui.type === ke.wait_for_response) {
                  var a = e.originalNode.node.router;
                  a && (t = { value: a.result_name || '' });
                }
                return { resultName: t, valid: !0 };
              })(n.props.nodeSettings)),
              Object(b.react)(Object(f.a)(n), { include: [/^on/, /^handle/] }),
              n
            );
          }
          return (
            Object(_.a)(a, [
              {
                key: 'handleUpdateResultName',
                value: function(e) {
                  var t = ga(qt.t('forms.result_name', 'Result Name'), e, [xa, Oa]);
                  this.setState({ resultName: t, valid: this.state.valid && !ht(t) });
                }
              },
              {
                key: 'handleSave',
                value: function() {
                  this.state.valid &&
                    (this.props.updateRouter(
                      (function(e, t, a) {
                        var n = cs([], !1, e.originalNode.node),
                          i = n.exits,
                          l = n.defaultCategory,
                          c = n.caseConfig,
                          u = n.categories,
                          d = {};
                        t.resultName.value && (d.result_name = t.resultName.value);
                        var p = '@input.text',
                          h = { type: r.msg };
                        switch (a.type) {
                          case ke.wait_for_audio:
                            (h.hint = { type: o.audio }), (p = '@input');
                            break;
                          case ke.wait_for_image:
                            (h.hint = { type: o.image }), (p = '@input');
                            break;
                          case ke.wait_for_location:
                            (h.hint = { type: o.location }), (p = '@input');
                            break;
                          case ke.wait_for_video:
                            (h.hint = { type: o.video }), (p = '@input');
                        }
                        var m = Object(y.a)(
                          {
                            type: s.switch,
                            default_category_uuid: l,
                            cases: [],
                            categories: u,
                            wait: h,
                            operand: p
                          },
                          d
                        );
                        return es(e.originalNode.node.uuid, m, i, ke.wait_for_response, [], {
                          cases: c
                        });
                      })(this.props.nodeSettings, this.state, this.props.typeConfig)
                    ),
                    this.props.onClose(!1));
                }
              },
              {
                key: 'getButtons',
                value: function() {
                  var e = this;
                  return {
                    primary: { name: qt.t('buttons.ok', 'Ok'), onClick: this.handleSave },
                    secondary: {
                      name: qt.t('buttons.cancel', 'Cancel'),
                      onClick: function() {
                        return e.props.onClose(!0);
                      }
                    }
                  };
                }
              },
              {
                key: 'renderEdit',
                value: function() {
                  var e = this.props.typeConfig;
                  return k.createElement(
                    me,
                    { title: e.name, headerClass: e.type, buttons: this.getButtons() },
                    k.createElement(sa, {
                      __className: '',
                      initialType: e,
                      onChange: this.props.onTypeChange
                    }),
                    k.createElement(
                      'div',
                      { className: ro.a.result_name },
                      Ds(this.state.resultName, this.handleUpdateResultName)
                    ),
                    rt(this.props)
                  );
                }
              },
              {
                key: 'render',
                value: function() {
                  return this.renderEdit();
                }
              }
            ]),
            a
          );
        })(k.Component),
        lo = a(44),
        co = a.n(lo),
        uo =
          (qt.t('errors.http_header_missing_name', 'HTTP headers must have a name'),
          qt.t('forms.webhook_header_name', 'Header Name')),
        po = qt.t('forms.value', 'Value'),
        ho = (function(e) {
          Object(g.a)(a, e);
          var t = Object(v.a)(a);
          function a(e) {
            var n;
            Object(m.a)(this, a);
            var i = (n = t.call(this, e)).props.entry.value,
              s = i.name || '',
              r = i.value || '';
            return (
              (n.state = { name: { value: s }, value: { value: r } }),
              Object(b.react)(Object(f.a)(n), { include: [/^on/, /^handle/] }),
              n
            );
          }
          return (
            Object(_.a)(a, [
              {
                key: 'getHeader',
                value: function() {
                  return {
                    name: this.state.name.value,
                    value: this.state.value.value,
                    uuid: this.props.entry.value.uuid
                  };
                }
              },
              {
                key: 'handleChangeName',
                value: function(e) {
                  var t = this,
                    a = ga(qt.t('forms.header_name', 'Header name'), e, [Ca]);
                  this.setState({ name: { value: a.value } }, function() {
                    return t.props.onChange(t.getHeader(), pt(t.state.value).concat(pt(a)));
                  });
                }
              },
              {
                key: 'handleChangeValue',
                value: function(e) {
                  var t = this;
                  this.setState({ value: { value: e } }, function() {
                    var e = ga(qt.t('forms.header_name', 'Header name'), t.state.name.value, [Ca]);
                    t.props.onChange(t.getHeader(), pt(t.state.value).concat(pt(e)));
                  });
                }
              },
              {
                key: 'handleRemove',
                value: function() {
                  this.props.onRemove(this.getHeader());
                }
              },
              {
                key: 'getRemoveIco',
                value: function() {
                  return k.createElement(
                    'div',
                    {
                      className: co.a.remove_ico,
                      onClick: this.handleRemove,
                      'data-spec': 'remove-icon'
                    },
                    k.createElement('span', { className: 'fe-x' })
                  );
                }
              },
              {
                key: 'render',
                value: function() {
                  var e = this.getRemoveIco();
                  return k.createElement(
                    jt,
                    { name: qt.t('forms.webhook_header', 'Header'), entry: this.props.entry },
                    k.createElement(
                      'div',
                      { className: co.a.header, 'data-spec': 'header-container' },
                      k.createElement(
                        'div',
                        { className: co.a.header_name, 'data-spec': 'name-container' },
                        k.createElement(un, {
                          placeholder: uo,
                          name: uo,
                          onChange: this.handleChangeName,
                          entry: this.state.name
                        })
                      ),
                      k.createElement(
                        'div',
                        { className: co.a.header_value, 'data-spec': 'value-container' },
                        k.createElement(un, {
                          placeholder: po,
                          name: po,
                          onChange: this.handleChangeValue,
                          entry: this.state.value,
                          autocomplete: !0
                        })
                      ),
                      e
                    )
                  );
                }
              }
            ]),
            a
          );
        })(k.Component);
      !(function(e) {
        (e.GET = 'GET'),
          (e.POST = 'POST'),
          (e.PUT = 'PUT'),
          (e.DELETE = 'DELETE'),
          (e.HEAD = 'HEAD'),
          (e.PATCH = 'PATCH');
      })(io || (io = {}));
      var mo = { value: io.GET, label: io.GET },
        _o = [
          mo,
          { value: io.POST, label: io.POST },
          { value: io.PUT, label: io.PUT },
          { value: io.DELETE, label: io.DELETE },
          { value: io.HEAD, label: io.HEAD },
          { value: io.PATCH, label: io.PATCH }
        ],
        fo = function(e) {
          var t =
            e.originalAction ||
            (e.originalNode.node.actions.length > 0 && e.originalNode.node.actions[0]);
          if (t.type === ke.call_webhook) return t;
        },
        go = function(e) {
          return e === io.GET
            ? ''
            : '@(json(object(\n  "contact", object(\n    "uuid", contact.uuid, \n    "name", contact.name, \n    "urn", contact.urn\n  ),\n  "flow", object(\n    "uuid", run.flow.uuid, \n    "name", run.flow.name\n  ),\n  "results", foreach_value(results, extract_object, "value", "category")\n)))';
        },
        vo = (function(e) {
          Object(g.a)(a, e);
          var t = Object(v.a)(a);
          function a(e) {
            var n;
            return (
              Object(m.a)(this, a),
              ((n = t.call(this, e)).state = (function(e) {
                var t = {
                  headers: [],
                  resultName: { value: 'Result' },
                  method: { value: mo },
                  url: { value: '' },
                  body: { value: go(io.GET) },
                  valid: !1
                };
                if (Ho(e.originalNode) === ke.split_by_webhook) {
                  var a,
                    n = fo(e),
                    i = Object(C.a)(Object.keys(n.headers || []).sort());
                  try {
                    for (i.s(); !(a = i.n()).done; ) {
                      var s = a.value;
                      t.headers.push({ value: { uuid: Z(), value: n.headers[s], name: s } });
                    }
                  } catch (r) {
                    i.e(r);
                  } finally {
                    i.f();
                  }
                  (t.resultName = { value: n.result_name }),
                    (t.url = { value: n.url }),
                    (t.method = { value: { label: n.method, value: n.method } }),
                    (t.body = { value: n.body }),
                    (t.valid = !0);
                } else
                  t.headers.push({
                    value: { uuid: Z(), name: 'Accept', value: 'application/json' }
                  });
                return t.headers.push({ value: { uuid: Z(), name: '', value: '' } }), t;
              })(n.props.nodeSettings)),
              Object(b.react)(Object(f.a)(n), { include: [/^handle/] }),
              n
            );
          }
          return (
            Object(_.a)(a, [
              {
                key: 'handleUpdate',
                value: function(e) {
                  var t = this,
                    a = arguments.length > 1 && void 0 !== arguments[1] && arguments[1],
                    n = {},
                    i = !1,
                    s = [];
                  if (e.hasOwnProperty('method')) {
                    n.method = { value: e.method };
                    var r = this.state.method.value.value,
                      o = e.method.value;
                    if (r !== o) {
                      var l = this.state.headers.find(function(e) {
                        return 'content-type' === e.value.name.toLowerCase();
                      });
                      if (((n.body = { value: go(o) }), r === io.GET && o !== io.GET)) {
                        if (!l) {
                          var c = Z(),
                            u =
                              this.state.headers.length > 0
                                ? this.state.headers[this.state.headers.length - 1]
                                : null;
                          u && !u.value.name && (c = u.value.uuid),
                            (e.header = {
                              uuid: c,
                              name: 'Content-Type',
                              value: 'application/json'
                            });
                        }
                      } else
                        r !== io.GET &&
                          o === io.GET &&
                          l &&
                          (s = [{ headers: [{ value: l.value }] }]);
                    }
                  }
                  e.hasOwnProperty('url') &&
                    (n.url = ga(qt.t('forms.url', 'URL'), e.url, [
                      ka(a),
                      Ea(Sa, -1 === e.url.indexOf('@'))
                    ])),
                    e.hasOwnProperty('resultName') &&
                      (n.resultName = ga(qt.t('forms.result_name', 'Result Name'), e.resultName, [
                        ka(a)
                      ])),
                    e.hasOwnProperty('body') && (n.body = { value: e.body }),
                    e.hasOwnProperty('header') &&
                      ((n.headers = [
                        { value: e.header, validationFailures: e.validationFailures }
                      ]),
                      (i = !0)),
                    e.hasOwnProperty('removeHeader') &&
                      ((s = [{ headers: [{ value: e.removeHeader }] }]), (i = !0));
                  var d = ca(this.state, n, s);
                  return (
                    this.setState(d, function() {
                      if (i) {
                        var e,
                          a = !0,
                          n = Object(C.a)(t.state.headers);
                        try {
                          for (n.s(); !(e = n.n()).done; ) {
                            if ('' === e.value.value.name.trim()) {
                              a = !1;
                              break;
                            }
                          }
                        } catch (s) {
                          n.e(s);
                        } finally {
                          n.f();
                        }
                        a && t.handleCreateHeader();
                      }
                    }),
                    d.valid
                  );
                }
              },
              {
                key: 'handleUpdateResultName',
                value: function(e) {
                  var t = ga(qt.t('forms.result_name', 'Result Name'), e, [ya, xa, Oa]);
                  this.setState({ resultName: t, valid: this.state.valid && !ht(t) });
                }
              },
              {
                key: 'handleMethodUpdate',
                value: function(e) {
                  return this.handleUpdate({ method: e });
                }
              },
              {
                key: 'handleUrlUpdate',
                value: function(e, t) {
                  var a = arguments.length > 2 && void 0 !== arguments[2] && arguments[2];
                  return this.handleUpdate({ url: e }, a);
                }
              },
              {
                key: 'handleHeaderRemoved',
                value: function(e) {
                  return this.handleUpdate({ removeHeader: e });
                }
              },
              {
                key: 'handleHeaderUpdated',
                value: function(e, t) {
                  return this.handleUpdate({ header: e, validationFailures: t });
                }
              },
              {
                key: 'handleCreateHeader',
                value: function() {
                  return this.handleUpdate({ header: { uuid: Z(), name: '', value: '' } });
                }
              },
              {
                key: 'handleBodyUpdate',
                value: function(e) {
                  return this.handleUpdate({ body: e });
                }
              },
              {
                key: 'handleSave',
                value: function() {
                  this.handleUpdate(
                    { url: this.state.url.value, resultName: this.state.resultName.value },
                    !0
                  ) &&
                    (this.props.updateRouter(
                      (function(e, t) {
                        var a,
                          n = {},
                          i = Object(C.a)(t.headers);
                        try {
                          for (i.s(); !(a = i.n()).done; ) {
                            var s = a.value;
                            0 !== s.value.name.trim().length && (n[s.value.name] = s.value.value);
                          }
                        } catch (c) {
                          i.e(c);
                        } finally {
                          i.f();
                        }
                        var r = Z(),
                          o = fo(e);
                        o && (r = o.uuid);
                        var l = {
                          uuid: r,
                          headers: n,
                          type: ke.call_webhook,
                          url: t.url.value,
                          body: t.body.value,
                          method: t.method.value.value,
                          result_name: t.resultName.value
                        };
                        return us(l, e.originalNode, !1);
                      })(this.props.nodeSettings, this.state)
                    ),
                    this.props.onClose(!1));
                }
              },
              {
                key: 'getButtons',
                value: function() {
                  var e = this;
                  return {
                    primary: { name: qt.t('buttons.ok', 'Ok'), onClick: this.handleSave },
                    secondary: {
                      name: qt.t('buttons.cancel', 'Cancel'),
                      onClick: function() {
                        return e.props.onClose(!0);
                      }
                    }
                  };
                }
              },
              {
                key: 'renderEdit',
                value: function() {
                  var e = this,
                    t = this.props.typeConfig,
                    a = this.state.headers.map(function(t, a, n) {
                      return k.createElement(
                        'div',
                        { key: 'header_'.concat(t.value.uuid) },
                        k.createElement(ho, {
                          entry: t,
                          onRemove: e.handleHeaderRemoved,
                          onChange: e.handleHeaderUpdated,
                          index: a
                        })
                      );
                    }),
                    n = [];
                  n.push({
                    name: 'HTTP Headers',
                    hasErrors: !!this.state.headers.find(function(e) {
                      return ht(e);
                    }),
                    body: k.createElement(
                      k.Fragment,
                      null,
                      k.createElement(
                        'p',
                        { className: co.a.info },
                        k.createElement(
                          De.a,
                          { i18nKey: 'forms.webhook_header_summary' },
                          'Add any additional headers below that you would like to send along with your request.'
                        )
                      ),
                      a
                    ),
                    checked: this.state.headers.length > 1
                  });
                  var i = this.state.method.value.value,
                    s = this.state.method.value.label + ' ' + qt.t('body', 'Body');
                  return (
                    n.push({
                      name: s,
                      body: k.createElement(
                        'div',
                        { key: 'post_body', className: co.a.body_form },
                        k.createElement('h4', null, s),
                        k.createElement(
                          'p',
                          null,
                          k.createElement(
                            De.a,
                            {
                              i18nKey: 'forms.webhook_body_summary',
                              values: { method: this.state.method.value.label }
                            },
                            'Modify the body of the [[method]] request that will be sent to your webhook.'
                          )
                        ),
                        k.createElement(un, {
                          __className: co.a.req_body,
                          name: s,
                          showLabel: !1,
                          entry: this.state.body,
                          onChange: this.handleBodyUpdate,
                          helpText: k.createElement(
                            De.a,
                            {
                              i18nKey: 'forms.webhook_body_summary',
                              values: { method: this.state.method.value.label }
                            },
                            'Modify the body of the [[method]] request that will be sent to your webhook.'
                          ),
                          autocomplete: !0,
                          textarea: !0
                        })
                      ),
                      checked: this.state.body.value !== go(i)
                    }),
                    k.createElement(
                      me,
                      { title: t.name, headerClass: t.type, buttons: this.getButtons(), tabs: n },
                      k.createElement(sa, {
                        __className: '',
                        initialType: t,
                        onChange: this.props.onTypeChange
                      }),
                      k.createElement(
                        'div',
                        { style: { display: 'flex' } },
                        k.createElement(
                          'div',
                          { className: co.a.method },
                          k.createElement(Ia, {
                            key: 'method_select',
                            name: qt.t('forms.method', 'Method'),
                            entry: this.state.method,
                            onChange: this.handleMethodUpdate,
                            options: _o
                          })
                        ),
                        k.createElement(
                          'div',
                          { className: co.a.url },
                          k.createElement(un, {
                            name: qt.t('forms.url', 'URL'),
                            placeholder: qt.t('forms.enter_a_url', 'Enter a URL'),
                            entry: this.state.url,
                            onChange: this.handleUrlUpdate,
                            autocomplete: !0
                          })
                        )
                      ),
                      k.createElement(
                        'div',
                        { className: co.a.instructions },
                        k.createElement(
                          'p',
                          null,
                          k.createElement(
                            De.a,
                            { i18nKey: 'forms.webhook_help' },
                            'If your server responds with JSON, each property will be added to the Flow.'
                          )
                        ),
                        k.createElement(
                          'pre',
                          { className: co.a.code },
                          '{ "product": "Solar Charging Kit", "stock level": 32 }'
                        ),
                        k.createElement(
                          'p',
                          null,
                          k.createElement(
                            De.a,
                            { i18nKey: 'forms.webhook_example' },
                            'This response would add ',
                            k.createElement(
                              'span',
                              { className: co.a.example },
                              '@webhook.product'
                            ),
                            ' and',
                            ' ',
                            k.createElement(
                              'span',
                              { className: co.a.example },
                              '@webhook["stock level"]'
                            ),
                            ' for use in the flow.'
                          )
                        )
                      ),
                      Ds(this.state.resultName, this.handleUpdateResultName),
                      rt(this.props)
                    )
                  );
                }
              },
              {
                key: 'render',
                value: function() {
                  return this.renderEdit();
                }
              }
            ]),
            a
          );
        })(k.Component),
        yo = function(e, t) {
          var a = e.classifier;
          return dt({ id: a.uuid, name: a.name, type: ve.Classifier }, t.config.endpoints);
        };
      yo.contextTypes = { config: yt };
      var bo = yo,
        ko = bt,
        Eo = function(e) {
          var t =
            e.originalAction ||
            (e.originalNode.node.actions.length > 0 && e.originalNode.node.actions[0]);
          if (t.type === ke.call_classifier) return t;
        },
        Co = function(e, t) {
          var a = Z(),
            n = cs(
              [].concat(Object(fe.a)(t.cases), Object(fe.a)(t.hiddenCases)),
              !1,
              e.originalNode.node,
              'Failure'
            );
          !(function(e, t) {
            var a = e.cases.findIndex(function(e) {
              return (
                e.type === t.type &&
                ((a = e.arguments),
                (n = t.arguments),
                a.every(function(e, t) {
                  return e === n[t];
                }))
              );
              var a, n;
            });
            if (a >= 0) {
              if (a === e.cases.length - 1) return;
              var n = e.cases.splice(a, 1),
                i = Object(w.a)(n, 1)[0];
              e.cases.push(i);
            } else {
              var s = { uuid: Z() },
                r = { uuid: Z(), name: t.name, exit_uuid: s.uuid },
                o = { uuid: Z(), type: t.type, arguments: t.arguments, category_uuid: r.uuid };
              e.categories.push(r), e.cases.push(o), e.exits.splice(e.exits.length - 1, 0, s);
            }
          })(n, { type: Ee.has_category, arguments: ['Success', 'Skipped'], name: 'Other' });
          var i = Eo(e);
          i && (a = i.uuid);
          var r = t.resultName.value,
            o = '_' + r + ' Classification',
            l = {
              uuid: a,
              type: ke.call_classifier,
              result_name: o,
              input: t.operand.value,
              classifier: { uuid: t.classifier.value.id, name: t.classifier.value.name }
            },
            c = {
              cases: n.cases,
              operand: '@results.'.concat(M(o)),
              categories: n.categories,
              type: s.switch,
              default_category_uuid: n.defaultCategory,
              result_name: r
            };
          return es(e.originalNode.node.uuid, c, n.exits, ke.split_by_intent, [l]);
        },
        wo = function() {
          var e = Z();
          return {
            uuid: e,
            kase: { uuid: e, type: Ee.has_top_intent, arguments: ['', ''], category_uuid: null },
            categoryName: '',
            valid: !0
          };
        },
        Oo = a(182),
        So = a.n(Oo),
        No = (function(e) {
          Object(g.a)(a, e);
          var t = Object(v.a)(a);
          function a(e) {
            var n;
            return (
              Object(m.a)(this, a),
              ((n = t.call(this, e)).dialog = void 0),
              (n.state = (function(e) {
                var t = [],
                  a = '@input.text',
                  n = { value: null },
                  i = [];
                if (Ho(e.originalNode) === ke.split_by_intent) {
                  var s = e.originalNode.node.router;
                  ts(e.originalNode.node) &&
                    ((i = (t = as(s.cases, e.originalNode)).filter(function(e) {
                      return Ws(e.kase.type).visibility === Be;
                    })),
                    (t = t.filter(function(e) {
                      return Ws(e.kase.type).visibility !== Be;
                    })));
                  var r = Eo(e),
                    o = r.classifier;
                  (n = { value: { id: o.uuid, name: o.name, type: ve.Classifier } }), (a = r.input);
                }
                return {
                  hiddenCases: i,
                  resultName: { value: 'Result' },
                  classifier: n,
                  operand: { value: a },
                  cases: t,
                  valid: !0
                };
              })(n.props.nodeSettings)),
              Object(b.react)(Object(f.a)(n), { include: [/^handle/] }),
              n.state.classifier.value &&
                Ye(n.props.assetStore.classifiers, n.state.classifier.value.id).then(function(e) {
                  n.handleUpdate({ classifier: e });
                }),
              n
            );
          }
          return (
            Object(_.a)(a, [
              {
                key: 'handleUpdate',
                value: function(e) {
                  var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1],
                    a = {};
                  e.hasOwnProperty('resultName') &&
                    (a.resultName = ga(qt.t('forms.result_name', 'Result Name'), e.resultName, [
                      ka(t)
                    ])),
                    e.hasOwnProperty('classifier') &&
                      (a.classifier = ga(qt.t('forms.classifier', 'Classifier'), e.classifier, [
                        ka(t)
                      ]));
                  var n = ca(this.state, a);
                  return this.setState(n), n.valid;
                }
              },
              {
                key: 'handleCasesUpdated',
                value: function(e) {
                  var t = e.find(function(e) {
                    return !e.valid;
                  });
                  this.setState({ cases: e, valid: !t });
                }
              },
              {
                key: 'handleUpdateResultName',
                value: function(e) {
                  var t = ga(qt.t('forms.result_name', 'Result Name'), e, [ya, xa, Oa]);
                  this.setState({ resultName: t, valid: this.state.valid && !ht(t) });
                }
              },
              {
                key: 'handleSave',
                value: function() {
                  this.state.cases.find(function(e) {
                    return !e.valid;
                  }) ||
                    (this.handleUpdate(
                      {
                        resultName: this.state.resultName.value,
                        classifier: this.state.classifier.value
                      },
                      !0
                    ) &&
                      (this.props.updateRouter(Co(this.props.nodeSettings, this.state)),
                      this.props.onClose(!1)));
                }
              },
              {
                key: 'handleClassifierUpdated',
                value: function(e) {
                  this.handleUpdate({ classifier: e[0] });
                }
              },
              {
                key: 'handleOperandUpdated',
                value: function(e) {
                  this.setState({ operand: ga(qt.t('forms.operand', 'Operand'), e, [ya]) });
                }
              },
              {
                key: 'getButtons',
                value: function() {
                  var e = this;
                  return {
                    primary: { name: qt.t('buttons.ok', 'Ok'), onClick: this.handleSave },
                    secondary: {
                      name: qt.t('buttons.cancel', 'Cancel'),
                      onClick: function() {
                        return e.props.onClose(!0);
                      }
                    }
                  };
                }
              },
              {
                key: 'renderEdit',
                value: function() {
                  var e = this,
                    t = this.props.typeConfig,
                    a = [
                      {
                        name: 'Classifier Input',
                        checked: '@input.text' !== this.state.operand.value,
                        body: k.createElement(
                          k.Fragment,
                          null,
                          k.createElement(
                            'p',
                            null,
                            'Enter an expression to use as the input to your classifier. To classify the last response from the contact use ',
                            k.createElement('code', null, '@input.text'),
                            '.'
                          ),
                          k.createElement(un, {
                            name: qt.t('forms.operand', 'Operand'),
                            showLabel: !1,
                            autocomplete: !0,
                            onChange: this.handleOperandUpdated,
                            entry: this.state.operand
                          })
                        )
                      }
                    ];
                  return k.createElement(
                    me,
                    {
                      title: t.name,
                      headerClass: t.type,
                      buttons: this.getButtons(),
                      tabs: a,
                      ref: function(t) {
                        e.dialog = t;
                      }
                    },
                    k.createElement(sa, {
                      __className: '',
                      initialType: t,
                      onChange: this.props.onTypeChange
                    }),
                    k.createElement(
                      'p',
                      null,
                      k.createElement('span', null, 'Run '),
                      k.createElement(
                        'span',
                        {
                          className: So.a.link,
                          onClick: function() {
                            e.dialog.showTab(0);
                          }
                        },
                        '@input.text' === this.state.operand.value
                          ? 'the last response'
                          : this.state.operand.value
                      ),
                      k.createElement('span', null, ' through the classifier...')
                    ),
                    k.createElement(Qt, {
                      key: 'select_classifier',
                      name: qt.t('forms.classifier', 'Classifier'),
                      placeholder: 'Select the classifier to use',
                      assets: this.props.assetStore.classifiers,
                      onChange: this.handleClassifierUpdated,
                      entry: this.state.classifier
                    }),
                    K(!!this.state.classifier.value)(
                      k.createElement(sr, {
                        'data-spec': 'cases',
                        cases: this.state.cases,
                        onCasesUpdated: this.handleCasesUpdated,
                        operators: qs,
                        createEmptyCase: wo,
                        classifier: this.state.classifier.value
                      })
                    ),
                    Ds(this.state.resultName, this.handleUpdateResultName),
                    rt(this.props)
                  );
                }
              },
              {
                key: 'render',
                value: function() {
                  return this.renderEdit();
                }
              }
            ]),
            a
          );
        })(k.Component),
        xo = function() {
          return Lo.filter(function(e) {
            return !e.excludeFromSplit;
          }).map(function(e) {
            return { value: e.scheme, label: e.name };
          });
        },
        jo = function(e) {
          var t = [],
            a = rs(e),
            n = xo();
          return (
            a &&
              (t = a.cases
                .map(function(e) {
                  if (e.arguments) {
                    var t = Object(w.a)(e.arguments, 1)[0];
                    return n.find(function(e) {
                      return e.value === t;
                    });
                  }
                  return null;
                })
                .filter(function(e) {
                  return null !== e;
                })),
            t
          );
        },
        To = function() {
          var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [],
            t = arguments.length > 1 ? arguments[1] : void 0;
          return e.map(function(e) {
            var a = e.value,
              n = e.label,
              i = t.find(function(e) {
                return e.arguments[0] === a;
              }),
              s = i ? i.uuid : Z();
            return {
              uuid: Z(),
              kase: { uuid: s, type: Ee.has_only_phrase, arguments: [a], category_uuid: '' },
              categoryName: n,
              valid: !0
            };
          });
        },
        Ao = (function(e) {
          Object(g.a)(a, e);
          var t = Object(v.a)(a);
          function a(e) {
            var n;
            return (
              Object(m.a)(this, a),
              ((n = t.call(this, e)).state = (function(e) {
                var t = { schemes: { value: [] }, resultName: { value: '' }, valid: !1 };
                return (
                  Ho(e.originalNode) === ke.split_by_scheme &&
                    ((t.schemes.value = jo(e.originalNode.node)),
                    (t.resultName = { value: e.originalNode.node.router.result_name || '' }),
                    (t.valid = !0)),
                  t
                );
              })(n.props.nodeSettings)),
              Object(b.react)(Object(f.a)(n), { include: [/^handle/] }),
              n
            );
          }
          return (
            Object(_.a)(a, [
              {
                key: 'handleSchemesChanged',
                value: function(e) {
                  this.handleUpdate({ schemes: e });
                }
              },
              {
                key: 'handleUpdateResultName',
                value: function(e) {
                  this.handleUpdate({ resultName: e });
                }
              },
              {
                key: 'handleUpdate',
                value: function(e) {
                  var t = {};
                  e.hasOwnProperty('schemes') &&
                    (t.schemes = ga(qt.t('forms.split_by_scheme', 'Channel types'), e.schemes, [
                      ya
                    ])),
                    e.hasOwnProperty('resultName') && (t.resultName = { value: e.resultName });
                  var a = ca(this.state, t);
                  return this.setState(a), a.valid;
                }
              },
              {
                key: 'handleSave',
                value: function() {
                  this.state.valid &&
                    (this.props.updateRouter(
                      (function(e, t) {
                        var a = [];
                        Ho(e.originalNode) === ke.split_by_scheme &&
                          (a = rs(e.originalNode.node).cases);
                        var n = To(t.schemes.value, a),
                          i = cs(n, !1, e.originalNode.node),
                          r = i.cases,
                          o = i.exits,
                          l = i.defaultCategory,
                          c = i.caseConfig,
                          u = i.categories,
                          d = {
                            type: s.switch,
                            cases: r,
                            categories: u,
                            default_category_uuid: l,
                            operand: '@(urn_parts(contact.urn).scheme)',
                            result_name: t.resultName.value
                          };
                        return es(e.originalNode.node.uuid, d, o, ke.split_by_scheme, [], {
                          cases: c
                        });
                      })(this.props.nodeSettings, this.state)
                    ),
                    this.props.onClose(!1));
                }
              },
              {
                key: 'getButtons',
                value: function() {
                  var e = this;
                  return {
                    primary: { name: qt.t('buttons.ok', 'Ok'), onClick: this.handleSave },
                    secondary: {
                      name: qt.t('buttons.cancel', 'Cancel'),
                      onClick: function() {
                        return e.props.onClose(!0);
                      }
                    }
                  };
                }
              },
              {
                key: 'render',
                value: function() {
                  var e = this.props.typeConfig;
                  return k.createElement(
                    me,
                    { title: e.name, headerClass: e.type, buttons: this.getButtons() },
                    k.createElement(sa, {
                      __className: '',
                      initialType: e,
                      onChange: this.props.onTypeChange
                    }),
                    k.createElement(
                      'p',
                      null,
                      qt.t(
                        'forms.split_by_scheme_summary',
                        "The contact's URN is the address they used to reach you such as their phone number or a Facebook ID. Select which URN types to split by below."
                      )
                    ),
                    k.createElement(Ia, {
                      key: 'channel_type_select',
                      name: qt.t('forms.channel_type', 'Channel Type'),
                      placeholder: qt.t(
                        'forms.split_by_channel_placeholder',
                        'Select the channels to split by'
                      ),
                      entry: this.state.schemes,
                      onChange: this.handleSchemesChanged,
                      options: xo(),
                      multi: !0
                    }),
                    Ds(this.state.resultName, this.handleUpdateResultName),
                    rt(this.props)
                  );
                }
              }
            ]),
            a
          );
        })(k.Component);
      Ao.contextTypes = { endpoints: yt, assetService: yt };
      var Ro = function(e) {
          var t =
            e.originalAction ||
            (e.originalNode.node.actions.length > 0 && e.originalNode.node.actions[0]);
          if (t.type === ke.open_ticket) return t;
        },
        Uo = a(131),
        Do = a.n(Uo),
        Fo = (function(e) {
          Object(g.a)(a, e);
          var t = Object(v.a)(a);
          function a(e) {
            var n;
            return (
              Object(m.a)(this, a),
              ((n = t.call(this, e)).dialog = void 0),
              (n.state = (function(e) {
                var t = { value: null },
                  a = { value: '@flow.name' },
                  n = { value: '@results' },
                  i = { value: 'Result' };
                if (Ho(e.originalNode) === ke.split_by_ticket) {
                  var s = Ro(e),
                    r = s.ticketer;
                  (t = { value: { id: r.uuid, name: r.name, type: ve.Ticketer } }),
                    (a = { value: s.subject }),
                    (n = { value: s.body }),
                    (i = { value: s.result_name });
                }
                return { ticketer: t, subject: a, body: n, resultName: i, valid: !0 };
              })(n.props.nodeSettings)),
              Object(b.react)(Object(f.a)(n), { include: [/^handle/] }),
              n.state.ticketer.value &&
                Ye(n.props.assetStore.ticketers, n.state.ticketer.value.id).then(function(e) {
                  n.handleUpdate({ ticketer: e });
                }),
              n
            );
          }
          return (
            Object(_.a)(a, [
              {
                key: 'handleUpdate',
                value: function(e) {
                  var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1],
                    a = {};
                  e.hasOwnProperty('ticketer') &&
                    (a.ticketer = ga(qt.t('forms.ticketer', 'Ticketer'), e.ticketer, [ka(t)])),
                    e.hasOwnProperty('subject') &&
                      (a.subject = ga(qt.t('forms.subject', 'Subject'), e.subject, [ka(t)])),
                    e.hasOwnProperty('body') &&
                      (a.body = ga(qt.t('forms.body', 'Body'), e.body, [ka(t)])),
                    e.hasOwnProperty('resultName') &&
                      (a.resultName = ga(qt.t('forms.result_name', 'Result Name'), e.resultName, [
                        ka(t)
                      ]));
                  var n = ca(this.state, a);
                  return this.setState(n), n.valid;
                }
              },
              {
                key: 'handleTicketerUpdate',
                value: function(e) {
                  this.handleUpdate({ ticketer: e[0] });
                }
              },
              {
                key: 'handleSubjectUpdate',
                value: function(e, t) {
                  var a = arguments.length > 2 && void 0 !== arguments[2] && arguments[2];
                  return this.handleUpdate({ subject: e }, a);
                }
              },
              {
                key: 'handleBodyUpdate',
                value: function(e) {
                  return this.handleUpdate({ body: e });
                }
              },
              {
                key: 'handleResultNameUpdate',
                value: function(e) {
                  var t = ga(qt.t('forms.result_name', 'Result Name'), e, [ya, xa, Oa]);
                  this.setState({ resultName: t, valid: this.state.valid && !ht(t) });
                }
              },
              {
                key: 'handleSave',
                value: function() {
                  this.handleUpdate(
                    {
                      ticketer: this.state.ticketer.value,
                      subject: this.state.subject.value,
                      body: this.state.body.value,
                      resultName: this.state.resultName.value
                    },
                    !0
                  ) &&
                    (this.props.updateRouter(
                      (function(e, t) {
                        var a = Z(),
                          n = Ro(e);
                        n && (a = n.uuid);
                        var i = {
                          uuid: a,
                          type: ke.open_ticket,
                          ticketer: { uuid: t.ticketer.value.id, name: t.ticketer.value.name },
                          subject: t.subject.value,
                          body: t.body.value,
                          result_name: t.resultName.value
                        };
                        return us(i, e.originalNode, !0);
                      })(this.props.nodeSettings, this.state)
                    ),
                    this.props.onClose(!1));
                }
              },
              {
                key: 'getButtons',
                value: function() {
                  var e = this;
                  return {
                    primary: { name: qt.t('buttons.ok', 'Ok'), onClick: this.handleSave },
                    secondary: {
                      name: qt.t('buttons.cancel', 'Cancel'),
                      onClick: function() {
                        return e.props.onClose(!0);
                      }
                    }
                  };
                }
              },
              {
                key: 'renderEdit',
                value: function() {
                  var e = this,
                    t = this.props.typeConfig;
                  return k.createElement(
                    me,
                    {
                      title: t.name,
                      headerClass: t.type,
                      buttons: this.getButtons(),
                      ref: function(t) {
                        e.dialog = t;
                      }
                    },
                    k.createElement(sa, {
                      __className: '',
                      initialType: t,
                      onChange: this.props.onTypeChange
                    }),
                    k.createElement(
                      'p',
                      null,
                      k.createElement('span', null, 'Open ticket via... ')
                    ),
                    k.createElement(Qt, {
                      key: 'select_ticketer',
                      name: qt.t('forms.ticketer', 'Ticketer'),
                      placeholder: 'Select the ticketing service to use',
                      assets: this.props.assetStore.ticketers,
                      onChange: this.handleTicketerUpdate,
                      entry: this.state.ticketer
                    }),
                    k.createElement(
                      'div',
                      { className: Do.a.subject },
                      k.createElement(un, {
                        name: qt.t('forms.subject', 'Subject'),
                        placeholder: qt.t('forms.enter_a_subject', 'Enter a subject'),
                        entry: this.state.subject,
                        onChange: this.handleSubjectUpdate,
                        autocomplete: !0
                      })
                    ),
                    k.createElement(
                      'div',
                      { className: Do.a.body },
                      k.createElement(un, {
                        name: qt.t('forms.body', 'Body'),
                        placeholder: qt.t('forms.enter_a_body', 'Enter a body'),
                        entry: this.state.body,
                        onChange: this.handleBodyUpdate,
                        autocomplete: !0,
                        textarea: !0
                      })
                    ),
                    Ds(this.state.resultName, this.handleResultNameUpdate),
                    rt(this.props)
                  );
                }
              },
              {
                key: 'render',
                value: function() {
                  return this.renderEdit();
                }
              }
            ]),
            a
          );
        })(k.Component),
        Po = function(e, t) {
          var a = e.ticketer;
          return dt({ id: a.uuid, name: a.name, type: ve.Ticketer }, t.config.endpoints);
        };
      Po.contextTypes = { config: yt };
      var Io = Po,
        Lo = [
          {
            scheme: 'tel',
            name: qt.t('schemes.phone.name', 'SMS'),
            path: qt.t('schemes.phone.path', 'Phone Number')
          },
          {
            scheme: 'whatsapp',
            name: qt.t('schemes.whatsapp.name', 'WhatsApp'),
            path: qt.t('schemes.whatsapp.path', 'WhatsApp Number')
          },
          {
            scheme: 'facebook',
            name: qt.t('schemes.facebook.path', 'Facebook'),
            path: qt.t('schemes.facebook.path', 'Facebook ID')
          },
          {
            scheme: 'twitterid',
            name: qt.t('schemes.twitterid.name', 'Twitter'),
            path: qt.t('schemes.twitterid.path', 'Twitter ID')
          },
          {
            scheme: 'telegram',
            name: qt.t('schemes.telegram.name', 'Telegram'),
            path: qt.t('schemes.telegram.path', 'Telegram ID')
          },
          {
            scheme: 'viber',
            name: qt.t('schemes.viber.name', 'Viber'),
            path: qt.t('schemes.viber.path', 'Viber ID')
          },
          {
            scheme: 'line',
            name: qt.t('schemes.line.name', 'Line'),
            path: qt.t('schemes.line.path', 'Line ID')
          },
          {
            scheme: 'wechat',
            name: qt.t('schemes.wechat.name', 'Wechat'),
            path: qt.t('schemes.wechat.path', 'Wechat ID')
          },
          {
            scheme: 'fcm',
            name: qt.t('schemes.firebase.name', 'Firebase'),
            path: qt.t('schemes.firebase.path', 'Firebase ID')
          },
          {
            scheme: 'jiochat',
            name: qt.t('schemes.jiojach.name', 'Jiochat'),
            path: qt.t('schemes.jiochat.path', 'Jiochat ID')
          },
          {
            scheme: 'freshchat',
            name: qt.t('schemes.freschat.name', 'Freshchat'),
            path: qt.t('schemes.freshchat.path', 'Freshchat ID')
          },
          {
            scheme: 'mailto',
            name: qt.t('schemes.email.name', 'Email'),
            path: qt.t('schemes.email.path', 'Email Address'),
            excludeFromSplit: !0
          },
          {
            scheme: 'twitter',
            name: qt.t('schemes.twitter.name', 'Twitter'),
            path: qt.t('schemes.twitter.path', 'Twitter Handle'),
            excludeFromSplit: !0
          },
          {
            scheme: 'ext',
            name: qt.t('schemes.external.name', 'External'),
            path: qt.t('schemes.external.path', 'External ID')
          }
        ],
        Mo = [
          {
            type: ke.missing,
            name: 'Missing',
            description: ' ** Unsupported ** ',
            component: Gn,
            visibility: Be
          },
          {
            type: ke.say_msg,
            name: qt.t('actions.play_message.name', 'Play Message'),
            description: qt.t('actions.play_message.description', 'Play a message'),
            form: ai,
            localization: Kn,
            localizeableKeys: ['text', 'audio_url'],
            component: ti,
            visibility: Ve
          },
          {
            type: ke.wait_for_menu,
            name: qt.t('actions.wait_for_menu.name', 'Wait for Menu Selection'),
            description: qt.t('actions.wait_for_menu.description', 'Wait for menu selection'),
            form: xr,
            localization: Cr,
            localizeableKeys: ['exits'],
            visibility: Ve
          },
          {
            type: ke.wait_for_digits,
            name: qt.t('actions.wait_for_digits.name', 'Wait for Digits'),
            description: qt.t('actions.wait_for_digits.description', 'Wait for multiple digits'),
            form: cr,
            localization: Cr,
            localizeableKeys: ['exits', 'cases'],
            visibility: Ve
          },
          {
            type: ke.wait_for_audio,
            name: qt.t('actions.wait_for_audio.name', 'Wait for Audio'),
            description: qt.t('actions.wait_for_audio.description', 'Wait for an audio recording'),
            form: oo,
            localization: Cr,
            localizeableKeys: ['exits'],
            visibility: [be.SURVEY, be.VOICE]
          },
          {
            type: ke.send_msg,
            name: qt.t('actions.send_msg.name', 'Send Message'),
            description: qt.t('actions.send_msg.description', 'Send the contact a message'),
            form: wi,
            localization: Kn,
            localizeableKeys: ['text', 'quick_replies', 'templating.variables'],
            component: vi,
            massageForDisplay: function(e) {
              e.quick_replies = e.quick_replies || [];
            }
          },
          {
            type: ke.wait_for_response,
            name: qt.t('actions.wait_for_response.name', 'Wait for Response'),
            description: qt.t(
              'actions.wait_for_response.description',
              'Wait for the contact to respond'
            ),
            form: Vr,
            localization: Cr,
            localizeableKeys: ['categories', 'cases'],
            aliases: [s.switch],
            visibility: qe
          },
          {
            type: ke.send_broadcast,
            name: qt.t('actions.send_broadcast.name', 'Send Broadcast'),
            description: qt.t('actions.send_broadcast.description', 'Send somebody else a message'),
            form: li,
            localization: In,
            localizeableKeys: ['text'],
            component: oi
          },
          {
            type: ke.add_input_labels,
            name: qt.t('actions.add_input.name', 'Add Labels'),
            description: qt.t('actions.add_input.description', 'Label the incoming message'),
            form: Aa,
            component: Et
          },
          {
            type: ke.add_contact_urn,
            name: qt.t('actions.add_contact_urn.name', 'Add URN'),
            description: qt.t('actions.add_contact_urn.description', 'Add a URN for the contact'),
            form: hn,
            component: Pa
          },
          {
            type: ke.add_contact_groups,
            name: qt.t('actions.add_contact_groups.name', 'Add to Group'),
            description: qt.t(
              'actions.add_contact_groups.description',
              'Add the contact to a group'
            ),
            form: yn,
            component: En
          },
          {
            type: ke.remove_contact_groups,
            name: qt.t('actions.remove_contact_groups.name', 'Remove from Group'),
            description: qt.t(
              'actions.remove_contact_groups.description',
              'Remove the contact from a group'
            ),
            form: Rn,
            component: En
          },
          {
            type: ke.set_contact_field,
            aliases: [ke.set_contact_name, ke.set_contact_language, ke.set_contact_channel],
            name: qt.t('actions.set_contact_field.name', 'Update Contact'),
            description: qt.t('actions.set_contact_field.description', 'Update the contact'),
            form: Ns,
            component: Wi
          },
          {
            type: ke.send_email,
            name: qt.t('actions.send_email.name', 'Send Email'),
            description: qt.t('actions.send_email.description', 'Send an email'),
            form: mi,
            localization: In,
            localizeableKeys: ['subject', 'body'],
            component: ci,
            visibility: Ke
          },
          {
            type: ke.set_run_result,
            name: qt.t('actions.set_run_result.name', 'Save Flow Result'),
            description: qt.t('actions.set_run_result.description', 'Save a result for this flow'),
            form: xi,
            component: Oi
          },
          {
            type: ke.play_audio,
            name: qt.t('actions.play_audio.name', 'Play Recording'),
            description: qt.t('actions.play_audio.description', 'Play a contact recording'),
            form: Yn,
            component: Wn,
            visibility: Ve
          },
          {
            type: ke.call_webhook,
            name: qt.t('actions.call_webhook.name', 'Call Webhook'),
            description: qt.t('actions.call_webhook.description', 'Call a webhook'),
            form: vo,
            localization: Cr,
            localizeableKeys: ['exits'],
            component: _n,
            aliases: [ke.split_by_webhook],
            visibility: Ke
          },
          {
            type: ke.call_resthook,
            name: qt.t('actions.call_resthook.name', 'Call Zapier'),
            description: qt.t('actions.call_resthook.description', 'Call Zapier'),
            form: Gr,
            localization: Cr,
            localizeableKeys: ['exits'],
            component: mn,
            aliases: [ke.split_by_resthook],
            filter: Ce.HAS_RESTHOOK,
            visibility: Ke
          },
          {
            type: ke.enter_flow,
            name: qt.t('actions.enter_flow.name', 'Enter a Flow'),
            description: qt.t('actions.enter_flow.description', 'Enter another flow'),
            form: no,
            localization: Cr,
            localizeableKeys: ['exits'],
            component: Ti,
            aliases: [ke.split_by_subflow]
          },
          {
            type: ke.start_session,
            name: qt.t('actions.start_session.name', 'Start Somebody Else'),
            description: qt.t('actions.start_session.description', 'Start somebody else in a flow'),
            localization: Cr,
            localizeableKeys: ['exits'],
            form: zi,
            component: Fi,
            visibility: Ke
          },
          {
            type: ke.open_ticket,
            name: qt.t('actions.open_ticket.name', 'Open Ticket'),
            description: qt.t(
              'actions.open_ticket.description',
              'Open a ticket with a human agent'
            ),
            form: Fo,
            localization: Cr,
            localizeableKeys: ['exits'],
            component: Io,
            aliases: [ke.split_by_ticket],
            visibility: Ke,
            filter: Ce.HAS_TICKETER
          },
          {
            type: ke.transfer_airtime,
            name: qt.t('actions.transfer_airtime.name', 'Send Airtime'),
            description: qt.t('actions.transfer_airtime.description', 'Send the contact airtime'),
            form: Bs,
            localization: Cr,
            localizeableKeys: ['exits'],
            component: Hi,
            aliases: [ke.split_by_airtime],
            visibility: Ke,
            filter: Ce.HAS_AIRTIME
          },
          {
            type: ke.wait_for_image,
            name: qt.t('actions.wait_for_image.name', 'Wait for Image'),
            description: qt.t('actions.wait_for_image.description', 'Wait for an image'),
            form: oo,
            localization: Cr,
            localizeableKeys: ['exits'],
            visibility: He
          },
          {
            type: ke.wait_for_video,
            name: qt.t('actions.wait_for_video.name', 'Wait for Video'),
            description: qt.t('actions.wait_for_video.description', 'Wait for a video'),
            form: oo,
            localization: Cr,
            localizeableKeys: ['exits'],
            visibility: He
          },
          {
            type: ke.wait_for_location,
            name: qt.t('actions.wait_for_location.name', 'Wait for Location'),
            description: qt.t(
              'actions.wait_for_location.description',
              'Wait for location GPS coordinates'
            ),
            form: oo,
            localization: Cr,
            localizeableKeys: ['exits'],
            visibility: He
          },
          {
            type: ke.split_by_intent,
            name: qt.t('actions.split_by_intent.name', 'Split by Intent'),
            description: qt.t('actions.split_by_intent.description', 'Split by intent'),
            form: No,
            localization: Cr,
            localizeableKeys: ['exits'],
            component: bo,
            aliases: [ke.call_classifier],
            visibility: Ke,
            filter: Ce.HAS_CLASSIFIER
          },
          {
            type: ke.split_by_expression,
            name: qt.t('actions.split_by_expression.name', 'Split by Expression'),
            description: qt.t(
              'actions.split_by_expression.description',
              'Split by a custom expression'
            ),
            localization: Cr,
            localizeableKeys: ['exits', 'cases'],
            form: dr
          },
          {
            type: ke.split_by_contact_field,
            name: qt.t('actions.split_by_contact_field.name', 'Split by Contact Field'),
            description: qt.t(
              'actions.split_by_contact_field.description',
              'Split by a contact field'
            ),
            localization: Cr,
            localizeableKeys: ['exits', 'cases'],
            form: _r
          },
          {
            type: ke.split_by_run_result,
            aliases: [ke.split_by_run_result_delimited],
            name: qt.t('actions.split_by_run_result.name', 'Split by Flow Result'),
            description: qt.t(
              'actions.split_by_run_result.description',
              'Split by a result in the flow'
            ),
            localization: Cr,
            localizeableKeys: ['exits', 'cases'],
            form: Zr
          },
          {
            type: ke.split_by_random,
            name: qt.t('actions.split_by_random.name', 'Split Randomly'),
            description: qt.t('actions.split_by_random.description', 'Split by random chance'),
            localization: Cr,
            localizeableKeys: ['exits'],
            form: Fr
          },
          {
            type: ke.split_by_groups,
            name: qt.t('actions.split_by_groups.name', 'Split by Group Membership'),
            description: qt.t('actions.split_by_groups.description', 'Split by group membership'),
            localization: Cr,
            localizeableKeys: ['exits'],
            form: yr
          },
          {
            type: ke.split_by_scheme,
            name: qt.t('actions.split_by_scheme.name', 'Split by URN Type'),
            description: qt.t('actions.split_by_scheme.description', 'Split by URN type'),
            localization: Cr,
            localizeableKeys: ['exits'],
            form: Ao
          }
        ],
        zo = (function(e) {
          var t = {};
          return e.filter(function(e) {
            if ('missing' === e.type) return !1;
            var a = e.name;
            return !t[a] && (t[a] = !0);
          });
        })(Mo),
        Bo = Mo.reduce(function(e, t) {
          return (
            (e[t.type] = t),
            t.aliases &&
              t.aliases.forEach(function(a) {
                return (e[a] = t);
              }),
            e
          );
        }, {}),
        Vo = function(e) {
          var t = Bo[e];
          return t || (t = Bo.missing), t;
        },
        Ho = function(e) {
          var t = e.node.router && e.node.router.wait;
          if (t && t.hint)
            switch (t.hint.type) {
              case o.digits:
                return 1 === t.hint.count ? ke.wait_for_menu : ke.wait_for_digits;
              case o.audio:
                return ke.wait_for_audio;
              case o.image:
                return ke.wait_for_image;
              case o.location:
                return ke.wait_for_location;
              case o.video:
                return ke.wait_for_video;
            }
          return e.ui.type !== ke.split_by_contact_field || e.ui.config.operand.name
            ? e.ui.type
            : ke.split_by_expression;
        },
        qo = function(e, t) {
          return !!(e.filters || []).find(function(e) {
            return e === t;
          });
        },
        Ko = function(e, t) {
          var a = {
            type: ke.set_contact_name,
            valid: !1,
            name: { value: '' },
            channel: { value: null },
            language: { value: null },
            field: { value: ft },
            fieldValue: { value: '' }
          };
          if (e.originalAction) {
            var n = e.originalAction.type;
            if (Vo(n) === Vo(ke.set_contact_field))
              switch (((a.type = n), n)) {
                case ke.set_contact_field:
                  var i = e.originalAction;
                  return (
                    (a.field = { value: Yo(i.field) }),
                    (a.fieldValue = { value: i.value }),
                    (a.valid = !0),
                    a
                  );
                case ke.set_contact_channel:
                  var s = e.originalAction;
                  return (
                    (a.field = { value: gt }),
                    (a.channel = { value: $o(s.channel) }),
                    (a.valid = !0),
                    a
                  );
                case ke.set_contact_language:
                  var r = e.originalAction;
                  return (
                    (a.field = { value: vt }),
                    (a.valid = !0),
                    (a.language = {
                      value: Zo({ iso: r.language, name: el(r.language, t.languages.items) })
                    }),
                    a
                  );
                case ke.set_contact_name:
                  var o = e.originalAction;
                  return (a.valid = !0), (a.name = { value: o.name }), a;
              }
          }
          return a;
        },
        Go = function(e, t) {
          return t.type === ke.set_contact_field
            ? {
                uuid: lt(e, ke.set_contact_field),
                type: t.type,
                field: Qo(t.field.value),
                value: t.fieldValue.value
              }
            : t.type === ke.set_contact_channel
            ? { uuid: lt(e, ke.set_contact_channel), type: t.type, channel: Xo(t.channel.value) }
            : t.type === ke.set_contact_language
            ? { uuid: lt(e, ke.set_contact_language), type: t.type, language: Jo(t.language.value) }
            : t.type === ke.set_contact_name
            ? { uuid: lt(e, ke.set_contact_name), type: t.type, name: t.name.value }
            : void 0;
        },
        Wo = function(e, t) {
          if (e === ft && t !== ft) return -1;
          if (t === ft && e !== ft) return 1;
          if (e.type === t.type) return e.name.localeCompare(t.name);
          if (e.type === ve.Scheme) return 1;
          if (e.type !== t.type) {
            if (e.type === ve.ContactProperty) return -1;
            if (t.type === ve.ContactProperty) return 1;
          }
          return e.name.localeCompare(t.name);
        },
        Yo = function() {
          var e =
            arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : { key: '', name: '' };
          return { id: e.key, name: e.name, type: ve.Field };
        },
        Qo = function(e) {
          return { key: e.id, name: e.name };
        },
        Xo = function(e) {
          return e.id === Oe.id ? {} : { uuid: e.id, name: e.name };
        },
        Jo = function(e) {
          return e.id === Oe.id ? '' : e.id;
        },
        Zo = function(e) {
          var t = e.iso,
            a = e.name;
          return t && 0 !== t.length ? { id: t, name: a, type: ve.Language } : Oe;
        },
        $o = function(e) {
          var t = e.uuid,
            a = e.name;
          return t ? { id: t, name: a, type: ve.Language } : Oe;
        },
        el = function(e, t) {
          var a = e;
          return t && a in t && (a = t[a].name), a;
        },
        tl = a(132),
        al = a.n(tl),
        nl = {
          dragStartTime: 0,
          dragDownPosition: null,
          dragActive: !1,
          dragNodeUUID: null,
          dragGroup: !1,
          dragSelection: null
        },
        il = {
          completionSchema: { types: [], root: [] },
          functions: [],
          currentRevision: null,
          simulating: !1,
          translating: !1,
          language: null,
          fetchingFlow: !1,
          dragStartTime: 0,
          dragDownPosition: null,
          dragActive: !1,
          dragNodeUUID: null,
          dragGroup: !1,
          dragSelection: null,
          ghostNode: null,
          debug: null,
          warnings: {},
          popped: null,
          activity: { segments: {}, nodes: {} },
          liveActivity: { segments: {}, nodes: {} },
          activityInterval: 5e3,
          visible: !0,
          scrollToNode: null,
          scrollToAction: null
        },
        sl = function() {
          var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : il,
            t = arguments.length > 1 ? arguments[1] : void 0;
          switch (t.type) {
            case ye.UPDATE_EDITOR_STATE:
              return t.payload.editorState;
            default:
              return e;
          }
        },
        rl = function() {},
        ol = null,
        ll = !1,
        cl = 0,
        ul = 0,
        dl = qt.t(
          'errors.network',
          'Hmm, we ran into a problem trying to save your changes. It could just be that your internet connection is not working well at the moment. Please wait a minute or so and try again.'
        ),
        pl = function(e) {
          window.setInterval(function() {
            ul < cl &&
              new Date().getTime() - cl > 6e4 &&
              e(
                ml({
                  modalMessage: { title: "Uh oh, we couldn't save your changes", body: dl },
                  saving: !1
                })
              );
          }, 5e3);
        },
        hl = function(e, t, a) {
          return function() {
            var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1e3;
            (cl = new Date().getTime()), ol && window.clearTimeout(ol);
            var i = a(),
              s = i.flowContext,
              r = s.definition,
              o = s.nodes,
              l = s.assetStore,
              c = s.issues,
              u = i.editorState.currentRevision;
            t(ml({ saving: !0 }));
            var d = Kl(r, o, !0);
            (d.revision = u),
              (ol = ll
                ? window.setTimeout(function() {
                    rl();
                  }, 1e3)
                : window.setTimeout(function() {
                    (ll = !0),
                      Ge(e, d).then(
                        function(e) {
                          var a = e.revision;
                          (r.revision = a.revision),
                            t(xe(r)),
                            e.metadata && (t(Ae(e.metadata)), t(Te(Zl(c, e.metadata.issues))));
                          var n = gs(l, a);
                          t(Re(n)),
                            t(
                              ml({ currentRevision: a.revision, saving: !1, activityInterval: 5e3 })
                            ),
                            (ul = new Date().getTime()),
                            (ll = !1);
                        },
                        function(e) {
                          var a = e.response ? e.response.data.description : dl;
                          t(
                            ml({
                              modalMessage: {
                                title: "Uh oh, we couldn't save your changes",
                                body: a
                              },
                              saving: !1
                            })
                          ),
                            (ll = !1);
                        }
                      );
                  }, n));
          };
        },
        ml = function(e) {
          return function(t, a) {
            var n = a().editorState,
              i = la()(n, { $merge: e });
            return (
              t(
                (function(e) {
                  return { type: ye.UPDATE_EDITOR_STATE, payload: { editorState: e } };
                })(i)
              ),
              i
            );
          };
        },
        _l = function() {
          return function(e, t) {
            rl(0);
          };
        },
        fl = function(e, t) {
          return function(a, n) {
            var i = e.definition,
              s = n(),
              r = s.flowContext.issues;
            s.editorState.fetchingFlow || a(ml({ fetchingFlow: !0 })),
              (i.localization = i.localization || {}),
              (i._ui = i._ui || { nodes: {}, languages: [], stickies: {} });
            var o,
              l = 0,
              c = Object(C.a)(i.nodes);
            try {
              for (c.s(); !(o = c.n()).done; ) {
                var u = o.value;
                i._ui.nodes[u.uuid] ||
                  ((i._ui.nodes[u.uuid] = { position: { left: 0, top: l }, type: Yl(u) }),
                  (l += 150));
              }
            } catch (m) {
              c.e(m);
            } finally {
              c.f();
            }
            var d,
              p,
              h = Xl(i);
            Jl(t.fields.items, h.fields),
              Jl(t.groups.items, h.groups),
              Jl(t.labels.items, h.labels),
              Jl(t.results.items, h.results),
              i.language && (d = t.languages.items[i.language]),
              d || ((d = Se), a(ml({ language: Se })), Jl(t.languages.items, { base: Se })),
              e.metadata && e.metadata.issues ? a(Te(Zl(r, e.metadata.issues))) : a(Te({})),
              a(((p = d), { type: ye.UPDATE_BASE_LANGUAGE, payload: { baseLanguage: p } })),
              a(Ae(e.metadata)),
              a(
                xe(
                  (function(e) {
                    return hs(e, { nodes: [], _ui: { $merge: { nodes: {} } } });
                  })(i)
                )
              ),
              a(je(h.renderNodeMap)),
              a(Re(t)),
              a(ml({ language: d, fetchingFlow: !1 }));
          };
        },
        gl = function(e, t) {
          var a = arguments.length > 2 && void 0 !== arguments[2] && arguments[2];
          return (function() {
            var n = Object(Ie.a)(
              Pe.a.mark(function n(i, s) {
                var r, o, l, c;
                return Pe.a.wrap(function(n) {
                  for (;;)
                    switch ((n.prev = n.next)) {
                      case 0:
                        if (
                          (i(ml({ fetchingFlow: !0 })),
                          (r = s()),
                          (o = r.flowContext.assetStore),
                          Object.keys(o).length)
                        ) {
                          n.next = 6;
                          break;
                        }
                        return (n.next = 5), et(e);
                      case 5:
                        o = n.sent;
                      case 6:
                        return (
                          $l(e.activity, i, s, t),
                          (window.triggerActivityUpdate = function() {
                            $l(e.activity, i, s, t);
                          }),
                          (n.next = 10),
                          at(e.completion)
                        );
                      case 10:
                        return (l = n.sent), (n.next = 13), tt(e.functions);
                      case 13:
                        (c = n.sent),
                          nt(o.revisions)
                            .then(function(e) {
                              var t = e.definition
                                ? e
                                : { definition: e, metadata: { issues: [] } };
                              i(fl(t, o)),
                                i(
                                  ml({
                                    currentRevision: t.definition.revision,
                                    completionSchema: l,
                                    functions: c
                                  })
                                ),
                                (rl = hl(o.revisions.endpoint, i, s)),
                                a && rl(0),
                                pl(i);
                            })
                            .catch(function(e) {
                              console.error(e);
                            });
                      case 15:
                      case 'end':
                        return n.stop();
                    }
                }, n);
              })
            );
            return function(e, t) {
              return n.apply(this, arguments);
            };
          })();
        },
        vl = function(e, t) {
          return function(a, n) {
            var i = n().flowContext.assetStore,
              s = la()(i, Object(O.a)({}, e, { items: { $merge: Object(O.a)({}, t.id, t) } }));
            a(Re(s));
          };
        },
        yl = function(e) {
          return function(t, a) {
            var n = a(),
              i = n.flowContext.baseLanguage,
              s = n.editorState,
              r = s.translating,
              o = s.language;
            al()(e, i) ? t(ml({ translating: !1 })) : r || t(ml({ translating: !0 })),
              al()(e, o) || t(ml({ language: e }));
          };
        },
        bl = function(e, t) {
          return function(a, n) {
            var i = (function(e, t, a) {
              var n = e;
              return (
                n.localization[t] || (n = hs(n, { localization: Object(O.a)({}, t, W({})) })),
                a.forEach(function(e) {
                  var a = e.translations,
                    i = e.uuid;
                  if (a) {
                    for (var s = {}, r = 0, o = Object.keys(a); r < o.length; r++) {
                      var l = o[r],
                        c = a[l];
                      Array.isArray(c) ? (s[l] = c) : (s[l] = [c]);
                    }
                    n = hs(n, { localization: Object(O.a)({}, t, Object(O.a)({}, i, W(s))) });
                  } else n = hs(n, { localization: Object(O.a)({}, t, Q([i])) });
                }),
                n
              );
            })(n().flowContext.definition, e, t);
            return a(xe(i)), rl(), i;
          };
        },
        kl = function(e, t, a) {
          return function(n, i) {
            var s = i().flowContext.nodes,
              r = vs(s, e, t, a);
            return n(je(r)), rl(), r;
          };
        },
        El = function(e, t) {
          return function(a, n) {
            return a(kl(e, t, null));
          };
        },
        Cl = function(e, t) {
          return function(a, n) {
            var i = e.split(':'),
              s = Object(w.a)(i, 2),
              r = s[0],
              o = s[1];
            return a(kl(r, o, t));
          };
        },
        wl = function(e) {
          return function(t, a) {
            var n = a().flowContext,
              i = n.nodes,
              s = n.assetStore;
            if (e.router && e.router.result_name) {
              var r = _s(e.router.result_name, s, { nodeUUID: e.uuid });
              t(Re(r));
            }
            var o = ks(i, e.uuid);
            return t(je(o)), rl(), o;
          };
        },
        Ol = function(e, t) {
          return function(a, n) {
            var i = n().flowContext,
              s = i.nodes,
              r = i.assetStore,
              o = s[e];
            if (t.type === ke.set_run_result) {
              var l = _s(t.name, r, { nodeUUID: e, actionUUID: t.uuid });
              a(Re(l));
            }
            if (1 === o.node.actions.length) {
              var c = a(wl(o.node));
              return rl(), c;
            }
            var u = (function(e, t, a) {
              var n = Ml(e, t),
                i = Bl(n.node, a);
              return hs(e, Object(O.a)({}, t, { node: { actions: J([[i, 1]]) } }));
            })(s, e, t.uuid);
            return a(je(u)), rl(), u;
          };
        },
        Sl = function(e, t) {
          return function(a, n) {
            var i = (function(e, t, a) {
              var n = Ml(e, t),
                i = n.node.actions,
                s = Bl(n.node, a);
              if (0 === s) throw new Error('Cannot move an action at the top upwards');
              var r = i[s],
                o = i[s - 1];
              return hs(e, Object(O.a)({}, t, { node: { actions: J([[s - 1, 2, r, o]]) } }));
            })(n().flowContext.nodes, e, t.uuid);
            return a(je(i)), rl(), i;
          };
        },
        Nl = function(e) {
          return function(t) {
            t(
              (function(e) {
                return { type: ye.UPDATE_TYPE_CONFIG, payload: { typeConfig: e } };
              })(e)
            );
          };
        },
        xl = function() {
          return function(e, t) {
            e(ml({ ghostNode: null })), e(da(null));
          };
        },
        jl = function(e, t) {
          return function(a, n) {
            var i = n(),
              s = i.nodeEditor,
              r = s.userAddingAction,
              o = s.settings,
              l = i.flowContext,
              c = l.nodes,
              u = l.contactFields,
              d = l.assetStore;
            if (null == o || null == o.originalNode)
              throw new Error('Need originalNode in settings to update an action');
            var p = o.originalNode,
              h = o.originalAction,
              m = d;
            if (h && h.type === ke.set_run_result) {
              var _ = h.name;
              m = _s(_, m, { nodeUUID: p.node.uuid, actionUUID: e.uuid });
            }
            var f = c,
              g = null;
            if (!(null === p || !p.ghost)) {
              var v = {
                node: { uuid: Z(), actions: [e], exits: [{ uuid: Z(), destination_uuid: null }] },
                ui: { position: p.ui.position, type: ke.execute_actions },
                inboundConnections: p.inboundConnections
              };
              (f = ys(c, v)), (g = v.node.uuid);
            } else
              (g = p.node.uuid),
                (f = r
                  ? (function(e, t, a) {
                      return Ml(e, t), hs(e, Object(O.a)({}, t, { node: { actions: X([a]) } }));
                    })(c, p.node.uuid, e)
                  : p.node.hasOwnProperty('router')
                  ? bs(c, p.node.uuid, e)
                  : (function(e, t, a, n) {
                      var i = Ml(e, t),
                        s = n ? Bl(i.node, n.uuid) : 0;
                      return hs(
                        e,
                        Object(O.a)({}, t, { node: { actions: Object(O.a)({}, s, W(a)) } })
                      );
                    })(c, p.node.uuid, e, h));
            (a(je(f)), a(pa(!1)), e.type === ke.set_run_result) &&
              ((m = (function(e, t, a) {
                if (e) {
                  var n = fs(e, t.results.items, a);
                  return hs(t, { results: { items: { $set: n } } });
                }
              })(e.name, m, { nodeUUID: g, actionUUID: e.uuid })),
              a(Re(m)));
            if (e.type === ke.set_contact_field) {
              var b = e.field;
              a(
                (function(e) {
                  return { type: ye.UPDATE_CONTACT_FIELDS, payload: { contactFields: e } };
                })(Object(y.a)(Object(y.a)({}, u), {}, Object(O.a)({}, b.key, b.name)))
              );
            }
            return rl(0), t && t(a, n), f;
          };
        },
        Tl = function(e) {
          return function(t, a) {
            var n = a().flowContext.nodes,
              i = { uuid: Z(), type: ke.send_msg, text: '' };
            t(da({ originalNode: Ml(n, e.uuid), originalAction: i, showAdvanced: !1 })),
              rl(),
              t(pa(!0)),
              t(Nl(Vo(ke.send_msg))),
              t(ml(nl));
          };
        },
        Al = function(e) {
          return function(t, a) {
            var n = a().flowContext,
              i = n.nodes,
              s = n.definition,
              r = i,
              o = s,
              l = !1,
              c = !1;
            return (
              e.forEach(function(e) {
                e in r
                  ? ((r = ks(r, e, !0)), (l = !0))
                  : e in o._ui.stickies && ((o = ws(o, e, null)), (c = !0));
              }),
              l && t(je(r)),
              c && t(xe(o)),
              (c || l) && rl(),
              i
            );
          };
        },
        Rl = function(e) {
          return function(t, a) {
            var n = a().flowContext,
              i = n.nodes,
              s = n.definition,
              r = i,
              o = !1,
              l = !1;
            for (var c in e)
              r[c]
                ? ((r = Es(r, c, e[c])), (o = !0))
                : s._ui.stickies[c] && ((s = Cs(s, c, e[c])), (l = !0));
            var u = !1;
            return o && ((u = !0), t(je(r))), l && ((u = !0), t(xe(s))), u && rl(), r;
          };
        },
        Ul = function(e, t) {
          return function(a, n) {
            for (
              var i = n().flowContext,
                s = i.nodes,
                r = i.assetStore,
                o = e.sourceId.split(':'),
                l = Object(w.a)(o, 2),
                c = l[0],
                u = l[1],
                d = s[c],
                p = Object.keys(r.results ? r.results.items : {}),
                h = p.length + 1,
                m = 'result_'.concat(h);
              te(p, m);

            )
              h++, (m = 'result_'.concat(h));
            var _ = Wl(d, u, h, t);
            (_.inboundConnections = Object(O.a)({}, u, c)), a(ml({ ghostNode: _ }));
          };
        },
        Dl = function(e, t) {
          return function(a, n) {
            var i = n().flowContext.definition,
              s = ws(i, e, t);
            a(xe(s)), rl();
          };
        },
        Fl = function(e) {
          return function(t, a) {
            var n,
              i,
              s = a(),
              r = s.flowContext,
              o = r.nodes,
              l = r.assetStore,
              c = s.nodeEditor.settings,
              u = c.originalNode,
              d = c.originalAction,
              p = o;
            if (u) {
              var h = u.ui.position;
              (e.ui.position = h), (e.inboundConnections = u.inboundConnections);
            }
            if (u.ghost) {
              e.inboundConnections = u.inboundConnections;
              var m = u.ui.position,
                _ = m.left,
                f = m.top;
              (e.ui.position = { left: _, top: f }), (e.node = ms(e.node));
            }
            if (ps(e.node)) {
              var g = l,
                v = ps(u.node);
              v && (g = _s(v, g, { nodeUUID: u.node.uuid })),
                (g = (function(e, t) {
                  var a = e;
                  a || (a = { results: { items: {}, type: ve.Result } }),
                    a.results || (a.results = { items: {}, type: ve.Result });
                  var n = ps(t);
                  if (n) {
                    var i = fs(n, e.results.items, { nodeUUID: t.uuid });
                    return hs(e, { results: { items: { $set: i } } });
                  }
                  return e;
                })(g, e.node)),
                t(Re(g));
            }
            if (u && d && !u.ghost && !rs(u.node)) {
              var b = u.node.actions.find(function(e) {
                return e.uuid === d.uuid;
              });
              if (b)
                return (
                  (e.ui.position.top = u.ui.position.top),
                  t(
                    ((n = e),
                    (i = { nodeUUID: u.node.uuid, actionUUID: b.uuid }),
                    function(e, t) {
                      var a = t().flowContext.nodes,
                        s = a[i.nodeUUID],
                        r = a;
                      (r = ks(r, s.node.uuid, !1)), (n.node = ms(n.node));
                      var o,
                        l,
                        c = Bl(s.node, i.actionUUID),
                        u = c > 0 ? Object(fe.a)(s.node.actions.slice(0, c)) : [],
                        d = s.node.actions.slice(c + 1, s.node.actions.length),
                        p = s.ui.position,
                        h = p.left,
                        m = p.top;
                      return (
                        u.length > 0
                          ? ((o = {
                              node: {
                                uuid: Z(),
                                actions: u,
                                exits: [{ uuid: Z(), destination_uuid: null }]
                              },
                              ui: { position: { left: h, top: m } },
                              inboundConnections: Object(y.a)({}, s.inboundConnections)
                            }),
                            (r = ys(r, o)),
                            (m += F),
                            (n.inboundConnections = Object(O.a)(
                              {},
                              o.node.exits[0].uuid,
                              o.node.uuid
                            )),
                            (n.ui.position.top += F))
                          : (n.inboundConnections = Object(y.a)({}, s.inboundConnections)),
                        (r = ys(r, n)),
                        d.length > 0
                          ? ((l = {
                              node: {
                                uuid: Z(),
                                actions: d,
                                exits: [
                                  { uuid: Z(), destination_uuid: s.node.exits[0].destination_uuid }
                                ]
                              },
                              ui: { position: { left: h, top: m } },
                              inboundConnections: Object(O.a)({}, n.node.exits[0].uuid, n.node.uuid)
                            }),
                            (r = ys(r, l)))
                          : (r = vs(
                              r,
                              n.node.uuid,
                              n.node.exits[0].uuid,
                              s.node.exits[0].destination_uuid
                            )),
                        e(je(r)),
                        rl(),
                        r
                      );
                    })
                  )
                );
              var k = rs(e.node);
              if (k) {
                var E = k.categories.find(function(e) {
                  return e.uuid === k.default_category_uuid;
                });
                e.node.exits.find(function(e) {
                  return e.uuid === E.exit_uuid;
                }).destination_uuid = u.node.exits[0].destination_uuid;
              }
              (e.inboundConnections = Object(O.a)({}, u.node.exits[0].uuid, u.node.uuid)),
                (e.node = ms(e.node)),
                (e.ui.position.top += F),
                (p = ys(p, e));
            } else p = ys(p, e);
            return t(je(p)), rl(0), p;
          };
        },
        Pl = function(e) {
          return function(t, a) {
            var n = a(),
              i = n.flowContext.definition.localization,
              s = n.editorState,
              r = s.language,
              o = s.translating,
              l = e.originalNode,
              c = e.originalAction,
              u = l.node;
            if (((e.localizations = []), o)) {
              var d,
                p = c;
              if (
                !p &&
                u.actions.length > 0 &&
                (p = u.actions[u.actions.length - 1]).type !== ke.send_msg &&
                p.type !== ke.send_broadcast
              )
                return;
              var h = i[r.id];
              (d = e.localizations).push.apply(d, Object(fe.a)(ql(u, p, r, h)));
            }
            !c && u.actions.length > 0 && (c = u.actions[u.actions.length - 1]);
            var m = Fn(e);
            t(Nl(m)), t(da(e)), t(ml(nl));
          };
        },
        Il = function(e) {
          return function(t, a) {
            var n = a().flowContext.definition;
            (n._ui.translation_filters = e), t(xe(n)), rl();
          };
        },
        Ll = null,
        Ml = function(e, t) {
          var a = e[t];
          if (!a) throw new Error('Cannot find node ' + t);
          return a;
        },
        zl = function(e, t) {
          var a,
            n = Object(C.a)(e.exits.entries());
          try {
            for (n.s(); !(a = n.n()).done; ) {
              var i = Object(w.a)(a.value, 2),
                s = i[0];
              if (i[1].uuid === t) return s;
            }
          } catch (r) {
            n.e(r);
          } finally {
            n.f();
          }
          throw new Error('Cannot find exit ' + t);
        },
        Bl = function(e, t) {
          var a,
            n = Object(C.a)(e.actions.entries());
          try {
            for (n.s(); !(a = n.n()).done; ) {
              var i = Object(w.a)(a.value, 2),
                s = i[0];
              if (i[1].uuid === t) return s;
            }
          } catch (r) {
            n.e(r);
          } finally {
            n.f();
          }
          throw new Error('Cannot find action ' + t);
        },
        Vl = function(e) {
          var t = Ho(e);
          return (
            (function(e) {
              return !(!e.node.router || !e.node.router.wait);
            })(e) ||
            t === ke.split_by_expression ||
            t === ke.split_by_subflow
          );
        },
        Hl = function e(t, a, n) {
          var i = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : [],
            s = t[a],
            r = t[n];
          if (a === n) throw new Error("Flow loop detected, can't point to self");
          if (!Vl(r) && !Vl(s))
            if (0 !== i.length) {
              if (n === i[0]) throw new Error('Flow loop detected, route through a wait first');
              i.push(n);
              var o,
                l = Object(C.a)(r.node.exits);
              try {
                for (l.s(); !(o = l.n()).done; ) {
                  var c = o.value;
                  c.destination_uuid && e(t, n, c.destination_uuid, i);
                }
              } catch (h) {
                l.e(h);
              } finally {
                l.f();
              }
            } else {
              i.push(a);
              var u,
                d = Object(C.a)(r.node.exits);
              try {
                for (d.s(); !(u = d.n()).done; ) {
                  var p = u.value;
                  p.destination_uuid && e(t, r.node.uuid, p.destination_uuid, i);
                }
              } catch (h) {
                d.e(h);
              } finally {
                d.f();
              }
            }
        },
        ql = function(e, t, a, n) {
          var i = [];
          e.router &&
            e.router.type === s.switch &&
            e.router.cases.forEach(function(e) {
              return i.push(j.translate(e, a, n));
            });
          if (t && (i.push(j.translate(t, a, n)), t.type === ke.send_msg)) {
            var r = t;
            r.templating && i.push(j.translate(r.templating, a, n));
          }
          return (
            e.router &&
              e.router.categories.forEach(function(e) {
                e.name && i.push(j.translate(e, a, n));
              }),
            i
          );
        },
        Kl = function(e, t) {
          var a = !(arguments.length > 2 && void 0 !== arguments[2]) || arguments[2],
            n = Gl(t),
            i = [];
          n.forEach(function(e) {
            return i.push(e.node);
          });
          for (var s = {}, r = 0, o = Object.keys(t); r < o.length; r++) {
            var l = o[r];
            s[l] = t[l].ui;
          }
          var c = Object(y.a)(Object(y.a)({}, e), {}, { nodes: i });
          return (
            a &&
              (c._ui = {
                nodes: s,
                stickies: e._ui.stickies,
                languages: e._ui.languages,
                translation_filters: e._ui.translation_filters
              }),
            c
          );
        },
        Gl = function(e) {
          var t = [];
          return (
            Object.keys(e).forEach(function(a) {
              t.push(e[a]);
            }),
            t.sort(function(e, t) {
              var a = e.ui.position.top - t.ui.position.top;
              return 0 === a && (a = e.ui.position.left - t.ui.position.left), a;
            })
          );
        },
        Wl = function(e, t, a, n) {
          var i,
            l,
            c = { uuid: Z(), actions: [], exits: [{ uuid: Z(), destination_uuid: null }] },
            u = ke.execute_actions;
          if (!e || ((l = e) && l.node.router)) {
            var d = n === be.VOICE ? ke.say_msg : ke.send_msg,
              p = { uuid: Z(), text: '', type: d };
            c.actions.push(p);
          } else {
            var h = [{ uuid: Z(), name: Di.All_Responses, exit_uuid: c.exits[0].uuid }],
              m = { type: r.msg };
            (u = ke.wait_for_response),
              n === be.VOICE && (m.hint = { type: o.digits, count: 1 }),
              (c.router = {
                type: s.switch,
                result_name: ((i = a), 'Result '.concat(i)),
                default_category_uuid: h[0].uuid,
                categories: h,
                wait: m,
                cases: []
              });
          }
          var _ = {};
          return (
            e && (_ = Object(O.a)({}, t, e.node.uuid)),
            {
              node: c,
              ui: { position: { left: 0, top: 0 }, type: u },
              inboundConnections: _,
              ghost: !0
            }
          );
        },
        Yl = function(e) {
          if (e.router) {
            if (1 === e.actions.length) {
              if (e.actions[0].type === ke.call_webhook) return ke.split_by_webhook;
              if (e.actions[0].type === ke.transfer_airtime) return ke.split_by_airtime;
              if (e.actions[0].type === ke.call_resthook) return ke.split_by_resthook;
              if (e.actions[0].type === ke.enter_flow) return ke.split_by_subflow;
            }
            if (e.router.wait) return ke.wait_for_response;
            if (e.router.type === s.random) return ke.split_by_random;
            var t = rs(e);
            return t && '@contact.groups' === t.operand
              ? ke.split_by_groups
              : ke.split_by_expression;
          }
          return ke.execute_actions;
        },
        Ql = function(e) {
          var t,
            a = {},
            n = Object(C.a)(e);
          try {
            for (n.s(); !(t = n.n()).done; ) {
              var i = t.value;
              a[i.id] = i;
            }
          } catch (s) {
            n.e(s);
          } finally {
            n.f();
          }
          return a;
        },
        Xl = function(e) {
          var t,
            a,
            n = {},
            i = e.nodes,
            s = e._ui,
            r = {},
            o = {},
            l = {},
            c = {},
            u = {},
            d = Object(C.a)(i);
          try {
            for (d.s(); !(t = d.n()).done; ) {
              var p = t.value;
              p.actions || (p.actions = []);
              var h = { node: p, ui: s.nodes[p.uuid], inboundConnections: {} };
              n[p.uuid] = h;
              var m = ps(p);
              if ((m && (u = fs(m, u, { nodeUUID: p.uuid })), Ho(h) === ke.split_by_groups)) {
                var _,
                  f = rs(p),
                  g = Object(C.a)(f.cases);
                try {
                  var v = function() {
                    var e = _.value,
                      t = e.arguments[0],
                      a = f.categories.find(function(t) {
                        return t.uuid === e.category_uuid;
                      });
                    a && (o[t] = { name: a.name, id: t, type: ve.Group });
                  };
                  for (g.s(); !(_ = g.n()).done; ) v();
                } catch (B) {
                  g.e(B);
                } finally {
                  g.f();
                }
              }
              var y,
                b = Object(C.a)(p.actions);
              try {
                for (b.s(); !(y = b.n()).done; ) {
                  var k = y.value;
                  if (
                    (a = k.type) === ke.add_contact_groups ||
                    a === ke.remove_contact_groups ||
                    a === ke.send_broadcast
                  ) {
                    var E = k.groups;
                    if (E) {
                      var w,
                        O = Object(C.a)(E);
                      try {
                        for (O.s(); !(w = O.n()).done; ) {
                          var S = w.value;
                          o[S.uuid] = { name: S.name, id: S.uuid, type: ve.Group };
                        }
                      } catch (B) {
                        O.e(B);
                      } finally {
                        O.f();
                      }
                    }
                  } else if (k.type === ke.set_contact_field) {
                    var N = k;
                    l[N.field.key] = { name: N.field.name, id: N.field.key, type: ve.Field };
                  } else if (k.type === ke.add_input_labels) {
                    var x,
                      j = Object(C.a)(k.labels);
                    try {
                      for (j.s(); !(x = j.n()).done; ) {
                        var T = x.value;
                        c[T.uuid] = { name: T.name, id: T.uuid, type: ve.Label };
                      }
                    } catch (B) {
                      j.e(B);
                    } finally {
                      j.f();
                    }
                  } else if (k.type === ke.set_run_result) {
                    var A = k,
                      R = M(A.name);
                    R in u
                      ? u[R].references.push({ nodeUUID: p.uuid, actionUUID: k.uuid })
                      : (u[R] = {
                          name: A.name,
                          id: R,
                          type: ve.Result,
                          references: [{ nodeUUID: p.uuid, actionUUID: k.uuid }]
                        });
                  }
                }
              } catch (B) {
                b.e(B);
              } finally {
                b.f();
              }
              var U,
                D = Object(C.a)(p.exits);
              try {
                for (D.s(); !(U = D.n()).done; ) {
                  var F = U.value;
                  if (F.destination_uuid) {
                    var P = r[F.destination_uuid];
                    P || (P = {}), (P[F.uuid] = p.uuid), (r[F.destination_uuid] = P);
                  }
                }
              } catch (B) {
                D.e(B);
              } finally {
                D.f();
              }
            }
          } catch (B) {
            d.e(B);
          } finally {
            d.f();
          }
          for (var I = 0, L = Object.keys(r); I < L.length; I++) {
            var z = L[I];
            n[z].inboundConnections = r[z];
          }
          return { renderNodeMap: n, groups: o, fields: l, labels: c, results: u, warnings: {} };
        },
        Jl = function(e, t) {
          Object.keys(t).forEach(function(a) {
            e[a] = e[a] || t[a];
          });
        },
        Zl = function(e, t) {
          for (
            var a = (t || [])
                .filter(function(e) {
                  return e.type !== i.LEGACY_EXTRA;
                })
                .reduce(function(e, t) {
                  var a = e[t.node_uuid] || [];
                  return a.push(t), (e[t.node_uuid] = a), e;
                }, {}),
              n = 0,
              s = Object.entries(a);
            n < s.length;
            n++
          ) {
            var r = Object(w.a)(s[n], 2),
              o = r[0],
              l = r[1];
            JSON.stringify(e[o]) === JSON.stringify(l) && (a[o] = e[o]);
          }
          return a;
        },
        $l = function e(t, a, n, i) {
          var s = n().editorState,
            r = s.simulating,
            o = s.activityInterval;
          s.visible
            ? (function(e, t) {
                var a = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
                return new Promise(function(n, i) {
                  return Me.a
                    .get(''.concat(e, '?flow=').concat(t), { headers: a })
                    .then(function(e) {
                      return n(e.data);
                    })
                    .catch(function(e) {
                      return i(e);
                    });
                });
              })(t, i).then(function(s) {
                if (s) {
                  var l = { liveActivity: s, activityInterval: Math.min(3e5, o + 200) };
                  r || (l.activity = s),
                    a(ml(l)),
                    Ll && window.clearTimeout(Ll),
                    (Ll = window.setTimeout(function() {
                      e(t, a, n, i);
                    }, o));
                }
              })
            : (Ll && window.clearTimeout(Ll),
              (Ll = window.setTimeout(function() {
                e(t, a, n, i);
              }, 1e3)));
        },
        ec = a(133),
        tc = a.n(ec),
        ac = (function(e) {
          Object(g.a)(a, e);
          var t = Object(v.a)(a);
          function a(e) {
            var n;
            return (
              Object(m.a)(this, a),
              ((n = t.call(this, e)).ele = void 0),
              Object(b.react)(Object(f.a)(n), { include: [/^handle/, 'ref'] }),
              (n.state = {}),
              n
            );
          }
          return (
            Object(_.a)(a, [
              {
                key: 'ref',
                value: function(e) {
                  return (this.ele = e);
                }
              },
              {
                key: 'componentDidMount',
                value: function() {
                  var e = this;
                  if (this.ele && this.props.updateDimensions) {
                    var t =
                        this.ele.clientWidth ||
                        this.props.position.right - this.props.position.left,
                      a =
                        this.ele.clientHeight ||
                        this.props.position.bottom - this.props.position.top;
                    this.setState({ width: t, height: a }, function() {
                      e.props.updateDimensions(e.props.uuid, { width: t, height: a });
                    });
                  }
                }
              },
              {
                key: 'shouldComponentUpdate',
                value: function(e, t, a) {
                  return (
                    e.position.left !== this.props.position.left ||
                    e.position.top !== this.props.position.top ||
                    e.position.right !== this.props.position.right ||
                    e.position.bottom !== this.props.position.bottom ||
                    e.idx !== this.props.idx ||
                    e.selected !== this.props.selected ||
                    e.config !== this.props.config
                  );
                }
              },
              {
                key: 'componentDidUpdate',
                value: function(e, t) {
                  var a = this;
                  ne(function() {
                    if (
                      a.ele &&
                      a.ele.clientWidth &&
                      a.ele.clientHeight &&
                      (a.state.width !== a.ele.clientWidth ||
                        a.state.height !== a.ele.clientHeight) &&
                      a.props.updateDimensions
                    ) {
                      var e = a.ele.clientHeight,
                        t = a.ele.clientWidth;
                      a.setState({ width: t, height: e }, function() {
                        a.props.updateDimensions(a.props.uuid, { width: t, height: e });
                      });
                    }
                  });
                }
              },
              {
                key: 'handleMouseUp',
                value: function(e) {
                  3 !== e.nativeEvent.which && this.props.onDragStop && this.props.onDragStop();
                }
              },
              {
                key: 'handleMouseDown',
                value: function(e) {
                  var t, a;
                  (this.props.selected || 'TEXTAREA' !== e.target.tagName.toUpperCase()) &&
                    (3 !== e.nativeEvent.which &&
                      this.props.onDragStart &&
                      this.props.onDragStart(
                        this.props.uuid,
                        ((t = e.pageX - this.props.position.left),
                        (a = e.pageY - this.props.position.top),
                        { left: t, top: a })
                      ));
                }
              },
              {
                key: 'render',
                value: function() {
                  var e = this,
                    t = [tc.a.draggable];
                  this.props.selected && t.push(tc.a.selected);
                  return k.createElement(
                    'div',
                    {
                      'data-testid': 'draggable_' + this.props.uuid,
                      onTransitionEnd: function() {
                        e.props.onAnimated && e.props.onAnimated(e.props.uuid);
                      },
                      ref: this.ref,
                      className: t.join(' '),
                      style: { left: this.props.position.left, top: this.props.position.top },
                      onMouseDown: this.handleMouseDown,
                      onMouseUp: this.handleMouseUp
                    },
                    this.props.elementCreator(this.props)
                  );
                }
              }
            ]),
            a
          );
        })(k.Component),
        nc = a(16),
        ic = function(e, t, a) {
          return (
            !(!e.bottom || !t.bottom) &&
            ((e.bottom += a),
            !(t.left > e.right || t.right < e.left || t.top > e.bottom || t.bottom < e.top))
          );
        },
        sc = function(e, t, a) {
          for (
            var n = (function(e) {
                var t = [];
                return (
                  Object.keys(e).forEach(function(a) {
                    t.push(Object(y.a)(Object(y.a)({}, e[a]), {}, { uuid: a }));
                  }),
                  t.sort(function(e, t) {
                    var a = e.top - t.top;
                    return 0 === a && (a = e.left - t.left), a;
                  })
                );
              })(e),
              i = function(e) {
                var i = n[e];
                if (e + 1 < n.length)
                  for (
                    var s = function(e) {
                        var s = n[e];
                        if (ic(i, s, a)) {
                          if (e + 1 < n.length) {
                            var r = n[e + 1];
                            if (ic(s, r, a)) return { v: { v: [i, s, r] } };
                          }
                          return t.find(function(e) {
                            return s.uuid === e;
                          }) &&
                            !t.find(function(e) {
                              return i.uuid === e;
                            })
                            ? { v: { v: [s, i] } }
                            : { v: { v: [i, s] } };
                        }
                      },
                      r = e + 1;
                    r < n.length;
                    r++
                  ) {
                    var o = s(r);
                    if ('object' === typeof o) return o.v;
                  }
              },
              s = 0;
            s < n.length;
            s++
          ) {
            var r = i(s);
            if ('object' === typeof r) return r.v;
          }
          return [];
        },
        rc = function(e, t) {
          return L({ top: t, left: e.left, bottom: t + (e.bottom - e.top), right: e.right });
        },
        oc = a(91),
        lc = a.n(oc),
        cc = (function(e) {
          Object(g.a)(a, e);
          var t = Object(v.a)(a);
          function a(e) {
            var n;
            Object(m.a)(this, a),
              ((n = t.call(this, e)).ele = void 0),
              (n.isScrolling = void 0),
              (n.reflowTimeout = void 0),
              (n.lastX = void 0),
              (n.lastY = void 0),
              (n.justSelected = !1),
              (n.onDragThrottled = ae(n.props.onDragging, 300)),
              (n.onMouseThrottled = ae(n.handleMouseMove.bind(Object(f.a)(n)), 10));
            var i = document.documentElement.clientHeight,
              s = {};
            return (
              n.props.draggables.forEach(function(e) {
                (s[e.uuid] = e.position),
                  e.position.bottom && (i = Math.max(i, e.position.bottom + 300));
              }),
              (n.state = {
                height: i,
                dragDownPosition: null,
                dragUUID: null,
                dragGroup: !1,
                dragSelection: null,
                uuid: n.props.uuid,
                selected: {},
                positions: s
              }),
              Object(b.react)(Object(f.a)(n), {
                include: [/^handle/, /^render/, /^mark/, /^do/, /^ensure/]
              }),
              n
            );
          }
          return (
            Object(_.a)(a, [
              {
                key: 'handleWindowResize',
                value: function() {
                  var e = document.documentElement.clientHeight;
                  this.setState({ height: Math.max(e, this.state.height) });
                }
              },
              {
                key: 'componentDidMount',
                value: function() {
                  window.addEventListener('resize', this.handleWindowResize),
                    document.addEventListener('keydown', this.handleKeyDown),
                    this.props.onLoaded();
                }
              },
              {
                key: 'handleKeyDown',
                value: function(e) {
                  this.state.selected &&
                    'Backspace' === e.key &&
                    (Object.keys(this.state.selected).length > 0 &&
                      this.props.onRemoveNodes(Object.keys(this.state.selected)));
                }
              },
              {
                key: 'componentWillUnmount',
                value: function() {
                  window.removeEventListener('resize', this.handleWindowResize),
                    document.removeEventListener('keydown', this.handleKeyDown);
                }
              },
              {
                key: 'componentDidUpdate',
                value: function(e, t) {
                  var a = this,
                    n = !1,
                    i = Object(y.a)({}, this.state.positions);
                  this.props.draggables.forEach(function(e) {
                    a.state.positions[e.uuid] ||
                      ((i = la()(i, { $merge: Object(O.a)({}, e.uuid, e.position) })), (n = !0));
                  }),
                    Object.keys(i).forEach(function(e) {
                      a.props.draggables.find(function(t) {
                        return t.uuid === e;
                      }) || ((i = la()(i, { $unset: [[e]] })), (n = !0));
                    }),
                    n && this.setState({ positions: i });
                }
              },
              {
                key: 'renderSelectionBox',
                value: function() {
                  var e = this.state.dragSelection;
                  if (e && e.startX && e.startY && e.currentX && e.currentY) {
                    var t = Math.min(e.startX, e.currentX),
                      a = Math.min(e.startY, e.currentY),
                      n = Math.max(e.startX, e.currentX) - t,
                      i = Math.max(e.startY, e.currentY) - a;
                    if (this.state.dragSelection && this.state.dragSelection.startX)
                      return E.a.createElement('div', {
                        className: lc.a.drag_selection,
                        style: { left: t, top: a, width: n, height: i }
                      });
                  }
                  return null;
                }
              },
              {
                key: 'isClickOnCanvas',
                value: function(e) {
                  return 3 !== e.nativeEvent.which && 'canvas' === e.target.id;
                }
              },
              {
                key: 'handleMouseDown',
                value: function(e) {
                  if (3 !== e.nativeEvent.which && this.props.mutable) {
                    var t = this.ele.getBoundingClientRect();
                    if (((this.justSelected = !1), this.isClickOnCanvas(e))) {
                      var a = e.pageX - t.left,
                        n = e.pageY - t.top - window.scrollY;
                      this.setState({
                        dragSelection: { startX: a, startY: n, currentX: a, currentY: n }
                      });
                    }
                  }
                }
              },
              {
                key: 'handleMouseMove',
                value: function(e) {
                  if (this.props.mutable) {
                    if (this.props.draggingNew)
                      return (
                        (this.lastX = e.pageX),
                        (this.lastY = e.pageY),
                        this.updateStateWithScroll(e.clientY, e.pageY),
                        void (
                          this.state.dragUUID &&
                          this.updatePositions(e.pageX, e.pageY, e.clientY, !1)
                        )
                      );
                    if (this.state.dragSelection && this.state.dragSelection.startX) {
                      var t = this.state.dragSelection;
                      if (t && t.startX && t.startY && t.currentX && t.currentY) {
                        var a = Math.min(t.startX, t.currentX),
                          n = Math.min(t.startY, t.currentY),
                          i = Math.max(t.startX, t.currentX),
                          s = Math.max(t.startY, t.currentY),
                          r = (function(e, t) {
                            for (var a = {}, n = 0, i = Object.keys(e); n < i.length; n++) {
                              var s = i[n],
                                r = e[s];
                              ic(t, r, 0) && (a[s] = r);
                            }
                            return a;
                          })(this.state.positions, { left: a, top: n, right: i, bottom: s }),
                          o = this.ele.getBoundingClientRect();
                        this.setState({
                          dragSelection: {
                            startX: t.startX,
                            startY: t.startY,
                            currentX: e.pageX - o.left,
                            currentY: e.pageY - o.top - window.scrollY
                          }
                        }),
                          this.setState({ selected: r }),
                          Object.keys(r).length > 0 && (this.justSelected = !0);
                      }
                    }
                    this.state.dragUUID && this.updatePositions(e.pageX, e.pageY, e.clientY, !1);
                  }
                }
              },
              {
                key: 'scrollCanvas',
                value: function(e) {
                  var t = this;
                  if (!this.isScrolling) {
                    this.isScrolling = !0;
                    var a = e;
                    window.scrollY + e < 0 && (a = 0),
                      (this.isScrolling = window.setInterval(function() {
                        t.lastX &&
                          t.lastY &&
                          (t.updatePositions(t.lastX, t.lastY + a, 0, !1), window.scrollBy(0, a));
                      }, 30));
                  }
                }
              },
              {
                key: 'handleMouseUpCapture',
                value: function(e) {
                  this.props.mutable &&
                    3 !== e.nativeEvent.which &&
                    ((this.lastX = null),
                    (this.lastY = null),
                    this.state.dragUUID &&
                      this.setState({
                        dragDownPosition: null,
                        dragSelection: null,
                        dragUUID: null
                      }),
                    this.justSelected ||
                      (this.props.mergeEditorState({ dragActive: !1 }),
                      this.setState({ selected: {} })),
                    this.state.dragSelection &&
                      this.state.dragSelection.startX &&
                      this.setState({
                        dragSelection: {
                          startX: void 0,
                          startY: void 0,
                          currentX: void 0,
                          currentY: void 0
                        }
                      }),
                    (this.justSelected = !1));
                }
              },
              {
                key: 'handleUpdateDimensions',
                value: function(e, t) {
                  if (t.width && t.height) {
                    var a = this.state.positions[e];
                    a ||
                      (a = this.props.draggables.find(function(t) {
                        return t.uuid === e;
                      }).position);
                    var n = {
                      left: a.left,
                      top: a.top,
                      right: a.left + t.width,
                      bottom: a.top + t.height
                    };
                    (n.bottom === a.bottom && n.right === a.right) ||
                      this.setState(function(t) {
                        return {
                          positions: la()(t.positions, { $merge: Object(O.a)({}, e, n) }),
                          height: Math.max(n.bottom + 300, t.height)
                        };
                      }, this.markReflow);
                  }
                }
              },
              {
                key: 'ensureCanvasHeight',
                value: function() {
                  var e = this,
                    t = this.state.height;
                  Object.keys(this.state.positions).forEach(function(a) {
                    var n = e.state.positions[a].bottom + 300;
                    n > t && (t = n);
                  }),
                    t > this.state.height && this.setState({ height: t });
                }
              },
              {
                key: 'doReflow',
                value: function() {
                  var e = Object(y.a)({}, this.state.positions);
                  delete e[this.state.dragUUID];
                  var t = (function(e, t) {
                      for (var a = e, n = [], i = 0, s = sc(e, n, t); s.length > 0 && i < 100; ) {
                        if ((i++, s.length)) {
                          var r = s,
                            o = Object(w.a)(r, 3),
                            l = o[0],
                            c = o[1],
                            u = o[2];
                          if (
                            ((a = nc(a, Object(O.a)({}, c.uuid, W(rc(c, l.bottom + F))))),
                            n.push(c.uuid),
                            u)
                          ) {
                            var d = l.bottom + F;
                            (d += c.bottom - c.top),
                              (a = nc(a, Object(O.a)({}, u.uuid, W(rc(u, d))))),
                              n.push(u.uuid);
                          }
                        }
                        s = sc(a, n, t);
                      }
                      return { positions: a, changed: n };
                    })(e, 5),
                    a = t.positions,
                    n = t.changed;
                  n &&
                    (this.setState({ positions: a }),
                    n &&
                      this.props.onUpdatePositions(
                        n.reduce(function(e, t) {
                          return (e[t] = a[t]), e;
                        }, {})
                      )),
                    this.props.onDragging(n);
                }
              },
              {
                key: 'markReflow',
                value: function() {
                  var e = this;
                  this.reflowTimeout && clearTimeout(this.reflowTimeout),
                    (this.reflowTimeout = setTimeout(function() {
                      e.state.dragUUID || e.doReflow();
                    }, 200));
                }
              },
              {
                key: 'updateStateWithScroll',
                value: function(e, t) {
                  var a = this,
                    n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {},
                    i = document.documentElement.clientHeight;
                  this.setState(
                    function(e) {
                      return Object(y.a)(
                        Object(y.a)({}, n),
                        {},
                        { height: Math.max(t + 300, e.height) }
                      );
                    },
                    function() {
                      a.isScrolling || 0 === e
                        ? 0 !== e &&
                          e > 100 &&
                          e + 100 < i &&
                          (window.clearInterval(a.isScrolling), (a.isScrolling = null))
                        : e + 100 > i
                        ? a.scrollCanvas(15)
                        : e < 100 && a.scrollCanvas(-15);
                    }
                  );
                }
              },
              {
                key: 'updatePositions',
                value: function(e, t, a, n) {
                  if (this.state.dragUUID) {
                    var i = this.state.dragUUID;
                    (this.lastX = e), (this.lastY = t);
                    var s = this.props.dragActive
                        ? this.state.selected[i]
                        : this.state.positions[i],
                      r = this.ele.getBoundingClientRect();
                    if (this.state.dragDownPosition) {
                      var o = e - r.left - this.state.dragDownPosition.left - s.left,
                        l = t - r.top - this.state.dragDownPosition.top - s.top - window.scrollY,
                        c = 0;
                      if (this.props.dragActive) {
                        var u = { left: o, top: l },
                          d = this.state,
                          p = Object.keys(d.selected),
                          h = {};
                        p.forEach(function(e) {
                          var t = (function(e, t) {
                            var a = e.right - e.left,
                              n = e.bottom - e.top,
                              i = e.top + t.top,
                              s = e.left + t.left;
                            return a && n
                              ? { left: s, top: i, right: s + a, bottom: i + n }
                              : { top: i, left: s };
                          })(d.selected[e], u);
                          n && (t = L(t)), t && t.bottom > c && (c = t.bottom), (h[e] = t);
                        }),
                          (h = la()(d.positions, { $merge: h })),
                          this.updateStateWithScroll(a, c, { positions: h }),
                          p.length <= 5 ? this.props.onDragging(p) : this.onDragThrottled(p);
                      } else if (Math.abs(o) + Math.abs(l) > Gu) {
                        var m = this.state.selected;
                        this.state.dragUUID in m ||
                          (m = Object(O.a)({}, i, this.state.positions[i])),
                          this.props.mergeEditorState({ dragActive: !0 }),
                          this.setState({ selected: m });
                      }
                    }
                  }
                }
              },
              {
                key: 'handleDragStart',
                value: function(e, t) {
                  var a = this.ele.getBoundingClientRect();
                  this.setState({
                    dragUUID: e,
                    dragDownPosition: { left: t.left - a.left, top: t.top - a.top - window.scrollY }
                  });
                }
              },
              {
                key: 'getSelectedPositions',
                value: function() {
                  var e = this;
                  return Object.keys(this.state.selected).reduce(function(t, a) {
                    return (t[a] = e.state.positions[a]), t;
                  }, {});
                }
              },
              {
                key: 'handleDragStop',
                value: function() {
                  this.state.dragUUID && this.updatePositions(this.lastX, this.lastY, 0, !0),
                    this.props.onUpdatePositions(this.getSelectedPositions()),
                    this.setState({ dragUUID: null, dragDownPosition: null, dragSelection: null }),
                    this.markReflow(),
                    this.props.mergeEditorState({ dragActive: !1 });
                }
              },
              {
                key: 'handleAnimated',
                value: function(e) {
                  this.props.onDragging([e]);
                }
              },
              {
                key: 'handleDoubleClick',
                value: function(e) {
                  if (this.isClickOnCanvas(e)) {
                    var t = this.ele.getBoundingClientRect();
                    this.props.onDoubleClick(I(e.pageX - t.left, e.pageY - t.top - window.scrollY));
                  }
                }
              },
              {
                key: 'render',
                value: function() {
                  var e = this;
                  return E.a.createElement(
                    'div',
                    {
                      id: 'canvas-container',
                      className: lc.a.canvas_container,
                      onMouseDown: this.handleMouseDown,
                      onMouseMove: this.onMouseThrottled,
                      onMouseUp: this.handleMouseUpCapture,
                      onDoubleClick: this.handleDoubleClick
                    },
                    E.a.createElement(
                      'div',
                      { className: lc.a.canvas_background },
                      E.a.createElement(
                        'div',
                        {
                          'data-testid': 'canvas',
                          style: { height: this.state.height },
                          id: 'canvas',
                          ref: function(t) {
                            e.ele = t;
                          },
                          className: lc.a.canvas
                        },
                        this.props.newDragElement,
                        this.props.draggables.map(function(t, a) {
                          var n = e.state.positions[t.uuid] || t.position;
                          return E.a.createElement(ac, {
                            onAnimated: e.handleAnimated,
                            key: 'draggable_' + t.uuid,
                            uuid: t.uuid,
                            updateDimensions: e.handleUpdateDimensions,
                            position: n,
                            idx: t.idx,
                            selected: !!e.state.selected[t.uuid],
                            elementCreator: t.elementCreator,
                            onDragStart: e.handleDragStart,
                            onDragStop: e.handleDragStop,
                            dragOnAdd: t.dragOnAdd,
                            config: t.config
                          });
                        }),
                        this.renderSelectionBox()
                      )
                    )
                  );
                }
              }
            ]),
            a
          );
        })(E.a.PureComponent),
        uc = a(107),
        dc = a.n(uc),
        pc = (function(e) {
          Object(g.a)(a, e);
          var t = Object(v.a)(a);
          function a(e) {
            var n;
            return (
              Object(m.a)(this, a),
              ((n = t.call(this, e)).ele = void 0),
              Object(b.react)(Object(f.a)(n), { include: [/^handle/, /^get/] }),
              n
            );
          }
          return (
            Object(_.a)(a, [
              {
                key: 'componentDidMount',
                value: function() {
                  this.handleScrollIntoView();
                }
              },
              {
                key: 'componentDidUpdate',
                value: function(e) {
                  e.count !== this.props.count && this.handleScrollIntoView();
                }
              },
              {
                key: 'handleScrollIntoView',
                value: function() {
                  var e = this;
                  this.ele &&
                    this.props.count > 0 &&
                    this.props.keepVisible &&
                    window.setTimeout(function() {
                      window.scrollTo({
                        top: e.ele.getBoundingClientRect().top - 200 + window.scrollY,
                        behavior: 'smooth'
                      });
                    }, 200);
                }
              },
              {
                key: 'handleMouseEvent',
                value: function(e, t) {
                  e.preventDefault(), e.stopPropagation(), t && t();
                }
              },
              {
                key: 'handleMouseEnter',
                value: function(e) {
                  this.handleMouseEvent(e, this.props.onMouseEnter);
                }
              },
              {
                key: 'handleMouseLeave',
                value: function(e) {
                  this.handleMouseEvent(e, this.props.onMouseLeave);
                }
              },
              {
                key: 'handleClick',
                value: function(e) {
                  this.handleMouseEvent(e, this.props.onClick);
                }
              },
              {
                key: 'render',
                value: function() {
                  var e = this,
                    t = this.props.count.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ',');
                  return k.createElement(
                    'div',
                    {
                      ref: function(t) {
                        e.ele = t;
                      },
                      className:
                        dc.a.counter +
                        ' ' +
                        this.props.containerStyle +
                        ' ' +
                        (this.props.onClick ? dc.a.clickable : '') +
                        ' ' +
                        (this.props.count > 0 ? dc.a.visible : ''),
                      onClick: this.handleClick,
                      'data-spec': 'counter-outter'
                    },
                    k.createElement(
                      'div',
                      {
                        onMouseEnter: this.handleMouseEnter,
                        onMouseLeave: this.handleMouseLeave,
                        className: this.props.countStyle,
                        'data-spec': 'counter-inner'
                      },
                      t
                    )
                  );
                }
              }
            ]),
            a
          );
        })(k.Component),
        hc = a(52),
        mc = a.n(hc),
        _c = (function(e) {
          Object(g.a)(a, e);
          var t = Object(v.a)(a);
          function a(e) {
            var n;
            return (
              Object(m.a)(this, a),
              ((n = t.call(this, e)).confirmationTimeout = void 0),
              (n.state = { confirmingRemoval: !1 }),
              (n.handleConfirmRemoval = n.handleConfirmRemoval.bind(Object(f.a)(n))),
              n
            );
          }
          return (
            Object(_.a)(a, [
              {
                key: 'componentWillUnmount',
                value: function() {
                  this.confirmationTimeout && window.clearTimeout(this.confirmationTimeout);
                }
              },
              {
                key: 'handleMouseUpCapture',
                value: function(e) {
                  e && (e.preventDefault(), e.stopPropagation());
                }
              },
              {
                key: 'handleConfirmRemoval',
                value: function(e) {
                  var t = this;
                  e && (e.preventDefault(), e.stopPropagation()),
                    this.setState({ confirmingRemoval: !0 }),
                    (this.confirmationTimeout = window.setTimeout(function() {
                      return t.setState({ confirmingRemoval: !1 });
                    }, 2e3));
                }
              },
              {
                key: 'getMoveArrow',
                value: function() {
                  return this.props.showMove && this.context.config.mutable
                    ? k.createElement(
                        'div',
                        Object.assign(
                          { className: mc.a.up_button },
                          V(
                            this.props.onMoveUp,
                            this.props.shouldCancelClick,
                            this.handleMouseUpCapture
                          ),
                          { 'data-testid': 'move-icon' }
                        ),
                        k.createElement('span', { className: 'fe-arrow-up' })
                      )
                    : k.createElement('div', { className: mc.a.up_button, 'data-spec': 'move' });
                }
              },
              {
                key: 'getRemove',
                value: function() {
                  var e = k.createElement('div', {
                    className: mc.a.remove_button,
                    'data-testid': 'remove-icon'
                  });
                  return (
                    this.props.showRemoval &&
                      this.context.config.mutable &&
                      (e = k.createElement(
                        'div',
                        Object.assign(
                          { className: mc.a.remove_button },
                          V(
                            this.handleConfirmRemoval,
                            this.props.shouldCancelClick,
                            this.handleMouseUpCapture
                          ),
                          { 'data-testid': 'remove-icon' }
                        ),
                        k.createElement('span', { className: 'fe-x' })
                      )),
                    e
                  );
                }
              },
              {
                key: 'getConfirmationEl',
                value: function() {
                  var e;
                  return (
                    this.state.confirmingRemoval &&
                      this.context.config.mutable &&
                      (e = k.createElement(
                        'div',
                        { className: mc.a.remove_confirm, 'data-spec': 'confirmation' },
                        k.createElement('div', { className: mc.a.up_button, 'data-spec': 'move' }),
                        k.createElement(
                          'div',
                          { className: mc.a.titletext },
                          qt.t('removal_confirmation', 'Remove?')
                        ),
                        k.createElement(
                          'div',
                          Object.assign(
                            { className: mc.a.remove_button },
                            V(
                              this.props.onRemoval,
                              this.props.shouldCancelClick,
                              this.handleMouseUpCapture
                            ),
                            { 'data-testid': 'confirm-removal' }
                          ),
                          k.createElement('span', { className: 'fe-x' })
                        )
                      )),
                    e
                  );
                }
              },
              {
                key: 'render',
                value: function() {
                  var e = this.getConfirmationEl(),
                    t = this.getMoveArrow(),
                    a = this.getRemove();
                  return k.createElement(
                    'div',
                    { className: mc.a.titlebar, 'data-spec': 'titlebar-container' },
                    k.createElement(
                      'div',
                      {
                        className: ''.concat(this.props.__className, ' ').concat(mc.a.normal),
                        'data-spec': 'titlebar'
                      },
                      t,
                      k.createElement('div', { className: mc.a.titletext }, this.props.title),
                      a
                    ),
                    e
                  );
                }
              }
            ]),
            a
          );
        })(k.Component);
      _c.contextTypes = { config: yt };
      var fc = a(108),
        gc = a.n(fc),
        vc = Ot.a.bind(gc.a),
        yc = (function(e) {
          Object(g.a)(a, e);
          var t = Object(v.a)(a);
          function a(e) {
            var n;
            return (
              Object(m.a)(this, a),
              ((n = t.call(this, e)).ele = void 0),
              (n.handleScroll = void 0),
              (n.state = { pulse: !1 }),
              n
            );
          }
          return (
            Object(_.a)(a, [
              {
                key: 'componentDidMount',
                value: function() {
                  var e = this,
                    t = this.handleScrollCompleted.bind(this),
                    a = null;
                  (this.handleScroll = function() {
                    null !== a && window.clearTimeout(a),
                      (a = window.setTimeout(function() {
                        t(), window.removeEventListener('scroll', e.handleScroll);
                      }, 50));
                  }),
                    window.addEventListener('scroll', this.handleScroll),
                    this.handleScrollIntoView();
                }
              },
              {
                key: 'componentWillUnmount',
                value: function() {
                  window.removeEventListener('scroll', this.handleScroll);
                }
              },
              {
                key: 'handleScrollCompleted',
                value: function() {
                  this.setState({ pulse: !0 });
                }
              },
              {
                key: 'handleScrollIntoView',
                value: function() {
                  if (this.ele) {
                    var e = this.ele.getBoundingClientRect().top - 200 + window.scrollY;
                    if (e !== window.scrollY)
                      window.innerHeight + window.scrollY >= document.body.scrollHeight - 2 &&
                      e > window.scrollY
                        ? this.handleScrollCompleted()
                        : window.setTimeout(function() {
                            window.scrollTo({ top: e, behavior: 'smooth' });
                          }, 0);
                    else this.handleScrollCompleted();
                  }
                }
              },
              {
                key: 'render',
                value: function() {
                  var e,
                    t = this,
                    a = vc(
                      ((e = {}),
                      Object(O.a)(e, gc.a.wrapper, !0),
                      Object(O.a)(e, gc.a.pulse, this.state.pulse),
                      e)
                    );
                  return k.createElement(
                    'div',
                    {
                      className: a,
                      ref: function(e) {
                        t.ele = e;
                      }
                    },
                    this.props.children
                  );
                }
              }
            ]),
            a
          );
        })(k.Component),
        bc = Ot.a.bind(Object(y.a)(Object(y.a)({}, ue.a), Dn.a)),
        kc = (function(e) {
          Object(g.a)(a, e);
          var t = Object(v.a)(a);
          function a(e) {
            var n;
            return (
              Object(m.a)(this, a),
              (n = t.call(this, e)),
              Object(b.react)(Object(f.a)(n), { include: [/^on/, /^handle/] }),
              n
            );
          }
          return (
            Object(_.a)(a, [
              {
                key: 'handleActionClicked',
                value: function(e) {
                  var t = e.target,
                    a = t && t.attributes && 'true' === t.getAttribute('data-advanced');
                  this.props.onOpenNodeEditor({
                    originalNode: this.props.renderNode,
                    originalAction: this.props.action,
                    showAdvanced: a
                  });
                }
              },
              {
                key: 'handleRemoval',
                value: function(e) {
                  e && (e.preventDefault(), e.stopPropagation()),
                    this.props.removeAction(this.props.renderNode.node.uuid, this.props.action);
                }
              },
              {
                key: 'handleMoveUp',
                value: function(e) {
                  e && (e.preventDefault(), e.stopPropagation()),
                    this.props.moveActionUp(this.props.renderNode.node.uuid, this.props.action);
                }
              },
              {
                key: 'getAction',
                value: function() {
                  return this.props.translating
                    ? H(this.props.action, this.props.localization, this.props.language).getObject()
                    : this.props.action;
                }
              },
              {
                key: 'getClasses',
                value: function() {
                  var e,
                    t = [],
                    a = !1;
                  if (
                    this.props.translating &&
                    ((this.props.action.type !== ke.send_msg &&
                      this.props.action.type !== ke.send_broadcast &&
                      this.props.action.type !== ke.say_msg) ||
                      t.push('text'),
                    this.props.action.type === ke.send_email && t.push('subject'),
                    0 !== t.length)
                  ) {
                    var n = H(this.props.action, this.props.localization, this.props.language);
                    if (n.isLocalized()) {
                      var i,
                        s = Object(C.a)(t);
                      try {
                        for (s.s(); !(i = s.n()).done; ) {
                          if (!(i.value in n.localizedKeys)) {
                            a = !0;
                            break;
                          }
                        }
                      } catch (o) {
                        s.e(o);
                      } finally {
                        s.f();
                      }
                    } else a = !0;
                  }
                  var r = this.props.translating && 0 === t.length;
                  return bc(
                    ((e = {}),
                    Object(O.a)(e, Dn.a.action, !0),
                    Object(O.a)(
                      e,
                      Dn.a.has_router,
                      this.props.renderNode.node.hasOwnProperty('router') &&
                        null !== this.props.renderNode.node.router
                    ),
                    Object(O.a)(e, Dn.a.translating, this.props.translating),
                    Object(O.a)(e, Dn.a.not_localizable, r),
                    Object(O.a)(e, Dn.a.missing_localization, a),
                    Object(O.a)(e, Dn.a.localized, !r && !a),
                    e)
                  );
                }
              },
              {
                key: 'render',
                value: function() {
                  var e = this,
                    t = Vo(this.props.action.type).name,
                    a = this.getClasses(),
                    n = this.getAction(),
                    i = ue.a[this.props.action.type] || ue.a.missing,
                    s = Dn.a[this.props.action.type] || Dn.a.missing,
                    r = !this.props.translating,
                    o = !this.props.first && !this.props.translating;
                  Pn(this.props.issues, this.props.translating, this.props.language) &&
                    (i = ue.a.missing);
                  var l = this.context.config.mutable
                      ? V(this.handleActionClicked, function() {
                          return e.props.selected;
                        })
                      : {},
                    c = k.createElement(
                      k.Fragment,
                      null,
                      k.createElement(_c, {
                        __className: i,
                        title: t,
                        onRemoval: this.handleRemoval,
                        showRemoval: r,
                        showMove: o,
                        onMoveUp: this.handleMoveUp,
                        shouldCancelClick: function() {
                          return e.props.selected;
                        }
                      }),
                      k.createElement(
                        'div',
                        { className: Dn.a.body + ' ' + s, 'data-spec': 'action-body' },
                        this.props.render(n, this.context.config.endpoints)
                      )
                    );
                  return k.createElement(
                    'div',
                    {
                      id: 'action-'.concat(this.props.action.uuid),
                      className: a,
                      'data-spec': 'action-container'
                    },
                    k.createElement('div', {
                      className: Dn.a.overlay,
                      'data-spec': 'action-overlay'
                    }),
                    k.createElement(
                      'div',
                      Object.assign({}, l, { 'data-spec': 'interactive-div' }),
                      this.props.scrollToAction &&
                        this.props.scrollToAction === this.props.action.uuid
                        ? k.createElement(yc, { pulseAfterScroll: !0 }, c)
                        : c
                    )
                  );
                }
              }
            ]),
            a
          );
        })(k.Component);
      kc.contextTypes = { config: yt };
      var Ec = Object(en.b)(
          function(e) {
            var t = e.flowContext,
              a = t.assetStore,
              n = t.definition.localization,
              i = e.editorState,
              s = i.language,
              r = i.translating;
            return {
              scrollToAction: i.scrollToAction,
              assetStore: a,
              language: s,
              translating: r,
              localization: n
            };
          },
          function(e) {
            return Object(ge.bindActionCreators)(
              { onOpenNodeEditor: Pl, removeAction: Ol, moveActionUp: Sl },
              e
            );
          },
          null,
          { forwardRef: !0 }
        )(kc),
        Cc = a(67),
        wc = a.n(Cc),
        Oc = (function(e) {
          Object(g.a)(a, e);
          var t = Object(v.a)(a);
          function a(e) {
            var n;
            return Object(m.a)(this, a), ((n = t.call(this, e)).state = { visible: !1 }), n;
          }
          return (
            Object(_.a)(a, [
              {
                key: 'componentDidMount',
                value: function() {
                  var e = this;
                  window.setTimeout(function() {
                    e.state.visible || e.setState({ visible: !0 });
                  }, 100);
                }
              },
              {
                key: 'render',
                value: function() {
                  return k.createElement(
                    'div',
                    {
                      className: wc.a.drag_helper + ' ' + (this.state.visible ? wc.a.visible : '')
                    },
                    k.createElement(
                      'div',
                      { className: wc.a.arrow },
                      k.createElement('div', { className: wc.a.tail }),
                      k.createElement('div', { className: wc.a.head })
                    ),
                    k.createElement(
                      'div',
                      { className: wc.a.help_text },
                      k.createElement(
                        De.a,
                        { i18nKey: 'drag_helper' },
                        'To connect nodes, ',
                        k.createElement('span', { className: wc.a.bold }, 'drag'),
                        ' from the red circle.'
                      )
                    )
                  );
                }
              }
            ]),
            a
          );
        })(k.Component),
        Sc = function(e) {
          return e.uuid + ':' + e.destination_uuid;
        },
        Nc = a(183),
        xc = a.n(Nc),
        jc = function(e) {
          var t = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);
          return t ? { r: parseInt(t[1], 16), g: parseInt(t[2], 16), b: parseInt(t[3], 16) } : null;
        },
        Tc = (function(e) {
          Object(g.a)(a, e);
          var t = Object(v.a)(a);
          function a(e) {
            var n;
            return Object(m.a)(this, a), ((n = t.call(this, e)).state = { color: jc(e.color) }), n;
          }
          return (
            Object(_.a)(a, [
              {
                key: 'render',
                value: function() {
                  var e = this;
                  return k.createElement(
                    'div',
                    {
                      className: xc.a.loading,
                      style: {
                        width: this.props.size * this.props.units * 2,
                        height: this.props.size
                      }
                    },
                    $(0, this.props.units).map(function(t) {
                      return k.createElement('div', {
                        key: 'ball_'.concat(t),
                        style: {
                          borderRadius: e.props.square ? '0' : '50%',
                          width: e.props.size,
                          height: e.props.size,
                          margin: e.props.size / 3,
                          animationDelay: '-'.concat(1 - t * (1 / e.props.units), 's'),
                          background: 'rgba('
                            .concat(e.state.color.r, ',')
                            .concat(e.state.color.g, ',')
                            .concat(e.state.color.b, ', ')
                            .concat(1 - t * (1 / e.props.units), ')')
                        }
                      });
                    })
                  );
                }
              }
            ]),
            a
          );
        })(k.Component),
        Ac = a(184),
        Rc = a(35),
        Uc = a.n(Rc),
        Dc = a(39),
        Fc = a.n(Dc),
        Pc = (function(e) {
          Object(g.a)(a, e);
          var t = Object(v.a)(a);
          function a(e) {
            var n;
            return (
              Object(m.a)(this, a),
              ((n = t.call(this, e)).el = null),
              (n.portalRoot = null),
              (n.el = document.createElement('div')),
              n
            );
          }
          return (
            Object(_.a)(a, [
              {
                key: 'componentDidMount',
                value: function() {
                  var e = this;
                  window.setTimeout(function() {
                    (e.portalRoot = document.getElementById(e.props.id || 'portal-root')),
                      e.portalRoot && e.portalRoot.appendChild(e.el);
                  }, 100);
                }
              },
              {
                key: 'componentWillUnmount',
                value: function() {
                  this.portalRoot && this.el.remove();
                }
              },
              {
                key: 'componentDidUpdate',
                value: function(e) {
                  var t = this;
                  this.props.id &&
                    e.id !== this.props.id &&
                    window.setTimeout(function() {
                      (t.portalRoot = document.getElementById(t.props.id || 'portal-root')),
                        t.portalRoot.appendChild(t.el);
                    }, 100);
                }
              },
              {
                key: 'render',
                value: function() {
                  return Fc.a.createPortal(this.props.children, this.el);
                }
              }
            ]),
            a
          );
        })(k.Component),
        Ic = Ot.a.bind(Uc.a),
        Lc = (function(e) {
          Object(g.a)(a, e);
          var t = Object(v.a)(a);
          function a(e) {
            var n;
            return (
              Object(m.a)(this, a),
              ((n = t.call(this, e)).timeout = void 0),
              (n.hideDragHelper = void 0),
              (n.pendingMessageFetch = {}),
              (n.ele = void 0),
              (n.state = {
                confirmDelete: !1,
                recentMessages: null,
                fetchingRecentMessages: !1,
                showDragHelper: e.showDragHelper,
                activityId: null,
                recentMessagesId: null
              }),
              Object(b.react)(Object(f.a)(n), { include: [/^on/, /^get/, /^handle/, /^connect/] }),
              n
            );
          }
          return (
            Object(_.a)(a, [
              {
                key: 'getSourceId',
                value: function() {
                  return ''.concat(this.props.node.uuid, ':').concat(this.props.exit.uuid);
                }
              },
              {
                key: 'handleDisconnect',
                value: function() {
                  this.setState({ showDragHelper: !1 });
                }
              },
              {
                key: 'componentDidMount',
                value: function() {
                  this.props.plumberMakeSource(this.getSourceId()),
                    this.ele && this.ele.addEventListener('disconnect', this.handleDisconnect),
                    this.props.exit.destination_uuid && this.connect();
                }
              },
              {
                key: 'componentDidUpdate',
                value: function(e) {
                  this.props.exit.destination_uuid !== e.exit.destination_uuid &&
                    (this.connect(),
                    this.state.confirmDelete && this.setState({ confirmDelete: !1 })),
                    this.state.showDragHelper &&
                      e.showDragHelper &&
                      !this.props.showDragHelper &&
                      this.setState({ showDragHelper: !1 }),
                    this.props.plumberUpdateClass(
                      this.props.node,
                      this.props.exit,
                      'confirm-delete',
                      this.state.confirmDelete
                    );
                }
              },
              {
                key: 'componentWillUnmount',
                value: function() {
                  this.props.exit.destination_uuid && this.props.plumberRemove(this.getSourceId()),
                    this.ele && this.ele.removeEventListener('disconnect', this.handleDisconnect);
                }
              },
              {
                key: 'handleMouseDown',
                value: function(e) {
                  e.preventDefault(), e.stopPropagation();
                }
              },
              {
                key: 'handleClick',
                value: function(e) {
                  var t = this;
                  this.props.translating ||
                    (this.props.exit.destination_uuid
                      ? (e.preventDefault(),
                        e.stopPropagation(),
                        this.setState({ confirmDelete: !0 }, function() {
                          t.timeout = window.setTimeout(function() {
                            t.setState({ confirmDelete: !1 });
                          }, 2e3);
                        }))
                      : (e.preventDefault(),
                        e.stopPropagation(),
                        this.state.showDragHelper ||
                          this.setState({ showDragHelper: !0 }, function() {
                            t.hideDragHelper && window.clearTimeout(t.hideDragHelper),
                              (t.hideDragHelper = window.setTimeout(function() {
                                t.setState({ showDragHelper: !1 });
                              }, 3e3));
                          })));
                }
              },
              {
                key: 'onDisconnect',
                value: function(e) {
                  this.timeout && window.clearTimeout(this.timeout),
                    this.hideDragHelper && window.clearTimeout(this.hideDragHelper),
                    this.props.disconnectExit(this.props.node.uuid, this.props.exit.uuid);
                }
              },
              {
                key: 'connect',
                value: function() {
                  var e = this;
                  this.props.plumberConnectExit(this.props.node, this.props.exit, function(t, a) {
                    e.setState({ activityId: t, recentMessagesId: a });
                  });
                }
              },
              {
                key: 'handleShowRecentMessages',
                value: function() {
                  var e = this;
                  this.props.recentMessages
                    ? this.setState({ recentMessages: this.props.recentMessages })
                    : this.setState({ fetchingRecentMessages: !0 }, function() {
                        var t, a, n;
                        ((t = e.context.config.endpoints.recents),
                        (a = e.props.exit),
                        (n = e.pendingMessageFetch),
                        new Promise(function(e, i) {
                          return (
                            (n.reject = i),
                            Me.a
                              .get(
                                ''
                                  .concat(t, '?exits=')
                                  .concat(a.uuid, '&to=')
                                  .concat(a.destination_uuid)
                              )
                              .then(function(t) {
                                var a,
                                  n = [],
                                  i = Object(C.a)(t.data);
                                try {
                                  for (i.s(); !(a = i.n()).done; ) {
                                    var s = a.value;
                                    n.push({ text: s.text, sent: s.sent });
                                  }
                                } catch (r) {
                                  i.e(r);
                                } finally {
                                  i.f();
                                }
                                e(t.data);
                              })
                              .catch(function(e) {
                                return i(e);
                              })
                          );
                        }))
                          .then(function(t) {
                            e.setState({ recentMessages: t, fetchingRecentMessages: !1 });
                          })
                          .catch(function() {});
                      });
                }
              },
              {
                key: 'handleHideRecentMessages',
                value: function() {
                  this.pendingMessageFetch.reject &&
                    (this.pendingMessageFetch.reject(), (this.pendingMessageFetch = {})),
                    this.setState({ fetchingRecentMessages: !1, recentMessages: null });
                }
              },
              {
                key: 'getSegmentCount',
                value: function() {
                  if (this.props.exit.destination_uuid && this.state.activityId) {
                    var e = ''.concat(this.props.exit.uuid, '-label');
                    return k.createElement(
                      Pc,
                      { id: this.state.activityId },
                      k.createElement(
                        'div',
                        { style: { position: 'relative' } },
                        k.createElement(pc, {
                          key: e,
                          count: this.props.segmentCount,
                          containerStyle: Uc.a.activity,
                          countStyle: Uc.a.count,
                          keepVisible: !1,
                          onMouseEnter: this.handleShowRecentMessages,
                          onMouseLeave: this.handleHideRecentMessages
                        })
                      )
                    );
                  }
                  return null;
                }
              },
              {
                key: 'getName',
                value: function() {
                  var e = this;
                  if (this.props.translating) {
                    var t = '',
                      a = '',
                      n = !1;
                    return (
                      this.props.categories.forEach(function(i) {
                        var s = H(i, e.props.localization, e.props.language);
                        n = n || 'name' in s.localizedKeys;
                        var r = s.getObject();
                        (t += a + r.name), (a = ', ');
                      }),
                      { name: t, localized: n }
                    );
                  }
                  var i = [];
                  return (
                    this.props.categories.forEach(function(e) {
                      i.push(e.name);
                    }),
                    { name: i.join(', ') }
                  );
                }
              },
              {
                key: 'getRecentMessages',
                value: function() {
                  if (this.state.fetchingRecentMessages || null !== this.state.recentMessages) {
                    var e = this.state.recentMessages || [],
                      t = 0 !== e.length,
                      a = [Uc.a.recent_messages],
                      n = 'Recent Messages';
                    return (
                      t ||
                        this.state.fetchingRecentMessages ||
                        ((n = 'No Recent Messages'), a.push(Uc.a.no_recents)),
                      k.createElement(
                        Pc,
                        { id: this.state.recentMessagesId },
                        k.createElement(
                          'div',
                          { className: a.join(' ') },
                          k.createElement('div', { className: Uc.a.title }, n),
                          e.map(function(e, t) {
                            return k.createElement(
                              'div',
                              { key: 'recent_' + t, className: Uc.a.message },
                              k.createElement('div', { className: Uc.a.text }, e.text),
                              k.createElement(
                                'div',
                                { className: Uc.a.sent },
                                Ac.utc(e.sent).fromNow()
                              )
                            );
                          }),
                          null === this.state.recentMessages
                            ? k.createElement(
                                'div',
                                { className: Uc.a.loading },
                                k.createElement(Tc, { size: 10, units: 6, color: '#999999' })
                              )
                            : null
                        )
                      )
                    );
                  }
                  return null;
                }
              },
              {
                key: 'render',
                value: function() {
                  var e,
                    t = this,
                    a = this.getName(),
                    n = a.name,
                    i = a.localized,
                    s = n ? Uc.a.name : '',
                    r = this.props.exit.destination_uuid ? ' jtk-connected' : '',
                    o = Ic(Uc.a.endpoint, r),
                    l =
                      this.state.confirmDelete &&
                      this.props.exit.hasOwnProperty('destination_uuid'),
                    c =
                      l && this.context.config.mutable
                        ? k.createElement(
                            'div',
                            Object.assign(
                              { className: Uc.a.confirm_x + ' fe-x' },
                              V(this.onDisconnect, function() {
                                return t.props.dragging;
                              })
                            )
                          )
                        : null,
                    u = Ic(
                      ((e = {}),
                      Object(O.a)(e, Uc.a.exit, !0),
                      Object(O.a)(e, 'plumb-exit', !0),
                      Object(O.a)(e, Uc.a.translating, this.props.translating),
                      Object(O.a)(e, Uc.a.unnamed_exit, null == n),
                      Object(O.a)(e, Uc.a.missing_localization, n && this.props.translating && !i),
                      Object(O.a)(e, Uc.a.confirm_delete, l),
                      e)
                    ),
                    d = this.getSegmentCount(),
                    p = this.getRecentMessages(),
                    h = this.context.config.mutable
                      ? V(
                          this.handleClick,
                          function() {
                            return t.props.dragging;
                          },
                          this.handleMouseDown
                        )
                      : {};
                  return k.createElement(
                    'div',
                    { className: u },
                    n ? k.createElement('div', { className: s }, n) : null,
                    k.createElement(
                      'div',
                      Object.assign(
                        {
                          ref: function(e) {
                            return (t.ele = e);
                          }
                        },
                        h,
                        {
                          id: ''.concat(this.props.node.uuid, ':').concat(this.props.exit.uuid),
                          className: o
                        }
                      ),
                      c
                    ),
                    d,
                    p,
                    K(this.state.showDragHelper)(k.createElement(Oc, null))
                  );
                }
              }
            ]),
            a
          );
        })(k.PureComponent);
      Lc.contextTypes = { config: yt };
      var Mc = Object(en.b)(
          function(e, t) {
            var a = e.flowContext.definition.localization,
              n = e.editorState,
              i = n.translating,
              s = n.language,
              r = n.dragActive,
              o = n.activity,
              l = null,
              c = Sc(t.exit);
            return (
              c in (o.recentMessages || {}) && (l = o.recentMessages[c]),
              {
                dragging: r,
                segmentCount: o.segments[Sc(t.exit)] || 0,
                translating: i,
                language: s,
                localization: a,
                recentMessages: l
              }
            );
          },
          function(e) {
            return Object(ge.bindActionCreators)({ disconnectExit: El }, e);
          }
        )(Lc),
        zc = a(185),
        Bc = a(38),
        Vc = a.n(Bc),
        Hc = Ot.a.bind(Object(y.a)(Object(y.a)({}, ue.a), Vc.a)),
        qc = [],
        Kc = (function(e) {
          Object(g.a)(a, e);
          var t = Object(v.a)(a);
          function a(e, n) {
            var i;
            return (
              Object(m.a)(this, a),
              ((i = t.call(this, e)).ele = void 0),
              (i.firstAction = void 0),
              (i.clicking = void 0),
              (i.events = void 0),
              Object(b.react)(Object(f.a)(i), { include: [/Ref$/, /^on/, /^get/, /^handle/] }),
              (i.events = n.config.mutable ? V(i.onClick, i.handleShouldCancelClick) : {}),
              i
            );
          }
          return (
            Object(_.a)(a, [
              {
                key: 'handleShouldCancelClick',
                value: function() {
                  return this.props.selected;
                }
              },
              {
                key: 'eleRef',
                value: function(e) {
                  return (this.ele = e);
                }
              },
              {
                key: 'getGhostListener',
                value: function() {
                  var e = this;
                  return function(t) {
                    if (e.ele) {
                      var a = e.ele.parentElement;
                      e.ele.parentElement.parentElement && (a = e.ele.parentElement.parentElement);
                      var n = a.getBoundingClientRect(),
                        i = e.ele.getBoundingClientRect().width,
                        s = t.pageX - i / 2 - 15 - n.left,
                        r = t.pageY - n.top - window.scrollY,
                        o = e.ele.style;
                      (o.left = s + 'px'),
                        (o.top = r + 'px'),
                        (o.visibility = document.querySelector('.plumb-drop-hover')
                          ? 'hidden'
                          : 'visible');
                    }
                  };
                }
              },
              {
                key: 'componentDidMount',
                value: function() {
                  if (
                    (this.props.plumberMakeTarget(this.props.renderNode.node.uuid),
                    this.props.ghost)
                  ) {
                    var e = this.getGhostListener();
                    (window.ghostListener = e), document.addEventListener('mousemove', e);
                  }
                }
              },
              {
                key: 'componentDidUpdate',
                value: function(e) {
                  if (!this.props.ghost)
                    try {
                      this.props.plumberRecalculate(this.props.renderNode.node.uuid);
                      var t,
                        a = Object(C.a)(this.props.renderNode.node.exits);
                      try {
                        for (a.s(); !(t = a.n()).done; ) {
                          var n = t.value;
                          this.props.plumberRecalculate(
                            this.props.renderNode.node.uuid + ':' + n.uuid
                          );
                        }
                      } catch (i) {
                        a.e(i);
                      } finally {
                        a.f();
                      }
                    } catch (s) {}
                }
              },
              {
                key: 'componentWillUnmount',
                value: function() {
                  this.props.plumberRemove(this.props.renderNode.node.uuid);
                }
              },
              {
                key: 'handleUUIDClicked',
                value: function(e) {
                  var t = window.getSelection(),
                    a = document.createRange();
                  a.selectNodeContents(e.currentTarget),
                    t.removeAllRanges(),
                    t.addRange(a),
                    document.execCommand('copy'),
                    t.removeAllRanges(),
                    console.log(e.currentTarget.textContent + ' copied to clipboard.');
                }
              },
              {
                key: 'handleAddToNode',
                value: function() {
                  this.props.onAddToNode(this.props.renderNode.node);
                }
              },
              {
                key: 'onClick',
                value: function(e) {
                  this.props.onOpenNodeEditor({ originalNode: this.props.renderNode });
                }
              },
              {
                key: 'handleRemoval',
                value: function(e) {
                  e.preventDefault(),
                    e.stopPropagation(),
                    this.props.removeNode(this.props.renderNode.node);
                }
              },
              {
                key: 'getExits',
                value: function() {
                  var e = this;
                  return this.props.renderNode.node.exits
                    ? this.props.renderNode.node.exits.map(function(t, a) {
                        return k.createElement(Mc, {
                          key: t.uuid,
                          node: e.props.renderNode.node,
                          categories: ds(e.props.renderNode, t),
                          exit: t,
                          showDragHelper: e.props.onlyNode && 0 === a,
                          plumberMakeSource: e.props.plumberMakeSource,
                          plumberRemove: e.props.plumberRemove,
                          plumberConnectExit: e.props.plumberConnectExit,
                          plumberUpdateClass: e.props.plumberUpdateClass
                        });
                      })
                    : [];
                }
              },
              {
                key: 'isSelected',
                value: function() {
                  return this.props.selected;
                }
              },
              {
                key: 'isStartNodeVisible',
                value: function() {
                  return this.props.startingNode;
                }
              },
              {
                key: 'renderDebug',
                value: function() {
                  if (this.props.debug && this.props.debug.showUUIDs)
                    return k.createElement(
                      'span',
                      {
                        id: 'uuid-'.concat(this.props.renderNode.node.uuid),
                        onClick: this.handleUUIDClicked,
                        className: Vc.a.uuid
                      },
                      this.props.renderNode.node.uuid
                    );
                }
              },
              {
                key: 'render',
                value: function() {
                  var e,
                    t,
                    a = this,
                    n = [],
                    i = null;
                  if (this.props.renderNode.node.actions) {
                    var s = {
                      ref: (function(e) {
                        function t(t) {
                          return e.apply(this, arguments);
                        }
                        return (
                          (t.toString = function() {
                            return e.toString();
                          }),
                          t
                        );
                      })(function(e) {
                        return (a.firstAction = e);
                      })
                    };
                    ((t = this.props.renderNode),
                    Ho(t) === ke.split_by_subflow
                      ? t.node.actions.filter(function(e) {
                          return e.type !== ke.set_run_result;
                        })
                      : t.node.actions).forEach(function(e, t) {
                      var i = Vo(e.type),
                        r = (function(e, t, a) {
                          return a.filter(function(a) {
                            return a.node_uuid === e && a.action_uuid === t.uuid;
                          });
                        })(a.props.nodeUUID, e, a.props.issues);
                      if (i.hasOwnProperty('component') && i.component) {
                        var o = i.component;
                        i.massageForDisplay && i.massageForDisplay(e),
                          n.push(
                            k.createElement(
                              Ec,
                              Object.assign({}, s, {
                                key: e.uuid,
                                renderNode: a.props.renderNode,
                                selected: a.props.selected,
                                action: e,
                                first: 0 === t,
                                issues: r,
                                render: function(e) {
                                  return k.createElement(
                                    o,
                                    Object.assign({}, e, {
                                      languages: a.props.languages,
                                      issues: r
                                    })
                                  );
                                }
                              })
                            )
                          );
                      }
                      s = {};
                    }),
                      (i =
                        n.length > 0
                          ? k.createElement(
                              zc.a,
                              {
                                enterAnimation: 'fade',
                                leaveAnimation: 'fade',
                                duration: 300,
                                easing: 'ease-out'
                              },
                              n
                            )
                          : null);
                  }
                  var r = null,
                    o = null,
                    l = null,
                    c = Ho(this.props.renderNode);
                  if (c !== ke.execute_actions) {
                    var u = Vo(c),
                      d = u.name;
                    rs(this.props.renderNode.node) &&
                      c === ke.split_by_contact_field &&
                      this.props.renderNode.ui.config.operand.name &&
                      (d = 'Split by '.concat(this.props.renderNode.ui.config.operand.name));
                    var p = ps(this.props.renderNode.node);
                    p &&
                      (l = k.createElement(
                        'div',
                        Object.assign({}, this.events, { className: Vc.a.save_result }),
                        k.createElement('div', { className: Vc.a.save_as }, 'Save as '),
                        k.createElement('div', { className: Vc.a.result_name }, p)
                      )),
                      null !== d ||
                        (c !== ke.split_by_run_result && c !== ke.split_by_run_result_delimited) ||
                        (d = 'Split by '.concat(
                          this.props.results[this.props.renderNode.ui.config.operand.id].name
                        )),
                      null === d && (d = u.name),
                      (this.props.renderNode.node.actions &&
                        this.props.renderNode.node.actions.length) ||
                        (r = k.createElement(
                          'div',
                          { style: { position: 'relative' } },
                          k.createElement(
                            'div',
                            this.events,
                            k.createElement(_c, {
                              __className:
                                ue.a[
                                  Pn(this.props.issues, this.props.translating, this.props.language)
                                    ? 'missing'
                                    : u.type
                                ],
                              showRemoval: !this.props.translating,
                              onRemoval: this.handleRemoval,
                              shouldCancelClick: this.handleShouldCancelClick,
                              title: d
                            })
                          )
                        ));
                  } else
                    !this.props.translating &&
                      this.context.config.mutable &&
                      (o = k.createElement(
                        'div',
                        Object.assign(
                          { className: Vc.a.add },
                          V(this.handleAddToNode, this.handleShouldCancelClick)
                        ),
                        k.createElement('span', { className: 'fe-add' })
                      ));
                  var h = this.getExits(),
                    m = Hc(
                      ((e = { 'plumb-drag': !0 }),
                      Object(O.a)(e, Vc.a.ghost, this.props.ghost),
                      Object(O.a)(e, Vc.a.flow_start, this.isStartNodeVisible()),
                      Object(O.a)(e, Vc.a.selected, this.isSelected()),
                      Object(O.a)(e, Vc.a.immutable, !this.context.config.mutable),
                      e)
                    ),
                    _ = this.renderDebug(),
                    f = k.createElement(
                      'div',
                      { className: Vc.a.node },
                      this.isStartNodeVisible()
                        ? k.createElement(
                            'div',
                            { className: Vc.a.flow_start_message },
                            'Flow Start'
                          )
                        : null,
                      _,
                      k.createElement(pc, {
                        count: this.props.activeCount,
                        containerStyle: Vc.a.active,
                        countStyle: '',
                        keepVisible: this.props.simulating,
                        onClick: function() {
                          a.context.config.onActivityClicked &&
                            a.context.config.onActivityClicked(
                              a.props.nodeUUID,
                              a.props.activeCount
                            );
                        }
                      }),
                      k.createElement('div', { className: Vc.a.cropped }, r, i, l),
                      k.createElement(
                        'div',
                        { className: ''.concat(Vc.a.exit_table) },
                        k.createElement(
                          'div',
                          Object.assign({ className: Vc.a.exits }, this.events),
                          h
                        ),
                        o
                      )
                    );
                  return k.createElement(
                    'div',
                    {
                      id: this.props.renderNode.node.uuid,
                      className: ''.concat(Vc.a.node_container, ' ').concat(m),
                      ref: this.eleRef
                    },
                    !this.props.scrollToAction &&
                      this.props.scrollToNode &&
                      this.props.scrollToNode === this.props.nodeUUID
                      ? k.createElement(yc, { pulseAfterScroll: !0 }, f)
                      : f
                  );
                }
              }
            ]),
            a
          );
        })(k.PureComponent);
      Kc.contextTypes = { config: yt };
      var Gc,
        Wc = Object(en.b)(
          function(e, t) {
            var a = e.flowContext,
              n = a.nodes,
              i = a.issues,
              s = a.assetStore,
              r = s.results.items,
              o = s.languages.items,
              l = e.editorState,
              c = l.translating,
              u = l.debug,
              d = l.ghostNode,
              p = l.simulating,
              h = l.activity,
              m = l.language,
              _ = l.scrollToAction,
              f = l.scrollToNode,
              g = null;
            if (
              (d && d.node.uuid === t.nodeUUID ? (g = d) : t.nodeUUID in n && (g = n[t.nodeUUID]),
              !g)
            )
              throw Error("Couldn't find node for " + t.nodeUUID);
            var v = h.nodes[t.nodeUUID] || 0,
              y = f && f === t.nodeUUID ? f : null,
              b = _ && y ? _ : null;
            return {
              issues: (i || {})[t.nodeUUID] || qc,
              results: r,
              language: m,
              languages: o,
              activeCount: v,
              translating: c,
              debug: u,
              renderNode: g,
              simulating: p,
              scrollToNode: y,
              scrollToAction: b
            };
          },
          function(e) {
            return Object(ge.bindActionCreators)(
              { onAddToNode: Tl, onOpenNodeEditor: Pl, removeNode: wl, mergeEditorState: ml },
              e
            );
          },
          null,
          { forwardRef: !0 }
        )(Kc),
        Yc = a(186),
        Qc = a.n(Yc),
        Xc = (function(e) {
          Object(g.a)(a, e);
          var t = Object(v.a)(a);
          function a() {
            return Object(m.a)(this, a), t.apply(this, arguments);
          }
          return (
            Object(_.a)(a, [
              {
                key: 'render',
                value: function() {
                  var e = {
                    content: {
                      marginLeft: 'auto',
                      marginRight: 'auto',
                      marginTop: '40px',
                      bottom: 'initial',
                      padding: 'none',
                      borderRadius: 'none',
                      outline: 'none',
                      width: this.props.width ? this.props.width : '700px',
                      border: 'none'
                    }
                  };
                  return k.createElement(
                    Qc.a,
                    {
                      ariaHideApp: !1,
                      isOpen: this.props.show,
                      onAfterOpen: this.props.onModalOpen,
                      onRequestClose: this.props.onClose,
                      style: e,
                      shouldCloseOnOverlayClick: !1,
                      contentLabel: 'Modal'
                    },
                    this.props.children
                  );
                }
              }
            ]),
            a
          );
        })(k.Component),
        Jc = (function(e) {
          Object(g.a)(a, e);
          var t = Object(v.a)(a);
          function a(e) {
            var n;
            return (
              Object(m.a)(this, a),
              (n = t.call(this, e)),
              Object(b.react)(Object(f.a)(n), { include: [/^close/, /^update/, /^handle/] }),
              n
            );
          }
          return (
            Object(_.a)(a, [
              {
                key: 'updateLocalizations',
                value: function(e, t) {
                  this.props.onUpdateLocalizations(e, t);
                }
              },
              {
                key: 'close',
                value: function(e) {
                  if (e) {
                    var t = Yi(this.props.settings.originalNode);
                    if (t) {
                      var a,
                        n = this.props.nodes[t.nodeUUID],
                        i = Object(C.a)(n.node.exits);
                      try {
                        for (i.s(); !(a = i.n()).done; ) {
                          var s = a.value;
                          if (s.uuid === t.exitUUID) {
                            this.props.plumberConnectExit(n.node, s);
                            break;
                          }
                        }
                      } catch (r) {
                        i.e(r);
                      } finally {
                        i.f();
                      }
                    }
                  }
                  this.props.resetNodeEditingState(), this.props.updateUserAddingAction(!1);
                }
              },
              {
                key: 'updateAction',
                value: function(e, t) {
                  this.props.onUpdateAction(e, t);
                }
              },
              {
                key: 'updateRouter',
                value: function(e) {
                  this.props.onUpdateRouter(e);
                }
              },
              {
                key: 'handleAddAsset',
                value: function(e, t) {
                  this.props.addAsset(e, t);
                }
              },
              {
                key: 'render',
                value: function() {
                  var e = this;
                  if (this.props.settings) {
                    var t = this.props.typeConfig;
                    if (this.props.translating) {
                      var a = t.localization;
                      if (a) {
                        var n = {
                          updateLocalizations: this.updateLocalizations,
                          nodeSettings: this.props.settings,
                          onClose: this.close,
                          language: this.props.language,
                          helpArticles: this.props.helpArticles,
                          issues: this.props.issues.filter(function(t) {
                            return t.language === e.props.language.id;
                          })
                        };
                        return k.createElement(
                          Xc,
                          { width: '600px', show: !0 },
                          k.createElement(a, Object(y.a)({}, n))
                        );
                      }
                    }
                    var i = t.form,
                      s = {
                        assetStore: this.props.assetStore,
                        completionSchema: this.props.completionSchema,
                        addAsset: this.handleAddAsset,
                        updateAction: this.updateAction,
                        updateRouter: this.updateRouter,
                        nodeSettings: this.props.settings,
                        helpArticles: this.props.helpArticles,
                        issues: this.props.issues.filter(function(e) {
                          return !e.language;
                        }),
                        typeConfig: this.props.typeConfig,
                        onTypeChange: this.props.handleTypeConfigChange,
                        onClose: this.close
                      };
                    return k.createElement(
                      Xc,
                      { width: '600px', show: !0 },
                      k.createElement(i, Object(y.a)({}, s))
                    );
                  }
                  return null;
                }
              }
            ]),
            a
          );
        })(k.Component),
        Zc = Object(en.b)(
          function(e) {
            var t = e.flowContext,
              a = t.definition,
              n = t.nodes,
              i = t.assetStore,
              s = t.issues,
              r = e.editorState,
              o = r.language,
              l = r.translating,
              c = r.completionSchema,
              u = e.nodeEditor,
              d = u.typeConfig,
              p = u.settings;
            return {
              issues: (s[p.originalNode.node.uuid] || []).filter(function(e) {
                return !p.originalAction || p.originalAction.uuid === e.action_uuid;
              }),
              language: o,
              definition: a,
              nodes: n,
              translating: l,
              typeConfig: d,
              settings: p,
              assetStore: i,
              completionSchema: c
            };
          },
          function(e) {
            return Object(ge.bindActionCreators)(
              {
                addAsset: vl,
                resetNodeEditingState: xl,
                mergeEditorState: ml,
                handleTypeConfigChange: Nl,
                onUpdateLocalizations: bl,
                onUpdateAction: jl,
                onUpdateRouter: Fl,
                updateUserAddingAction: pa
              },
              e
            );
          }
        )(Jc),
        $c =
          (Z(),
          function() {
            var e = new Date(),
              t = e.getMinutes(),
              a = '' + t;
            return t < 10 && (a = '0' + t), Math.abs(12 - e.getHours()) + ':' + a;
          }),
        eu = function(e) {
          return !!['msg_created', 'msg_received', 'ivr_created'].find(function(t) {
            return t === e.type;
          });
        },
        tu = function(e) {
          return !!['msg_created', 'ivr_created'].find(function(t) {
            return t === e.type;
          });
        },
        au = a(30),
        nu = a.n(au),
        iu = a(159);
      !(function(e) {
        (e[(e.MT = 0)] = 'MT'), (e[(e.MO = 1)] = 'MO');
      })(Gc || (Gc = {}));
      var su,
        ru = function(e) {
          return e === Gc.MO ? nu.a.msg_received : nu.a.send_msg;
        },
        ou = function(e) {
          return k.createElement(
            'div',
            { className: nu.a.error },
            k.createElement('span', null, 'Error: ', e)
          );
        },
        lu = function(e) {
          return k.createElement(
            'div',
            { key: e, className: nu.a.info },
            k.createElement('span', { dangerouslySetInnerHTML: { __html: e } })
          );
        },
        cu = function(e, t, a) {
          var n = t || [];
          return k.createElement(
            'div',
            { className: ru(a) },
            n.map(function(t) {
              return k.createElement(
                'div',
                { key: e + t },
                (function(e) {
                  var t = e.indexOf(':');
                  if (t > -1) {
                    var a = e.substr(0, t),
                      n = e.substr(t + 1);
                    if (a.startsWith('audio'))
                      return k.createElement(
                        'div',
                        { className: nu.a.audio_attachment },
                        k.createElement(
                          'div',
                          { className: nu.a.media_player },
                          k.createElement(Jn, { url: n })
                        ),
                        k.createElement('div', { className: nu.a.audio_text }, 'Audio Recording')
                      );
                    if (a.startsWith('image'))
                      return k.createElement('img', { src: n, alt: 'Attachment' });
                    if (a.startsWith('geo'))
                      return k.createElement('img', { src: iu, alt: 'Attachment' });
                    if (a.startsWith('video'))
                      return k.createElement(
                        'div',
                        { className: nu.a.video_attachment },
                        k.createElement('video', { controls: !0, src: n })
                      );
                  }
                  return null;
                })(t)
              );
            }),
            e
              ? e.split('\n').map(function(e, t) {
                  return k.createElement('div', { key: Z(), className: nu.a.msg_text }, e);
                })
              : null
          );
        },
        uu = (function(e) {
          Object(g.a)(a, e);
          var t = Object(v.a)(a);
          function a(e) {
            var n;
            return (
              Object(m.a)(this, a),
              ((n = t.call(this, e)).state = { detailsVisible: !1 }),
              (n.showDetails = n.showDetails.bind(Object(f.a)(n))),
              (n.getButtons = n.getButtons.bind(Object(f.a)(n))),
              n
            );
          }
          return (
            Object(_.a)(a, [
              {
                key: 'getButtons',
                value: function() {
                  var e = this;
                  return {
                    primary: {
                      name: 'Ok',
                      onClick: function() {
                        e.setState({ detailsVisible: !1 });
                      }
                    }
                  };
                }
              },
              {
                key: 'showDetails',
                value: function() {
                  this.setState({ detailsVisible: !0 });
                }
              },
              {
                key: 'renderGroupsChanged',
                value: function() {
                  var e = [];
                  if (this.props.groups_added) {
                    var t = qt.t('simulator.added_to_group', 'Added to ');
                    e.push(
                      t +
                        this.renderValueList(
                          this.props.groups_added.map(function(e) {
                            return e.name;
                          })
                        )
                    );
                  }
                  if (this.props.groups_removed) {
                    var a = qt.t('simulator.removed_from_group', 'Removed from ');
                    e.push(
                      a +
                        this.renderValueList(
                          this.props.groups_removed.map(function(e) {
                            return e.name;
                          })
                        )
                    );
                  }
                  return lu(e.join('. '));
                }
              },
              {
                key: 'renderLabelsAdded',
                value: function() {
                  var e = qt.t('simulator.input_labels_added', 'Message labeled with ');
                  return lu(
                    e +
                      this.renderValueList(
                        this.props.labels.map(function(e) {
                          return e.name;
                        })
                      )
                  );
                }
              },
              {
                key: 'renderEmailSent',
                value: function() {
                  var e = this.props.to || this.props.addresses;
                  return this.renderClickable(
                    k.createElement(
                      'div',
                      { className: nu.a.info + ' ' + nu.a.email },
                      k.createElement(
                        De.a,
                        {
                          i18nKey: 'simulator.sent_email.summary',
                          values: {
                            recipients: this.renderValueList(e),
                            subject: this.props.subject
                          }
                        },
                        'Sent email to [[recipients]] with subject "[[subject]]"'
                      )
                    ),
                    k.createElement(
                      me,
                      {
                        title: qt.t('simulator.sent_email.title', 'Email Details'),
                        headerClass: ke.send_email,
                        buttons: this.getButtons(),
                        noPadding: !0
                      },
                      k.createElement(
                        'div',
                        { className: nu.a.email_details },
                        k.createElement(
                          'div',
                          { className: nu.a.to },
                          qt.t('email.to', 'To'),
                          ': ',
                          this.renderValueList(e)
                        ),
                        k.createElement(
                          'div',
                          { className: nu.a.subject },
                          qt.t('email.subject', 'Subject'),
                          ': ',
                          this.props.subject
                        ),
                        k.createElement('div', { className: nu.a.body }, this.props.body)
                      )
                    )
                  );
                }
              },
              {
                key: 'renderHTTPRequest',
                value: function(e, t) {
                  return this.renderClickable(
                    k.createElement(
                      'div',
                      { className: nu.a.info + ' ' + nu.a.webhook },
                      k.createElement('span', null, 'Called ', t.url)
                    ),
                    k.createElement(
                      me,
                      {
                        title: qt.t('simulator.httplog_dialog', 'HTTP Request Details'),
                        headerClass: e,
                        buttons: this.getButtons(),
                        noPadding: !0
                      },
                      k.createElement(
                        'div',
                        { className: nu.a.webhook_details },
                        k.createElement('div', { className: '' }, t.request),
                        k.createElement('div', { className: nu.a.response }, t.response)
                      )
                    )
                  );
                }
              },
              {
                key: 'renderWebhook',
                value: function(e) {
                  var t = this;
                  return this.props.http_logs
                    ? k.createElement(
                        k.Fragment,
                        null,
                        this.props.http_logs.map(function(a) {
                          return t.renderHTTPRequest(e, a);
                        })
                      )
                    : this.props.url
                    ? this.renderHTTPRequest(e, this.props)
                    : void 0;
                }
              },
              {
                key: 'renderClickable',
                value: function(e, t) {
                  return k.createElement(
                    'div',
                    { key: this.props.step_uuid },
                    k.createElement(
                      'div',
                      { className: nu.a.has_detail, onClick: this.showDetails },
                      e
                    ),
                    k.createElement(
                      Xc,
                      { show: this.state.detailsVisible },
                      k.createElement('div', { className: nu.a.event_viewer }, t)
                    )
                  );
                }
              },
              {
                key: 'renderClassification',
                value: function() {
                  var e = this;
                  return k.createElement(
                    'table',
                    { className: nu.a.classification },
                    k.createElement(
                      'tbody',
                      null,
                      (this.props.extra.intents || []).map(function(e) {
                        return k.createElement(
                          'tr',
                          { key: e.name + e.confidence },
                          k.createElement('td', null, e.name),
                          k.createElement('td', null, 'intent'),
                          k.createElement('td', null, e.confidence.toFixed(3))
                        );
                      }),
                      Object.keys(this.props.extra.entities || []).map(function(t) {
                        return e.props.extra.entities[t].map(function(e) {
                          return t !== e.value
                            ? k.createElement(
                                'tr',
                                { key: e.value + e.confidence },
                                k.createElement('td', null, e.value),
                                k.createElement('td', null, t),
                                k.createElement('td', null, e.confidence.toFixed(3))
                              )
                            : null;
                        });
                      })
                    )
                  );
                }
              },
              {
                key: 'renderLogEvent',
                value: function() {
                  if (this.props.extra && this.props.extra.intents)
                    return this.renderClassification();
                  switch (this.props.type) {
                    case 'msg_received':
                      return cu(this.props.msg.text, this.props.msg.attachments, Gc.MO);
                    case 'msg_created':
                    case 'ivr_created':
                      return cu(this.props.msg.text, this.props.msg.attachments, Gc.MT);
                    case 'error':
                    case 'failure':
                      return ou(this.props.text);
                    case 'msg_wait':
                      return lu(qt.t('simulator.msg_wait', 'Waiting for reply'));
                    case 'contact_groups_changed':
                      return this.renderGroupsChanged();
                    case 'contact_urns_changed':
                      return lu('Added a URN for the contact');
                    case 'contact_field_changed':
                      var e = this.getValue(this.props.value);
                      return lu(
                        '' !== e
                          ? qt.t(
                              'simulator.contact_field_changed',
                              'Set contact "[[field]]" to "[[value]]"',
                              {
                                field: this.props.field.name,
                                value: this.getValue(this.props.value)
                              }
                            )
                          : qt.t('simulator.contact_field_cleared', 'Cleared contact "[[field]]"', {
                              field: this.props.field.name
                            })
                      );
                    case 'run_result_changed':
                      return lu(
                        qt.t(
                          'simulator.run_result_changed',
                          'Set result "[[field]]" to "[[value]]"',
                          { field: this.props.name, value: this.getValue(this.props.value) }
                        )
                      );
                    case 'contact_name_changed':
                      return lu(
                        qt.t('simulator.contact_name_changed', 'Set contact name to "[[name]]"', {
                          name: this.props.name
                        })
                      );
                    case 'email_created':
                    case 'email_sent':
                      return this.renderEmailSent();
                    case 'broadcast_created':
                      return cu(
                        this.props.translations[this.props.base_language].text,
                        this.props.msg ? this.props.msg.attachments : [],
                        Gc.MT
                      );
                    case 'resthook_called':
                      return lu(
                        qt.t('simulator.resthook_called', 'Triggered flow event "[[resthook]]"', {
                          resthook: this.props.resthook
                        })
                      );
                    case 'service_called':
                      if ('classifier' === this.props.service)
                        return this.renderWebhook(ke.call_classifier);
                      break;
                    case 'webhook_called':
                      return this.renderWebhook(ke.call_webhook);
                    case 'flow_entered':
                      return lu(
                        qt.t('simulator.flow_entered', 'Entered flow "[[flow]]"', {
                          flow: this.props.flow.name
                        })
                      );
                    case 'session_triggered':
                      return lu(
                        qt.t('simulator.session_triggered', 'Started somebody else in "[[flow]]"', {
                          flow: this.props.flow.name
                        })
                      );
                    case 'contact_language_changed':
                      return lu(
                        qt.t(
                          'simulator.contact_language_changed',
                          'Set preferred language to "[[language]]"',
                          { language: this.props.language }
                        )
                      );
                    case 'info':
                      return lu(this.props.text);
                    case 'input_labels_added':
                      return this.renderLabelsAdded();
                    case 'environment_refreshed':
                      return null;
                    case 'ticket_opened':
                      return lu(
                        qt.t(
                          'simulator.ticket_opened',
                          'Ticket opened with subject "[[subject]]"',
                          { subject: this.props.subject }
                        )
                      );
                    case 'airtime_transferred':
                      var t = this.props;
                      return k.createElement(
                        k.Fragment,
                        null,
                        this.renderWebhook(ke.transfer_airtime),
                        lu(
                          qt.t(
                            'simulator.airtime_transferred',
                            'Transferred [[amount]] [[currency]] to [[recipient]]',
                            {
                              amount: t.actual_amount,
                              currency: t.currency,
                              recipient: ((a = t.recipient), a.split(':')[1])
                            }
                          )
                        )
                      );
                  }
                  var a;
                  return console.log('Simulator render missing', this.props), null;
                }
              },
              {
                key: 'render',
                value: function() {
                  return k.createElement('div', { className: nu.a.evt }, this.renderLogEvent());
                }
              },
              {
                key: 'renderValueList',
                value: function(e) {
                  var t = '',
                    a = '';
                  return (
                    e.forEach(function(e) {
                      (t += ''.concat(a, '"').concat(e, '"')), (a = ', ');
                    }),
                    t
                  );
                }
              },
              {
                key: 'getValue',
                value: function(e) {
                  return e ? ('string' === typeof e ? e : e.text) : '';
                }
              }
            ]),
            a
          );
        })(k.Component),
        du = a(36),
        pu = a.n(du),
        hu = Ot.a.bind(pu.a),
        mu = { 'parent.run': !0, 'child.run': !0, legacy_extra: !0 },
        _u = (function(e) {
          Object(g.a)(a, e);
          var t = Object(v.a)(a);
          function a(e) {
            var n;
            return (
              Object(m.a)(this, a),
              ((n = t.call(this, e)).state = {
                opened: {},
                expression: null,
                messageVisible: !1,
                showEmpty: !1,
                message: null
              }),
              Object(b.react)(Object(f.a)(n), { include: [/^handle/] }),
              n
            );
          }
          return (
            Object(_.a)(a, [
              {
                key: 'handleHide',
                value: function() {
                  this.props.onClose();
                }
              },
              {
                key: 'isOpen',
                value: function(e) {
                  var t,
                    a = this.state.opened,
                    n = Object(C.a)(e);
                  try {
                    for (n.s(); !(t = n.n()).done; ) {
                      if (!(a = a[t.value])) return !1;
                    }
                  } catch (i) {
                    n.e(i);
                  } finally {
                    n.f();
                  }
                  return !0;
                }
              },
              {
                key: 'handleCopyPath',
                value: function(e, t) {
                  var a,
                    n = this,
                    i = '@' + [].concat(Object(fe.a)(t), [e]).join('.');
                  (a = i),
                    navigator.clipboard.writeText(a),
                    this.setState({ expression: i, messageVisible: !0, message: null }, function() {
                      window.setTimeout(function() {
                        n.state.expression === i && n.setState({ messageVisible: !1 });
                      }, 1500);
                    });
                }
              },
              {
                key: 'handleToggleHide',
                value: function() {
                  var e = this,
                    t = this.state.showEmpty
                      ? qt.t('context_explorer.hide_empty', 'Showing keys with values')
                      : qt.t('context_explorer.show_empty', 'Showing all keys');
                  this.setState(
                    {
                      showEmpty: !this.state.showEmpty,
                      message: t,
                      expression: null,
                      messageVisible: !0
                    },
                    function() {
                      window.setTimeout(function() {
                        e.state.message === t && e.setState({ messageVisible: !1 });
                      }, 1e3);
                    }
                  );
                }
              },
              {
                key: 'handlePathClick',
                value: function(e, t) {
                  for (
                    var a = Object(y.a)({}, this.state.opened),
                      n = [].concat(Object(fe.a)(t), [e]),
                      i = a;
                    n.length > 0;

                  ) {
                    var s = n.shift(),
                      r = !1;
                    if ((0 === n.length && i[s] && (r = !0), r)) delete i[s];
                    else {
                      var o = i[s] || {};
                      i[s] = o;
                    }
                    i = i[s];
                  }
                  this.setState({ opened: a });
                }
              },
              {
                key: 'renderContextNode',
                value: function(e, t, a) {
                  var n,
                    i,
                    s = this;
                  if (!e) return null;
                  var r = [].concat(Object(fe.a)(a), [e]);
                  if (mu[r.join('.')]) return null;
                  var o = typeof t,
                    l = 'object' !== o ? t : '',
                    c = t && 'object' === o && Object.keys(t).length > 0;
                  t &&
                    t.hasOwnProperty('__default__') &&
                    ((l = t.__default__), 1 === Object.keys(t).length && (c = !1));
                  var u = this.isOpen(r),
                    d = hu(
                      ((n = {}),
                      Object(O.a)(n, pu.a.arrow_right, !0),
                      Object(O.a)(n, pu.a.has_children, c),
                      Object(O.a)(n, pu.a.open, u),
                      n)
                    ),
                    p = hu(
                      ((i = {}),
                      Object(O.a)(i, pu.a.key, !0),
                      Object(O.a)(i, pu.a.has_children, c),
                      i)
                    ),
                    h = Array.isArray(t) ? '['.concat(t.length, ']') : null;
                  return k.createElement(
                    'div',
                    { key: e + a.length },
                    k.createElement(
                      'div',
                      {
                        className: pu.a.row,
                        style: { marginLeft: 10 * a.length + 'px' },
                        onClick: function(t) {
                          t.shiftKey ? s.handleCopyPath(e, a) : c && s.handlePathClick(e, a);
                        }
                      },
                      k.createElement('div', { className: d }, '\u203a'),
                      k.createElement(
                        'div',
                        { className: p },
                        e,
                        k.createElement('div', { className: pu.a.key_summary }, h),
                        k.createElement('div', {
                          className: pu.a.clipboard + ' fe-clipboard-empty',
                          onClick: function(t) {
                            t.stopPropagation(), s.handleCopyPath(e, a);
                          }
                        })
                      ),
                      k.createElement('div', { className: pu.a.str_value }, l)
                    ),
                    u ? this.renderProperties(t, r) : null
                  );
                }
              },
              {
                key: 'renderProperties',
                value: function(e) {
                  var t = this,
                    a = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [];
                  return e
                    ? k.createElement(
                        k.Fragment,
                        null,
                        Object.keys(e).map(function(n) {
                          return '__default__' !== n ? t.renderContextNode(n, e[n], a) : null;
                        })
                      )
                    : null;
                }
              },
              {
                key: 'render',
                value: function() {
                  var e,
                    t = this,
                    a = this.props.contents;
                  this.props.contents &&
                    !this.state.showEmpty &&
                    (a = (function e(t) {
                      return (
                        'object' === typeof t &&
                          Object.keys(t).forEach(function(a) {
                            !t[a] ||
                            (1 === Object.keys(t[a]).length && t[a].hasOwnProperty('__default__'))
                              ? delete t[a]
                              : (e(t[a]),
                                null !== t[a] &&
                                  'object' === typeof t[a] &&
                                  0 === Object.keys(t[a]).length &&
                                  delete t[a]);
                          }),
                        t
                      );
                    })(JSON.parse(JSON.stringify(this.props.contents))));
                  var n = null;
                  (this.state.message || this.state.expression) &&
                    (this.state.message
                      ? (n = this.state.message)
                      : this.state.expression &&
                        (n = k.createElement(
                          De.a,
                          {
                            i18nKey: 'context_explorer.copied_expression',
                            values: { expression: this.state.expression }
                          },
                          'Copied ',
                          k.createElement('span', { className: pu.a.expression }, '[[expression]]'),
                          ' to clipboard'
                        )));
                  var i = hu(
                    ((e = {}),
                    Object(O.a)(e, pu.a.message, !0),
                    Object(O.a)(e, pu.a.visible, this.state.messageVisible),
                    e)
                  );
                  return k.createElement(
                    'div',
                    {
                      className:
                        pu.a.context_explorer + ' ' + (this.props.visible ? pu.a.visible : '')
                    },
                    k.createElement('div', { className: i }, n),
                    k.createElement('div', { className: pu.a.panel }, this.renderProperties(a)),
                    k.createElement(
                      'div',
                      { className: pu.a.footer },
                      k.createElement(
                        'div',
                        {
                          className: pu.a.empty_toggle,
                          onClick: function() {
                            t.handleToggleHide();
                          }
                        },
                        k.createElement('div', {
                          className: this.state.showEmpty ? 'fe-eye' : 'fe-eye-crossed'
                        })
                      )
                    )
                  );
                }
              }
            ]),
            a
          );
        })(k.Component),
        fu = a(14),
        gu = a.n(fu),
        vu = a(159),
        yu = 'https://s3.amazonaws.com/floweditor-assets.temba.io/simulator/sim_image_a.jpg',
        bu = 'https://s3.amazonaws.com/floweditor-assets.temba.io/simulator/sim_image_b.jpg',
        ku = 'https://s3.amazonaws.com/floweditor-assets.temba.io/simulator/sim_image_c.jpg',
        Eu = 'https://s3.amazonaws.com/floweditor-assets.temba.io/simulator/sim_video_a.mp4',
        Cu = 'https://s3.amazonaws.com/floweditor-assets.temba.io/simulator/sim_video_a_thumb.jpg';
      !(function(e) {
        (e.audio = 'audio'),
          (e.images = 'images'),
          (e.videos = 'videos'),
          (e.location = 'location'),
          (e.digit = 'digit'),
          (e.digits = 'digits'),
          (e.quickReplies = 'quickReplies');
      })(su || (su = {}));
      var wu = (function(e) {
        Object(g.a)(a, e);
        var t = Object(v.a)(a);
        function a(e, n) {
          var i;
          return (
            Object(m.a)(this, a),
            ((i = t.call(this, e)).debug = []),
            (i.flows = []),
            (i.currentFlow = void 0),
            (i.inputBox = void 0),
            (i.drawerEle = void 0),
            (i.bottom = void 0),
            (i.state = {
              active: !1,
              visible: !1,
              events: [],
              contact: { uuid: Z(), urns: ['tel:+12065551212'], fields: {}, groups: [] },
              keypadEntry: '',
              drawerHeight: 0,
              channel: Z(),
              time: $c(),
              waitingForHint: !1,
              drawerOpen: !1,
              attachmentOptionsVisible: !1,
              contextExplorerVisible: !1,
              sprinting: !1
            }),
            (i.bottomRef = i.bottomRef.bind(Object(f.a)(i))),
            (i.inputBoxRef = i.inputBoxRef.bind(Object(f.a)(i))),
            (i.currentFlow = i.props.definition.uuid),
            Object(b.react)(Object(f.a)(i), { include: [/^on/, /^get/, /^handle/] }),
            i
          );
        }
        return (
          Object(_.a)(a, [
            {
              key: 'bottomRef',
              value: function(e) {
                return (this.bottom = e);
              }
            },
            {
              key: 'inputBoxRef',
              value: function(e) {
                this.inputBox = e;
              }
            },
            {
              key: 'updateActivity',
              value: function() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                if (this.state.session) {
                  var t,
                    a,
                    n = null,
                    i = {},
                    s = {},
                    r = Object(C.a)(this.state.session.runs);
                  try {
                    for (r.s(); !(a = r.n()).done; ) {
                      var o,
                        l = a.value,
                        c = null,
                        u = Object(C.a)(l.path);
                      try {
                        for (u.s(); !(o = u.n()).done; ) {
                          var d = o.value;
                          if (n) {
                            var p = n + ':' + d.node_uuid,
                              h = i[p];
                            h || (h = 0), (i[p] = ++h);
                          }
                          (n = d.exit_uuid), (c = d);
                        }
                      } catch (y) {
                        u.e(y);
                      } finally {
                        u.f();
                      }
                      if ('waiting' === l.status && c) {
                        var m = s[c.node_uuid];
                        m || (m = 0), (s[c.node_uuid] = ++m), (t = l.flow_uuid);
                      }
                    }
                  } catch (y) {
                    r.e(y);
                  } finally {
                    r.f();
                  }
                  var _ = (this.state.session.input && this.props.activity.recentMessages) || {};
                  for (var f in e) {
                    var g = _[f] || [];
                    (g = e[f].concat(g)), (_[f] = g);
                  }
                  var v = { segments: i, nodes: s, recentMessages: _ };
                  this.props.mergeEditorState({ activity: v }),
                    t && t !== this.currentFlow && (this.currentFlow = t);
                }
              }
            },
            {
              key: 'updateEvents',
              value: function(e, t, a, n) {
                var i = this;
                if (e && e.length > 0) {
                  for (var s = [], r = null, o = !1; e.length > 0 && !o; ) {
                    var l = e.shift();
                    if (eu(l)) {
                      o = !0;
                      for (var c = '', u = '', d = t.runs.length - 1; d >= 0; d--) {
                        for (var p = t.runs[d].path, h = p.length - 2; h >= 0; h--)
                          if (p[h].uuid === l.step_uuid) {
                            (c = p[h].exit_uuid), (u = p[h + 1].node_uuid);
                            break;
                          }
                        if (c && u) {
                          var m = ''.concat(c, ':').concat(u),
                            _ = { sent: l.created_on, text: l.msg.text };
                          m in a ? a[m].unshift(_) : (a[m] = [_]);
                        }
                      }
                      tu(l) && l.msg.quick_replies && (r = l.msg.quick_replies);
                    }
                    s.push(l);
                  }
                  var f = { events: la()(this.state.events, { $push: s }) };
                  null !== r && (f.quickReplies = r),
                    this.scrollToBottom(),
                    this.setState(f, function() {
                      0 === e.length
                        ? n()
                        : window.setTimeout(function() {
                            i.updateEvents(e, t, a, n);
                          }, 200);
                    });
                } else n();
              }
            },
            {
              key: 'updateRunContext',
              value: function(e, t) {
                var a = this,
                  n = this.state.active || (e.events && e.events.length > 0);
                this.setState({ quickReplies: [] }, function() {
                  if (!e.events || (0 === e.events.length && t)) {
                    var i = e.session.runs,
                      s = i[i.length - 1],
                      r = s.path[s.path.length - 1];
                    e.events = [
                      {
                        msg: {
                          uuid: Z(),
                          urn: a.state.contact.urns[0],
                          text: t.text,
                          attachments: t.attachments
                        },
                        type: 'msg_created',
                        created_on: new Date().toISOString(),
                        step_uuid: r.uuid
                      }
                    ];
                  }
                  var o = {};
                  a.updateEvents(e.events, e.session, o, function() {
                    var t,
                      i = !1,
                      s = Object(C.a)(e.session.runs);
                    try {
                      for (s.s(); !(t = s.n()).done; ) {
                        if ('waiting' === t.value.status) {
                          i = !0;
                          break;
                        }
                      }
                    } catch (d) {
                      s.e(d);
                    } finally {
                      s.f();
                    }
                    var r = a.state.events;
                    !i &&
                      n &&
                      (r = la()(a.state.events, {
                        $push: [{ type: 'info', text: 'Exited flow', created_on: new Date() }]
                      }));
                    var l = e.session && e.session.wait && void 0 !== e.session.wait.hint,
                      c = null;
                    if (l)
                      switch (e.session.wait.hint.type) {
                        case 'audio':
                          c = su.audio;
                          break;
                        case 'video':
                          c = su.videos;
                          break;
                        case 'image':
                          c = su.images;
                          break;
                        case 'location':
                          c = su.location;
                          break;
                        case 'digits':
                          (c = su.digit), 1 !== e.session.wait.hint.count && (c = su.digits);
                          break;
                        default:
                          console.log('Unknown hint', e.session.wait.hint.type);
                      }
                    var u = l;
                    !c && a.hasQuickReplies() && ((c = su.quickReplies), (u = !0)),
                      a.setState(
                        {
                          active: i,
                          context: e.context,
                          sprinting: !1,
                          session: e.session,
                          events: r,
                          drawerOpen: u,
                          drawerType: c,
                          waitingForHint: l
                        },
                        function() {
                          a.updateActivity(o), a.handleFocusUpdate();
                        }
                      );
                  });
                });
              }
            },
            {
              key: 'startFlow',
              value: function() {
                var e = this,
                  t = new Date().toISOString(),
                  a = {
                    uuid: Z(),
                    urns: ['tel:+12065551212'],
                    fields: {},
                    groups: [],
                    created_on: t
                  };
                this.props.language && (a.language = this.props.language.id),
                  this.setState(
                    { sprinting: !0, drawerOpen: !1, attachmentOptionsVisible: !1, events: [] },
                    function() {
                      var n = {
                        contact: e.state.contact,
                        flow: Kl(e.props.definition, e.props.nodes, !1),
                        trigger: {
                          type: 'manual',
                          environment: {
                            date_format: 'DD-MM-YYYY',
                            time_format: 'hh:mm',
                            timezone: 'America/New_York',
                            languages: []
                          },
                          contact: a,
                          flow: { uuid: e.props.definition.uuid, name: e.props.definition.name },
                          params: {},
                          triggered_on: t
                        }
                      };
                      Me.a
                        .post(
                          it(e.context.config.endpoints.simulateStart),
                          JSON.stringify(n, null, 2)
                        )
                        .then(function(t) {
                          e.updateRunContext(t.data);
                        });
                    }
                  );
              }
            },
            {
              key: 'resume',
              value: function(e, t) {
                var a = this;
                (e || t) &&
                  ('\\debug' !== e
                    ? '\\recalc' !== e
                      ? this.setState(
                          { sprinting: !0, attachmentOptionsVisible: !1, drawerOpen: !1 },
                          function() {
                            var n = new Date().toISOString(),
                              i = {
                                text: e,
                                uuid: Z(),
                                urn: a.state.session.contact.urns[0],
                                attachments: t ? [t] : []
                              },
                              s = {
                                flow: Kl(a.props.definition, a.props.nodes, !1),
                                session: a.state.session,
                                resume: {
                                  type: 'msg',
                                  msg: i,
                                  resumed_on: n,
                                  contact: a.state.session.contact
                                }
                              };
                            Me.a
                              .post(
                                it(a.context.config.endpoints.simulateResume),
                                JSON.stringify(s, null, 2)
                              )
                              .then(function(e) {
                                a.updateRunContext(e.data, i);
                              })
                              .catch(function(e) {
                                e.response.status;
                                var t = la()(a.state.events, {
                                  $push: [
                                    {
                                      type: 'error',
                                      text:
                                        e.response.status > 499
                                          ? 'Server error, try again later'
                                          : e.response.data.error
                                    }
                                  ]
                                });
                                a.setState({ events: t });
                              });
                          }
                        )
                      : console.log('recal..')
                    : console.log(JSON.stringify(this.debug, null, 2)));
              }
            },
            {
              key: 'onReset',
              value: function(e) {
                this.startFlow();
              }
            },
            {
              key: 'scrollToBottom',
              value: function(e) {
                var t = this,
                  a = e || 0;
                this.bottom &&
                  window.setTimeout(function() {
                    t.bottom && t.bottom.scrollIntoView(!1);
                  }, a);
              }
            },
            {
              key: 'componentDidUpdate',
              value: function(e, t) {
                var a = this;
                null !== this.drawerEle &&
                  ((t.drawerHeight === this.drawerEle.clientHeight &&
                    t.drawerOpen === this.state.drawerOpen) ||
                    this.setState({ drawerHeight: this.drawerEle.clientHeight }, function() {
                      a.scrollToBottom(800);
                    }));
              }
            },
            {
              key: 'onKeyUp',
              value: function(e) {
                if ('Enter' === e.key) {
                  var t = e.target,
                    a = t.value;
                  (t.value = ''), this.resume(a);
                }
              }
            },
            {
              key: 'onToggle',
              value: function(e) {
                var t = this,
                  a = !this.state.visible;
                this.props.onToggled(a, we.SIMULATOR),
                  this.props.mergeEditorState({ simulating: a }),
                  this.setState({ visible: a, contextExplorerVisible: !1 }, function() {
                    t.state.visible
                      ? (t.updateActivity(),
                        0 === t.state.events.length && t.startFlow(),
                        t.handleFocusUpdate())
                      : window.setTimeout(function() {
                          t.props.mergeEditorState({ activity: t.props.liveActivity });
                        }, 500);
                  });
              }
            },
            {
              key: 'handleFocusUpdate',
              value: function() {
                this.inputBox && this.inputBox.focus();
              }
            },
            {
              key: 'sendAttachment',
              value: function(e) {
                var t = this;
                this.setState({ drawerOpen: !1, attachmentOptionsVisible: !1 }, function() {
                  window.setTimeout(function() {
                    t.resume(null, e);
                  }, 200);
                });
              }
            },
            {
              key: 'getImageDrawer',
              value: function() {
                var e = this;
                return E.a.createElement(
                  'div',
                  { className: gu.a.drawer_items },
                  E.a.createElement(
                    'div',
                    {
                      className: gu.a.drawer_item,
                      onClick: function() {
                        e.sendAttachment('image/jpeg:' + yu);
                      }
                    },
                    E.a.createElement('img', { src: yu, alt: 'Attachment' })
                  ),
                  E.a.createElement(
                    'div',
                    {
                      className: gu.a.drawer_item,
                      onClick: function() {
                        e.sendAttachment('image/jpeg:' + bu);
                      }
                    },
                    E.a.createElement('img', { src: bu, alt: 'Attachment' })
                  ),
                  E.a.createElement(
                    'div',
                    {
                      className: gu.a.drawer_item,
                      onClick: function() {
                        e.sendAttachment('image/jpeg:' + ku);
                      }
                    },
                    E.a.createElement('img', { src: ku, alt: 'Attachment' })
                  )
                );
              }
            },
            {
              key: 'getLocationDrawer',
              value: function() {
                var e = this;
                return E.a.createElement(
                  'div',
                  {
                    className: gu.a.map_thumb,
                    onClick: function() {
                      e.sendAttachment('geo:2.904194,-79.003418');
                    }
                  },
                  E.a.createElement('img', { src: vu, alt: 'Attachment' })
                );
              }
            },
            {
              key: 'getAudioDrawer',
              value: function() {
                var e = this;
                return E.a.createElement(
                  'div',
                  {
                    className: gu.a.audio_picker,
                    onClick: function() {
                      e.sendAttachment(
                        'audio/mp3:https://s3.amazonaws.com/floweditor-assets.temba.io/simulator/sim_audio_a.mp3'
                      );
                    }
                  },
                  E.a.createElement('div', { className: gu.a.audio_icon + ' fe-mic' }),
                  E.a.createElement('div', { className: gu.a.audio_message }, 'Upload Audio')
                );
              }
            },
            {
              key: 'getVideoDrawer',
              value: function() {
                var e = this;
                return E.a.createElement(
                  'div',
                  { className: gu.a.drawer_items },
                  E.a.createElement(
                    'div',
                    {
                      className: gu.a.drawer_item,
                      onClick: function() {
                        e.sendAttachment('video/mp4:' + Eu);
                      }
                    },
                    E.a.createElement('img', { src: Cu, alt: 'Attachment' })
                  ),
                  E.a.createElement(
                    'div',
                    {
                      className: gu.a.drawer_item,
                      onClick: function() {
                        e.sendAttachment('video/mp4:' + Eu);
                      }
                    },
                    E.a.createElement('img', { src: Cu, alt: 'Attachment' })
                  ),
                  E.a.createElement(
                    'div',
                    {
                      className: gu.a.drawer_item,
                      onClick: function() {
                        e.sendAttachment('video/mp4:' + Eu);
                      }
                    },
                    E.a.createElement('img', { src: Cu, alt: 'Attachment' })
                  )
                );
              }
            },
            {
              key: 'getQuickRepliesDrawer',
              value: function() {
                var e = this;
                return E.a.createElement(
                  'div',
                  { className: gu.a.quick_replies },
                  this.state.quickReplies.map(function(t) {
                    return E.a.createElement(
                      'div',
                      {
                        className: gu.a.quick_reply,
                        onClick: function() {
                          e.resume(t);
                        },
                        key: 'reply_'.concat(t)
                      },
                      t
                    );
                  })
                );
              }
            },
            {
              key: 'handleKeyPress',
              value: function(e, t) {
                t
                  ? '#' === e
                    ? (this.resume(this.state.keypadEntry), this.setState({ keypadEntry: '' }))
                    : this.setState(function(t) {
                        return { keypadEntry: (t.keypadEntry += e) };
                      })
                  : this.resume(e);
              }
            },
            {
              key: 'getKeyRow',
              value: function(e, t) {
                var a = this;
                return E.a.createElement(
                  'div',
                  { className: gu.a.row },
                  e.map(function(e) {
                    return E.a.createElement(
                      'div',
                      {
                        key: 'btn_' + e,
                        onClick: function() {
                          a.handleKeyPress(e, t);
                        },
                        className: gu.a.key
                      },
                      e
                    );
                  })
                );
              }
            },
            {
              key: 'getKeypadDrawer',
              value: function(e) {
                return E.a.createElement(
                  'div',
                  { className: gu.a.keypad },
                  e
                    ? E.a.createElement(
                        'div',
                        { className: gu.a.keypad_entry },
                        this.state.keypadEntry
                      )
                    : null,
                  E.a.createElement(
                    'div',
                    { className: gu.a.keys },
                    this.getKeyRow(['1', '2', '3'], e),
                    this.getKeyRow(['4', '5', '6'], e),
                    this.getKeyRow(['7', '8', '9'], e),
                    this.getKeyRow(['*', '0', '#'], e)
                  )
                );
              }
            },
            {
              key: 'getDrawerContents',
              value: function() {
                switch (this.state.drawerType) {
                  case su.location:
                    return this.getLocationDrawer();
                  case su.audio:
                    return this.getAudioDrawer();
                  case su.images:
                    return this.getImageDrawer();
                  case su.videos:
                    return this.getVideoDrawer();
                  case su.quickReplies:
                    return this.getQuickRepliesDrawer();
                  case su.digits:
                  case su.digit:
                    return this.getKeypadDrawer(this.state.drawerType === su.digits);
                }
                return null;
              }
            },
            {
              key: 'handleDrawerRef',
              value: function(e) {
                return (this.drawerEle = e);
              }
            },
            {
              key: 'getDrawer',
              value: function() {
                var e = {};
                return (
                  this.state.drawerOpen
                    ? ((e.bottom = 50),
                      this.state.waitingForHint &&
                        ((e.bottom = 25), (e.zIndex = 150), (e.paddingBottom = 10)))
                    : (e.bottom = -this.state.drawerHeight),
                  E.a.createElement(
                    'div',
                    {
                      ref: this.handleDrawerRef,
                      style: e,
                      className:
                        gu.a.drawer +
                        ' ' +
                        (this.state.drawerOpen ? gu.a.drawer_visible : '') +
                        ' ' +
                        (this.state.attachmentOptionsVisible ? '' : gu.a.forced)
                    },
                    this.getDrawerContents()
                  )
                );
              }
            },
            {
              key: 'hasQuickReplies',
              value: function() {
                return (this.state.quickReplies || []).length > 0;
              }
            },
            {
              key: 'handleHideAttachments',
              value: function() {
                var e = this;
                this.setState({ attachmentOptionsVisible: !1, drawerOpen: !1 }, function() {
                  e.hasQuickReplies() &&
                    window.setTimeout(function() {
                      e.showAttachmentDrawer(su.quickReplies);
                    }, 300);
                });
              }
            },
            {
              key: 'getAttachmentButton',
              value: function(e, t) {
                var a = this;
                return E.a.createElement('div', {
                  className: e,
                  onClick: function() {
                    a.showAttachmentDrawer(t);
                  }
                });
              }
            },
            {
              key: 'getAttachmentOptions',
              value: function() {
                return E.a.createElement(
                  'div',
                  {
                    className:
                      gu.a.attachment_buttons +
                      ' ' +
                      (this.state.attachmentOptionsVisible ? gu.a.visible : '')
                  },
                  E.a.createElement('div', {
                    className: 'fe-x',
                    onClick: this.handleHideAttachments
                  }),
                  this.getAttachmentButton('fe-picture2', su.images),
                  this.getAttachmentButton('fe-video', su.videos),
                  this.getAttachmentButton('fe-mic', su.audio),
                  this.getAttachmentButton('fe-map-marker', su.location)
                );
              }
            },
            {
              key: 'handleContextExplorerClose',
              value: function() {
                this.setState({ contextExplorerVisible: !1 });
              }
            },
            {
              key: 'getContextExplorer',
              value: function() {
                return E.a.createElement(_u, {
                  visible: this.state.contextExplorerVisible,
                  onClose: this.handleContextExplorerClose,
                  contents: this.state.context
                });
              }
            },
            {
              key: 'handleHideAttachmentDrawer',
              value: function() {
                this.setState({ drawerOpen: !1 });
              }
            },
            {
              key: 'showAttachmentDrawer',
              value: function(e) {
                var t = this;
                if (this.state.drawerOpen) {
                  if (e === this.state.drawerType) return;
                  this.handleHideAttachmentDrawer(),
                    window.setTimeout(function() {
                      t.showAttachmentDrawer(e);
                    }, 300);
                } else
                  this.setState(function(t) {
                    return { drawerOpen: !0, drawerType: e };
                  });
              }
            },
            {
              key: 'render',
              value: function() {
                var e,
                  t = this,
                  a = [],
                  n = Object(C.a)(this.state.events);
                try {
                  for (n.s(); !(e = n.n()).done; ) {
                    var i = e.value;
                    a.push(
                      E.a.createElement(
                        uu,
                        Object.assign({}, i, { key: i.type + '_' + String(i.created_on) })
                      )
                    );
                  }
                } catch (c) {
                  n.e(c);
                } finally {
                  n.f();
                }
                var s = this.props.popped && this.props.popped !== we.SIMULATOR,
                  r = s || !this.state.visible ? gu.a.sim_hidden : '',
                  o = s || this.state.visible ? gu.a.tab_hidden : '',
                  l = { height: 366 - (this.state.drawerOpen ? this.state.drawerHeight - 20 : 0) };
                return (
                  this.state.drawerOpen && this.state.waitingForHint && (l.height += 25),
                  E.a.createElement(
                    'div',
                    { id: 'sim_container', className: gu.a.sim_container },
                    E.a.createElement(
                      'div',
                      null,
                      E.a.createElement(
                        'div',
                        { id: 'simulator', className: gu.a.simulator + ' ' + r, key: 'sim' },
                        this.getContextExplorer(),
                        E.a.createElement(
                          'div',
                          { className: gu.a.screen },
                          E.a.createElement(
                            'div',
                            { className: gu.a.header },
                            E.a.createElement('div', {
                              className: gu.a.close + ' fe-x',
                              onClick: this.onToggle
                            })
                          ),
                          E.a.createElement(
                            'div',
                            { className: gu.a.messages, style: l },
                            a,
                            E.a.createElement('div', {
                              id: 'bottom',
                              style: { float: 'left', clear: 'both', marginTop: 20 },
                              ref: this.bottomRef
                            })
                          ),
                          E.a.createElement(
                            'div',
                            { className: gu.a.controls },
                            E.a.createElement('input', {
                              ref: this.inputBoxRef,
                              type: 'text',
                              onKeyUp: this.onKeyUp,
                              disabled: this.state.sprinting,
                              placeholder: this.state.active
                                ? 'Enter message'
                                : 'Press home to start again'
                            }),
                            E.a.createElement(
                              'div',
                              { className: gu.a.show_attachments_button },
                              E.a.createElement('div', {
                                className: 'fe-paperclip',
                                onClick: function() {
                                  t.setState({ attachmentOptionsVisible: !0, drawerOpen: !1 });
                                }
                              })
                            )
                          ),
                          this.getAttachmentOptions(),
                          this.getDrawer(),
                          E.a.createElement(
                            'div',
                            { className: gu.a.footer },
                            this.state.contextExplorerVisible
                              ? E.a.createElement(
                                  'div',
                                  { className: gu.a.show_context_button },
                                  E.a.createElement(
                                    'div',
                                    {
                                      className: 'context-button',
                                      onClick: function() {
                                        t.setState({ contextExplorerVisible: !1 });
                                      }
                                    },
                                    E.a.createElement('span', { className: 'fe-x' })
                                  )
                                )
                              : E.a.createElement(
                                  'div',
                                  { className: gu.a.show_context_button },
                                  E.a.createElement(
                                    'div',
                                    {
                                      className: 'context-button',
                                      onClick: function() {
                                        t.setState({ contextExplorerVisible: !0 });
                                      }
                                    },
                                    E.a.createElement('span', { className: 'fe-at-sign' })
                                  )
                                ),
                            E.a.createElement('span', {
                              className:
                                gu.a.reset +
                                ' ' +
                                (this.state.active ? gu.a.active : gu.a.inactive),
                              onClick: this.onReset
                            })
                          )
                        )
                      )
                    ),
                    E.a.createElement(
                      'div',
                      { className: gu.a.simulator_tab + ' ' + o, onClick: this.onToggle },
                      E.a.createElement('div', {
                        className: gu.a.simulator_tab_icon + ' fe-smartphone'
                      }),
                      E.a.createElement(
                        'div',
                        { className: gu.a.simulator_tab_text },
                        'Run in',
                        E.a.createElement('br', null),
                        'Simulator'
                      )
                    )
                  )
                );
              }
            }
          ]),
          a
        );
      })(E.a.Component);
      wu.contextTypes = { config: yt };
      var Ou = Object(en.b)(
          function(e) {
            var t = e.flowContext,
              a = t.definition,
              n = t.nodes,
              i = t.assetStore,
              s = e.editorState;
            return {
              liveActivity: s.liveActivity,
              activity: s.activity,
              assetStore: i,
              definition: a,
              nodes: n,
              language: s.language
            };
          },
          function(e) {
            return Object(ge.bindActionCreators)({}, e);
          }
        )(wu),
        Su = a(134),
        Nu = a.n(Su),
        xu = a(37),
        ju = a.n(xu),
        Tu = qt.t('sticky.title', 'New Note'),
        Au = qt.t('sticky.body', '...'),
        Ru = {
          yellow: ju.a.yellow,
          blue: ju.a.blue,
          green: ju.a.green,
          purple: ju.a.purple,
          gray: ju.a.gray
        },
        Uu = (function(e) {
          Object(g.a)(a, e);
          var t = Object(v.a)(a);
          function a(e) {
            var n;
            return (
              Object(m.a)(this, a),
              ((n = t.call(this, e)).dragging = !1),
              (n.ele = void 0),
              (n.debounceTextChanges = void 0),
              (n.showConfirmation = void 0),
              (n.DEFUALT_TITLE = 'New Note'),
              (n.DEFUALT_BODY = '...'),
              Object(b.react)(Object(f.a)(n), { include: [/^on/, /^get/, /^is/, /^handle/] }),
              (n.state = {
                title: n.props.sticky.title,
                body: n.props.sticky.body,
                color: n.props.sticky.color,
                showConfirmation: !1
              }),
              n
            );
          }
          return (
            Object(_.a)(a, [
              {
                key: 'isSelected',
                value: function() {
                  return this.props.selected;
                }
              },
              {
                key: 'onRef',
                value: function(e) {
                  return (this.ele = e);
                }
              },
              {
                key: 'componentWillUnmount',
                value: function() {
                  this.showConfirmation && window.clearTimeout(this.showConfirmation),
                    this.debounceTextChanges && window.clearTimeout(this.debounceTextChanges);
                }
              },
              { key: 'handleDrag', value: function(e) {} },
              {
                key: 'handleDragStop',
                value: function(e) {
                  var t = I(e.finalPos[0], e.finalPos[1]),
                    a = t.left,
                    n = t.top;
                  (this.ele.style.left = ''.concat(a, 'px')),
                    (this.ele.style.top = ''.concat(n, 'px')),
                    (this.props.sticky.position = { left: a, top: n }),
                    this.props.updateSticky(this.props.uuid, this.props.sticky);
                }
              },
              {
                key: 'onUpdateText',
                value: function() {
                  var e = this;
                  this.debounceTextChanges && window.clearTimeout(this.debounceTextChanges),
                    (this.debounceTextChanges = window.setTimeout(function() {
                      var t = Object(y.a)({}, e.props.sticky);
                      (t.title = e.state.title),
                        (t.body = e.state.body),
                        e.props.updateSticky(e.props.uuid, t),
                        (e.debounceTextChanges = null);
                    }, 2e3));
                }
              },
              {
                key: 'handleChangeTitle',
                value: function(e) {
                  this.setState({ title: e.currentTarget.value }), this.onUpdateText();
                }
              },
              {
                key: 'handleChangeBody',
                value: function(e) {
                  this.setState({ body: e.currentTarget.value }), this.onUpdateText();
                }
              },
              {
                key: 'handleClickRemove',
                value: function(e) {
                  var t = this;
                  this.state.showConfirmation
                    ? this.props.updateSticky(this.props.uuid, null)
                    : (this.setState({ showConfirmation: !0 }),
                      (this.showConfirmation = window.setTimeout(function() {
                        t.setState({ showConfirmation: !1 });
                      }, 2e3)));
                }
              },
              {
                key: 'handleChangeColor',
                value: function(e) {
                  (this.props.sticky.color = e),
                    this.props.updateSticky(this.props.uuid, this.props.sticky),
                    this.setState({ color: e });
                }
              },
              {
                key: 'handleSelectForValue',
                value: function(e, t) {
                  e.value === t &&
                    window.setTimeout(function() {
                      e.select();
                    }, 0);
                }
              },
              {
                key: 'handleTitleFocused',
                value: function(e) {
                  this.handleSelectForValue(e.currentTarget, Tu);
                }
              },
              {
                key: 'handleBodyFocused',
                value: function(e) {
                  this.handleSelectForValue(e.currentTarget, Au);
                }
              },
              {
                key: 'getColorChooser',
                value: function() {
                  var e = this;
                  return k.createElement(
                    'div',
                    { className: ju.a.color_chooser_container },
                    k.createElement(
                      'div',
                      { className: ju.a.color_chooser },
                      Object.keys(Ru).map(function(t) {
                        return k.createElement('div', {
                          key: e.props.uuid + t,
                          onClick: function() {
                            e.handleChangeColor(t);
                          },
                          className: ju.a.color_option + ' ' + Ru[t]
                        });
                      })
                    )
                  );
                }
              },
              {
                key: 'render',
                value: function() {
                  var e = [ju.a.title_wrapper];
                  this.state.showConfirmation && e.push(ju.a.removal);
                  var t = [ju.a.sticky_container];
                  this.props.sticky.color || (this.props.sticky.color = 'yellow');
                  var a = [ju.a.sticky];
                  this.isSelected() && a.push(ju.a.selected), t.push(Ru[this.props.sticky.color]);
                  var n = this.getColorChooser();
                  return k.createElement(
                    'div',
                    {
                      key: this.props.uuid,
                      className: t.join(' '),
                      'data-spec': 'sticky-container',
                      ref: this.onRef,
                      id: this.props.uuid
                    },
                    k.createElement(
                      'div',
                      { className: a.join(' ') },
                      k.createElement(
                        'div',
                        { className: e.join(' ') },
                        k.createElement(
                          'div',
                          { className: ju.a.remove_button, onClick: this.handleClickRemove },
                          k.createElement('span', { className: 'fe-x' })
                        ),
                        k.createElement('div', { className: ju.a.confirmation }, 'Remove?'),
                        k.createElement(Nu.a, {
                          className: ju.a.title,
                          value: this.state.title,
                          onChange: this.handleChangeTitle,
                          onFocusCapture: this.handleTitleFocused
                        })
                      ),
                      k.createElement(
                        'div',
                        { className: ju.a.body_wrapper },
                        k.createElement(Nu.a, {
                          className: ju.a.body,
                          value: this.state.body,
                          onChange: this.handleChangeBody,
                          onFocusCapture: this.handleBodyFocused
                        }),
                        n
                      )
                    )
                  );
                }
              }
            ]),
            a
          );
        })(k.Component),
        Du = Object(en.b)(
          function(e) {
            return { definition: e.flowContext.definition };
          },
          function(e) {
            return Object(ge.bindActionCreators)({ updateSticky: Dl }, e);
          },
          null,
          { forwardRef: !1 }
        )(Uu),
        Fu = a(348).jsPlumb.importDefaults,
        Pu = [
          ['Label', { label: '', location: 12, id: 'activity' }],
          ['Label', { label: '', location: 20, id: 'recent_messages' }]
        ],
        Iu = {
          anchor: ['Continuous', { shape: 'Rectangle', faces: ['top', 'left', 'right'] }],
          endpoint: [
            'Rectangle',
            {
              width: 23,
              height: 23,
              cssClass: 'plumb-endpoint',
              hoverClass: 'plumb-endpoint-hover'
            }
          ],
          dropOptions: { tolerance: 'touch', hoverClass: 'plumb-drop-hover', isTarget: !1 },
          dragAllowedWhenFull: !1,
          deleteEndpointsOnEmpty: !0,
          isTarget: !1
        },
        Lu = {
          anchor: 'BottomCenter',
          maxConnections: 1,
          dragAllowedWhenFull: !1,
          deleteEndpointsOnEmpty: !0,
          isSource: !0
        },
        Mu = function(e, t) {
          return [
            'Continuous',
            {
              shape: 'Dot',
              faces:
                e.getBoundingClientRect().bottom + D / 3 < t.getBoundingClientRect().top
                  ? ['top']
                  : ['right', 'left']
            }
          ];
        },
        zu = [
          'Flowchart',
          { stub: 12, midpoint: 0.75, alwaysRespectStubs: !1, gap: [0, 5], cornerRadius: 3 }
        ],
        Bu = (function() {
          function e() {
            Object(m.a)(this, e),
              (this.jsPlumb = void 0),
              (this.pendingConnections = {}),
              (this.pendingConnectionTimeout = void 0),
              (this.animateInterval = null),
              (this.onLoadFunction = null),
              (this.jsPlumb = Fu({
                DragOptions: { cursor: 'pointer', zIndex: 1e3 },
                DropOptions: { tolerance: 'touch', hoverClass: 'plumb-hover' },
                Endpoint: 'Rectangle',
                EndpointStyle: { strokeStyle: 'transparent' },
                PaintStyle: { strokeWidth: 3.5 },
                ConnectionsDetachable: !0,
                Connector: zu,
                ConnectionOverlays: [
                  ['PlainArrow', { location: 0.999, width: 12, length: 12, cssClass: 'jtk-arrow' }]
                ]
              })),
              (this.debug = this.debug.bind(this)),
              (this.setSourceEnabled = this.setSourceEnabled.bind(this)),
              (this.makeSource = this.makeSource.bind(this)),
              (this.makeTarget = this.makeTarget.bind(this)),
              (this.connectExit = this.connectExit.bind(this)),
              (this.setDragSelection = this.setDragSelection.bind(this)),
              (this.clearDragSelection = this.clearDragSelection.bind(this)),
              (this.removeFromDragSelection = this.removeFromDragSelection.bind(this)),
              (this.cancelDurationRepaint = this.cancelDurationRepaint.bind(this)),
              (this.remove = this.remove.bind(this)),
              (this.handlePendingConnections = this.handlePendingConnections.bind(this)),
              (this.checkForPendingConnections = this.checkForPendingConnections.bind(this)),
              (this.connect = this.connect.bind(this)),
              (this.bind = this.bind.bind(this)),
              (this.repaint = this.repaint.bind(this)),
              (this.recalculate = this.recalculate.bind(this)),
              (this.reset = this.reset.bind(this)),
              (this.updateClass = this.updateClass.bind(this)),
              (this.rerouteAnchors = this.rerouteAnchors.bind(this));
          }
          return (
            Object(_.a)(e, [
              {
                key: 'setContainer',
                value: function(e) {
                  this.jsPlumb.setContainer(e);
                }
              },
              {
                key: 'debug',
                value: function() {
                  return this.jsPlumb;
                }
              },
              {
                key: 'setSourceEnabled',
                value: function(e, t) {
                  this.jsPlumb.setSourceEnabled(e, t);
                }
              },
              {
                key: 'makeSource',
                value: function(e) {
                  return this.jsPlumb.makeSource(e, Lu);
                }
              },
              {
                key: 'makeTarget',
                value: function(e) {
                  this.jsPlumb.makeTarget(e, Iu);
                }
              },
              {
                key: 'connectExit',
                value: function(e, t, a) {
                  var n = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : null;
                  this.connect(
                    ''.concat(e.uuid, ':').concat(t.uuid),
                    t.destination_uuid,
                    a,
                    n,
                    e.exits.findIndex(function(e) {
                      return e.uuid === t.uuid;
                    }),
                    e.exits.length
                  );
                }
              },
              {
                key: 'updateClass',
                value: function(e, t, a, n) {
                  var i = ''.concat(e.uuid, ':').concat(t.uuid),
                    s = this.jsPlumb.select({ source: i });
                  n ? s.addClass(a) : s.removeClass(a);
                }
              },
              {
                key: 'removeFromDragSelection',
                value: function(e) {
                  this.jsPlumb.removeFromDragSelection(e);
                }
              },
              {
                key: 'setDragSelection',
                value: function(e) {
                  var t = this;
                  this.cancelDurationRepaint(),
                    this.jsPlumb.clearDragSelection(),
                    Object.keys(e).forEach(function(e) {
                      return t.jsPlumb.addToDragSelection(e);
                    });
                }
              },
              {
                key: 'clearDragSelection',
                value: function() {
                  this.jsPlumb.clearDragSelection();
                }
              },
              {
                key: 'cancelDurationRepaint',
                value: function() {
                  this.animateInterval &&
                    (window.clearInterval(this.animateInterval), (this.animateInterval = null));
                }
              },
              {
                key: 'handlePendingConnections',
                value: function() {
                  var e = this,
                    t = {};
                  Object.keys(this.pendingConnections).length;
                  this.jsPlumb.batch(function() {
                    for (var a in e.pendingConnections)
                      if (e.pendingConnections.hasOwnProperty(a)) {
                        var n = e.pendingConnections[a],
                          i = n.source,
                          s = n.target,
                          r = n.className,
                          o = n.slot,
                          l = n.totalSlots,
                          c = s
                            ? ['Bottom', Mu(document.getElementById(i), document.getElementById(s))]
                            : [];
                        if (null != i) {
                          e.jsPlumb.select({ source: i }).delete({ fireEvent: !1 });
                          var u = l < 5 ? 0.75 : 0.35,
                            d = u + 0.15 * o;
                          o > l / 2 && (d = u - 0.05 + 0.15 * (l - o)),
                            (d = Math.max(Math.min(0.9, d), 0.1));
                          var p = [].concat(zu);
                          if (((p[1].midpoint = d), null != s)) {
                            var h = e.jsPlumb.connect({
                                source: i,
                                target: s,
                                anchors: c,
                                fireEvent: !1,
                                cssClass: r,
                                detachable: !r,
                                overlays: Pu,
                                connector: p
                              }),
                              m = h.getOverlays().activity.getElement(),
                              _ = h.getOverlays().recent_messages.getElement();
                            m.classList.add('jtk-activity'),
                              _.classList.add('jtk-recents'),
                              n.onConnected(m.id, _.id);
                          }
                        }
                        null != s && (t[s] = !0), delete e.pendingConnections[a];
                      }
                  }, !1),
                    this.onLoadFunction && (this.onLoadFunction(), (this.onLoadFunction = null));
                }
              },
              {
                key: 'triggerLoaded',
                value: function(e) {
                  e &&
                    (0 === Object.keys(this.pendingConnections).length && e(),
                    (this.onLoadFunction = e));
                }
              },
              {
                key: 'checkForPendingConnections',
                value: function() {
                  var e = this;
                  this.pendingConnectionTimeout &&
                    window.clearTimeout(this.pendingConnectionTimeout),
                    (this.pendingConnectionTimeout = window.setTimeout(function() {
                      e.handlePendingConnections();
                    }, 0));
                }
              },
              {
                key: 'connect',
                value: function(e, t, a) {
                  var n = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : null,
                    i = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 0,
                    s = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : 0;
                  (this.pendingConnections[
                    ''
                      .concat(e, ':')
                      .concat(t, ':')
                      .concat(n)
                  ] = {
                    source: e,
                    target: t,
                    className: n,
                    slot: i,
                    totalSlots: s,
                    onConnected: a
                  }),
                    this.checkForPendingConnections();
                }
              },
              {
                key: 'bind',
                value: function(e, t) {
                  return this.jsPlumb.bind(e, t);
                }
              },
              {
                key: 'repaint',
                value: function(e) {
                  e
                    ? (this.jsPlumb.recalculateOffsets(e), this.jsPlumb.repaint(e))
                    : (this.jsPlumb.recalculateOffsets(), this.jsPlumb.repaintEverything());
                }
              },
              {
                key: 'remove',
                value: function(e) {
                  this.jsPlumb.isSource(e)
                    ? (this.jsPlumb.unmakeSource(e), this.jsPlumb.remove(e))
                    : this.jsPlumb.isTarget(e) && this.jsPlumb.deleteConnectionsForElement(e);
                }
              },
              {
                key: 'rerouteAnchors',
                value: function(e) {
                  var t = this;
                  e.forEach(function(e) {
                    var a,
                      n = e.id,
                      i = t.jsPlumb
                        .getConnections({ target: n })
                        .concat(t.jsPlumb.getConnections({ source: n })),
                      s = Object(C.a)(i);
                    try {
                      for (s.s(); !(a = s.n()).done; ) {
                        var r = a.value;
                        r.endpoints[1].setAnchor(
                          Mu(r.endpoints[0].element, r.endpoints[1].element)
                        );
                      }
                    } catch (o) {
                      s.e(o);
                    } finally {
                      s.f();
                    }
                  });
                }
              },
              {
                key: 'revalidate',
                value: function(e) {
                  var t = this;
                  this.jsPlumb.revalidate(e),
                    (function(e, t) {
                      var a = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null;
                      e.timeout && window.clearTimeout(e.timeout),
                        (e.timeout = window.setTimeout(a || e, t));
                    })(this.rerouteAnchors, 200, function() {
                      t.rerouteAnchors(e);
                    });
                }
              },
              {
                key: 'recalculate',
                value: function(e) {
                  var t = this;
                  window.setTimeout(function() {
                    t.jsPlumb.revalidate(e);
                  }, 100);
                }
              },
              {
                key: 'reset',
                value: function() {
                  this.jsPlumb.reset();
                }
              },
              {
                key: 'getPlumb',
                value: function() {
                  return this.jsPlumb;
                }
              }
            ]),
            e
          );
        })(),
        Vu = a(16),
        Hu = (function() {
          function e(t, a) {
            Object(m.a)(this, e),
              (this.props = void 0),
              (this.state = void 0),
              (this.props = t),
              (this.state = a || { showUUIDs: !1 });
          }
          return (
            Object(_.a)(e, [
              {
                key: 'showUUIDs',
                value: function() {
                  var e = Vu(this.state, { $merge: { showUUIDs: !0 } });
                  return this.props.mergeEditorState({ debug: e }), e;
                }
              }
            ]),
            e
          );
        })(),
        qu = a(187),
        Ku = a.n(qu),
        Gu = 3,
        Wu = function(e) {
          return e.suspendedElementId === e.targetId && null !== e.source;
        },
        Yu = (function(e) {
          Object(g.a)(a, e);
          var t = Object(v.a)(a);
          function a(e, n) {
            var i;
            return (
              Object(m.a)(this, a),
              ((i = t.call(this, e, n)).Plumber = void 0),
              (i.nodeContainerUUID = void 0),
              (i.ghost = void 0),
              (i.nodeContainerUUID = Z()),
              (i.Plumber = new Bu()),
              n.config.debug && (window.fe = new Hu(e, i.props.debug)),
              Object(b.react)(Object(f.a)(i), {
                include: [/Ref$/, /^on/, /^is/, /^get/, /^handle/]
              }),
              i
            );
          }
          return (
            Object(_.a)(a, [
              {
                key: 'ghostRef',
                value: function(e) {
                  return (this.ghost = e);
                }
              },
              {
                key: 'componentDidMount',
                value: function() {
                  var e = this;
                  this.Plumber.bind('connection', function(t) {
                    return e.props.updateConnection(t.sourceId, t.targetId);
                  }),
                    this.Plumber.bind('beforeDrag', function(t) {
                      e.beforeConnectionDrag(t);
                    }),
                    this.Plumber.bind('connectionDrag', function(t) {
                      e.props.onConnectionDrag(t, e.context.config.flowType);
                    }),
                    this.Plumber.bind('connectionDragStop', function(t) {
                      return e.onConnectorDrop(t);
                    }),
                    this.Plumber.bind('beforeStartDetach', function(t) {
                      return !e.props.translating && e.context.config.mutable;
                    }),
                    this.Plumber.bind('beforeDetach', function(e) {
                      return !0;
                    }),
                    this.Plumber.bind('beforeDrop', function(t) {
                      return e.onBeforeConnectorDrop(t);
                    }),
                    this.Plumber.triggerLoaded(this.context.config.onLoad);
                }
              },
              {
                key: 'componentWillUnmount',
                value: function() {
                  this.Plumber.reset();
                }
              },
              {
                key: 'onBeforeConnectorDrop',
                value: function(e) {
                  this.props.resetNodeEditingState();
                  var t = e.sourceId.split(':')[0];
                  try {
                    Hl(this.props.nodes, t, e.targetId);
                  } catch (a) {
                    return !1;
                  }
                  return !0;
                }
              },
              {
                key: 'onConnectorDrop',
                value: function(e) {
                  var t = this.props.ghostNode;
                  if (G(t) && !Wu(e)) {
                    this.Plumber.recalculate(t.node.uuid);
                    var a = Yi(t);
                    this.Plumber.connect(a.nodeUUID + ':' + a.exitUUID, t.node.uuid, function(
                      e
                    ) {});
                    var n = (this.ghost &&
                        I(this.ghost.ele.offsetLeft, this.ghost.ele.offsetTop)) || {
                        left: 0,
                        top: 0
                      },
                      i = n.left,
                      s = n.top;
                    this.props.ghostNode.ui.position = { left: i, top: s };
                    var r = null;
                    t.node.actions && 1 === t.node.actions.length && (r = t.node.actions[0]),
                      this.props.onOpenNodeEditor({ originalNode: t, originalAction: r });
                  }
                  return (
                    Wu(e) && this.props.mergeEditorState({ ghostNode: null }),
                    document.removeEventListener('mousemove', window.ghostListener),
                    !0
                  );
                }
              },
              {
                key: 'beforeConnectionDrag',
                value: function(e) {
                  return (
                    e.source && e.source.dispatchEvent(new Event('disconnect')),
                    !this.props.translating
                  );
                }
              },
              {
                key: 'handleStickyCreation',
                value: function(e) {
                  var t = this.props.definition._ui.stickies || {},
                    a = e.uuid;
                  return k.createElement(Du, {
                    key: a,
                    uuid: a,
                    sticky: t[a],
                    selected: e.selected
                  });
                }
              },
              {
                key: 'handleNodeCreation',
                value: function(e) {
                  var t = 1 === Object.keys(this.props.nodes).length;
                  return k.createElement(Wc, {
                    onlyNode: t,
                    startingNode: 0 === e.idx,
                    selected: e.selected,
                    key: e.uuid,
                    'data-spec': 'node',
                    nodeUUID: e.uuid,
                    plumberMakeTarget: this.Plumber.makeTarget,
                    plumberRemove: this.Plumber.remove,
                    plumberRecalculate: this.Plumber.recalculate,
                    plumberMakeSource: this.Plumber.makeSource,
                    plumberConnectExit: this.Plumber.connectExit,
                    plumberUpdateClass: this.Plumber.updateClass
                  });
                }
              },
              {
                key: 'getNodes',
                value: function() {
                  var e = this;
                  return Gl(this.props.nodes).map(function(t, a) {
                    return {
                      uuid: t.node.uuid,
                      position: t.ui.position,
                      elementCreator: e.handleNodeCreation,
                      config: t,
                      idx: a
                    };
                  });
                }
              },
              {
                key: 'getStickies',
                value: function() {
                  var e = this,
                    t = this.props.definition._ui.stickies || {};
                  return Object.keys(t).map(function(a, n) {
                    return {
                      uuid: a,
                      elementCreator: e.handleStickyCreation,
                      position: t[a].position,
                      idx: n
                    };
                  });
                }
              },
              {
                key: 'getDragNode',
                value: function() {
                  return G(this.props.ghostNode)
                    ? k.createElement(
                        'div',
                        {
                          'data-spec': 'ghost-node',
                          key: this.props.ghostNode.node.uuid,
                          style: { position: 'absolute', display: 'block', visibility: 'hidden' }
                        },
                        k.createElement(Wc, {
                          onlyNode: !1,
                          selected: !1,
                          startingNode: !1,
                          ref: this.ghostRef,
                          ghost: !0,
                          nodeUUID: this.props.ghostNode.node.uuid,
                          plumberMakeTarget: this.Plumber.makeTarget,
                          plumberRemove: this.Plumber.remove,
                          plumberRecalculate: this.Plumber.recalculate,
                          plumberMakeSource: this.Plumber.makeSource,
                          plumberConnectExit: this.Plumber.connectExit,
                          plumberUpdateClass: this.Plumber.updateClass
                        })
                      )
                    : null;
                }
              },
              {
                key: 'getSimulator',
                value: function() {
                  var e = this;
                  return K(
                    this.context.config.endpoints && this.context.config.endpoints.simulateStart
                  )(
                    k.createElement(Ou, {
                      key: 'simulator',
                      popped: this.props.popped,
                      mergeEditorState: this.props.mergeEditorState,
                      onToggled: function(t, a) {
                        e.props.mergeEditorState({ popped: t ? a : null });
                      }
                    })
                  );
                }
              },
              {
                key: 'getNodeEditor',
                value: function() {
                  return K(null !== this.props.nodeEditorSettings)(
                    k.createElement(Zc, {
                      key: 'node-editor',
                      helpArticles: this.context.config.help,
                      plumberConnectExit: this.Plumber.connectExit
                    })
                  );
                }
              },
              {
                key: 'handleDoubleClick',
                value: function(e) {
                  var t = e.left,
                    a = e.top;
                  this.props.updateSticky(Z(), {
                    position: I(t - 90 + P, a - 40),
                    title: Tu,
                    body: Au
                  });
                }
              },
              {
                key: 'getEmptyFlow',
                value: function() {
                  var e = this;
                  return k.createElement(
                    'div',
                    { key: 'create_node', className: Ku.a.empty_flow },
                    k.createElement(
                      De.a,
                      { i18nKey: 'empty_flow_message' },
                      k.createElement('h1', null, "Let's get started"),
                      k.createElement(
                        'div',
                        null,
                        'We recommend starting your flow by sending a message. This message will be sent to anybody right after they join the flow. This is your chance to send a single message or ask them a question.'
                      )
                    ),
                    k.createElement(le, {
                      name: qt.t('buttons.create_message', 'Create Message'),
                      onClick: function() {
                        var t = Wl(null, null, 1, e.context.config.flowType);
                        e.props.onOpenNodeEditor({
                          originalNode: t,
                          originalAction: t.node.actions[0]
                        });
                      }
                    })
                  );
                }
              },
              {
                key: 'handleDragging',
                value: function(e) {
                  var t = this;
                  e.forEach(function(e) {
                    try {
                      var a = document.getElementById(e),
                        n = a.querySelectorAll('.jtk-connected');
                      t.Plumber.revalidate([a].concat(Object(fe.a)(n)));
                    } catch (i) {}
                  });
                }
              },
              {
                key: 'handleCanvasLoaded',
                value: function() {
                  this.Plumber.setContainer('canvas');
                }
              },
              {
                key: 'render',
                value: function() {
                  var e = this.getNodes(),
                    t = this.getStickies().concat(e);
                  return k.createElement(
                    'div',
                    null,
                    0 === e.length
                      ? this.getEmptyFlow()
                      : k.createElement(k.Fragment, null, this.getSimulator()),
                    this.getNodeEditor(),
                    k.createElement(cc, {
                      mutable: this.context.config.mutable,
                      draggingNew: !!this.props.ghostNode && !this.props.nodeEditorSettings,
                      newDragElement: this.getDragNode(),
                      onDragging: this.handleDragging,
                      uuid: this.nodeContainerUUID,
                      dragActive: this.props.dragActive,
                      mergeEditorState: this.props.mergeEditorState,
                      onRemoveNodes: this.props.onRemoveNodes,
                      draggables: t,
                      onDoubleClick: this.handleDoubleClick,
                      onUpdatePositions: this.props.onUpdateCanvasPositions,
                      onLoaded: this.handleCanvasLoaded
                    })
                  );
                }
              }
            ]),
            a
          );
        })(k.PureComponent);
      Yu.contextTypes = { config: yt };
      var Qu,
        Xu = Object(en.b)(
          function(e) {
            var t = e.flowContext,
              a = t.definition,
              n = t.metadata,
              i = t.nodes,
              s = e.editorState,
              r = s.ghostNode,
              o = s.debug,
              l = s.translating,
              c = s.popped,
              u = s.dragActive;
            return {
              nodeEditorSettings: e.nodeEditor.settings,
              definition: a,
              nodes: i,
              metadata: n,
              ghostNode: r,
              debug: o,
              translating: l,
              popped: c,
              dragActive: u
            };
          },
          function(e) {
            return Object(ge.bindActionCreators)(
              {
                mergeEditorState: ml,
                resetNodeEditingState: xl,
                onConnectionDrag: Ul,
                onOpenNodeEditor: Pl,
                onUpdateCanvasPositions: Rl,
                onRemoveNodes: Al,
                updateConnection: Cl,
                updateSticky: Dl
              },
              e
            );
          }
        )(Yu),
        Ju = a(68),
        Zu = a.n(Ju),
        $u = a(92),
        ed = a.n($u),
        td = (function(e) {
          Object(g.a)(a, e);
          var t = Object(v.a)(a);
          function a(e, n) {
            var i;
            return (
              Object(m.a)(this, a),
              (i = t.call(this, e, n)),
              Object(b.react)(Object(f.a)(i), { include: [/^handle/] }),
              i
            );
          }
          return (
            Object(_.a)(a, [
              {
                key: 'handleLanguageChanged',
                value: function(e) {
                  this.props.handleLanguageChange(e);
                }
              },
              {
                key: 'handleLanguageSort',
                value: function(e, t) {
                  return 'base' === e.id
                    ? -1
                    : 'base' === t.id
                    ? 1
                    : void 0 !== e.order && void 0 !== t.order
                    ? e.order - t.order
                    : e.name.localeCompare(t.name);
                }
              },
              {
                key: 'render',
                value: function() {
                  var e = this;
                  if (!this.props.language) return null;
                  var t = Object.keys(this.props.languages.items)
                    .map(function(t) {
                      return e.props.languages.items[t];
                    })
                    .sort(this.handleLanguageSort);
                  return 1 === t.length
                    ? null
                    : k.createElement(
                        'div',
                        { className: 'language-selector' },
                        t.map(function(t, a) {
                          return k.createElement(
                            'div',
                            { key: 'lang_' + t.id, className: ed.a.language },
                            a > 0
                              ? k.createElement('div', { className: ed.a.separator }, '|')
                              : null,
                            k.createElement(
                              'div',
                              {
                                className:
                                  ed.a.language_link +
                                  ' ' +
                                  (e.props.language.id === t.id ? ed.a.active : ''),
                                onClick: function() {
                                  e.handleLanguageChanged(t);
                                }
                              },
                              t.name
                            )
                          );
                        })
                      );
                }
              }
            ]),
            a
          );
        })(k.Component),
        ad = Object(en.b)(
          function(e) {
            var t = e.flowContext.assetStore,
              a = e.editorState.language;
            return { languages: t.languages, language: a };
          },
          function(e) {
            return Object(ge.bindActionCreators)({ handleLanguageChange: yl }, e);
          }
        )(td),
        nd = a(53),
        id = a.n(nd),
        sd = (function(e) {
          Object(g.a)(a, e);
          var t = Object(v.a)(a);
          function a(e) {
            var n;
            return (
              Object(m.a)(this, a),
              ((n = t.call(this, e)).poppedEle = void 0),
              (n.state = { width: 258 }),
              Object(b.react)(Object(f.a)(n), { include: [/^handle/] }),
              n
            );
          }
          return (
            Object(_.a)(a, [
              {
                key: 'componentDidUpdate',
                value: function() {
                  this.state.width !== this.poppedEle.offsetWidth &&
                    this.setState({ width: this.poppedEle.offsetWidth });
                }
              },
              {
                key: 'handlePoppedRef',
                value: function(e) {
                  return (this.poppedEle = e);
                }
              },
              {
                key: 'handleTabClick',
                value: function() {
                  this.props.onShow();
                }
              },
              {
                key: 'handleClose',
                value: function() {
                  this.props.onHide();
                }
              },
              {
                key: 'render',
                value: function() {
                  return k.createElement(
                    'div',
                    {
                      className:
                        'pop_wrapper ' +
                        id.a.pop_wrapper +
                        ' ' +
                        (this.props.visible ? id.a.visible : ''),
                      style: { right: -this.state.width, top: this.props.top }
                    },
                    k.createElement(
                      'div',
                      { className: id.a.tab_wrapper },
                      k.createElement(
                        'div',
                        {
                          className: id.a.tab,
                          style: { background: this.props.color },
                          onClick: this.handleTabClick
                        },
                        k.createElement(
                          'div',
                          { className: id.a.icon },
                          k.createElement('span', { className: this.props.icon })
                        ),
                        k.createElement('div', { className: id.a.label }, this.props.label)
                      )
                    ),
                    k.createElement(
                      'div',
                      {
                        ref: this.handlePoppedRef,
                        className: id.a.popped,
                        style: {
                          borderColor: this.props.color,
                          right: this.props.visible ? 15 + this.state.width : 0,
                          top: -100
                        }
                      },
                      k.createElement(
                        'div',
                        { className: id.a.header, style: { background: this.props.color } },
                        k.createElement('div', {
                          className: id.a.close + ' fe-x',
                          onClick: this.handleClose
                        }),
                        k.createElement('div', { className: id.a.header_label }, this.props.header)
                      ),
                      k.createElement(
                        'div',
                        { className: id.a.body, style: { background: this.props.color } },
                        this.props.children
                      )
                    )
                  );
                }
              }
            ]),
            a
          );
        })(k.Component),
        rd = a(188),
        od = a.n(rd),
        ld = a(45),
        cd = a.n(ld),
        ud = Ot.a.bind(cd.a),
        dd = (function(e) {
          Object(g.a)(a, e);
          var t = Object(v.a)(a);
          function a(e) {
            var n;
            return (
              Object(m.a)(this, a),
              ((n = t.call(this, e)).onRevisionClicked = function(e) {
                return function(t) {
                  t.stopPropagation(),
                    t.preventDefault(),
                    nt(n.props.assetStore.revisions, e.id).then(function(t) {
                      n.props.loadFlowDefinition(t, n.props.assetStore),
                        n.setState({ revision: e });
                    });
                };
              }),
              (n.onRevertClicked = function(e) {
                return function(e) {
                  e.stopPropagation(),
                    e.preventDefault(),
                    n.props.createNewRevision(),
                    n.setState({ visible: !1, revision: null });
                };
              }),
              (n.state = { revisions: [], revision: null, definition: null, visible: !1 }),
              Object(b.react)(Object(f.a)(n), { include: [/^handle/] }),
              n
            );
          }
          return (
            Object(_.a)(a, [
              {
                key: 'handleUpdateRevisions',
                value: function() {
                  var e = this;
                  if (null !== this.props.assetStore) {
                    var t = this.props.assetStore.revisions;
                    return Xe(t.endpoint + '?version=' + S, t.type, t.id || 'id').then(function(t) {
                      t.length > 0 && (t[0].content.current = !0), e.setState({ revisions: t });
                    });
                  }
                }
              },
              {
                key: 'handleTabClicked',
                value: function() {
                  var e = this;
                  this.props.onToggled(!this.state.visible, we.REVISION_HISTORY),
                    this.setState(
                      function(e) {
                        return { visible: !e.visible };
                      },
                      function() {
                        e.state.visible
                          ? e.handleUpdateRevisions()
                          : e.state.revision &&
                            e.state.revision.id !== e.state.revisions[0].id &&
                            nt(e.props.assetStore.revisions, e.state.revisions[0].id).then(function(
                              t
                            ) {
                              e.props.loadFlowDefinition(t, e.props.assetStore),
                                e.setState({ revision: null });
                            });
                      }
                    );
                }
              },
              {
                key: 'render',
                value: function() {
                  var e,
                    t = this,
                    a = ud(
                      ((e = {}),
                      Object(O.a)(e, cd.a.visible, this.state.visible),
                      Object(O.a)(
                        e,
                        cd.a.hidden,
                        this.props.popped && this.props.popped !== we.REVISION_HISTORY
                      ),
                      e)
                    );
                  return E.a.createElement(
                    'div',
                    { className: a },
                    E.a.createElement('div', { className: cd.a.mask }),
                    E.a.createElement(
                      sd,
                      {
                        header: qt.t('revisions.header', 'Revisions'),
                        color: '#8e5ea7',
                        icon: 'fe-time',
                        label: qt.t('revisions.label', 'Revision History'),
                        top: '360px',
                        visible: this.state.visible,
                        onShow: this.handleTabClicked,
                        onHide: this.handleTabClicked
                      },
                      E.a.createElement(
                        'div',
                        { className: cd.a.explorer_wrapper },
                        E.a.createElement(
                          'div',
                          { className: cd.a.explorer },
                          E.a.createElement(
                            'div',
                            { className: cd.a.revisions },
                            this.state.revisions.map(function(e) {
                              var a = e.content,
                                n = t.state.revision && e.id === t.state.revision.id,
                                i = a.current || n ? cd.a.selected : '';
                              return E.a.createElement(
                                'div',
                                {
                                  className: cd.a.revision + ' ' + i,
                                  key: 'revision_' + e.id,
                                  onClick: t.onRevisionClicked(e)
                                },
                                K(a.current)(
                                  E.a.createElement(
                                    'div',
                                    { className: cd.a.button + ' ' + cd.a.current },
                                    'current'
                                  )
                                ),
                                K(n && !a.current)(
                                  E.a.createElement(
                                    'div',
                                    { onClick: t.onRevertClicked(e), className: cd.a.button },
                                    'revert'
                                  )
                                ),
                                E.a.createElement(
                                  'div',
                                  { className: cd.a.created_on },
                                  od()(new Date(a.created_on), 'mmmm d, yyyy, h:MM TT', t.props.utc)
                                ),
                                E.a.createElement(
                                  'div',
                                  { className: cd.a.email },
                                  a.user.name || a.user.email
                                )
                              );
                            })
                          )
                        )
                      )
                    )
                  );
                }
              }
            ]),
            a
          );
        })(E.a.Component),
        pd = a(55),
        hd = a.n(pd),
        md = Ot.a.bind(hd.a),
        _d = function(e) {
          return (e.action_uuid || e.node_uuid) + (e.language || '');
        },
        fd = function(e, t) {
          var a = t[e.node_uuid],
            n = null;
          if (e.action_uuid && a) {
            var i = e.action_uuid
              ? a.node.actions.findIndex(function(t) {
                  return t.uuid === e.action_uuid;
                })
              : null;
            if (i > -1) {
              var s = a.node.actions[i];
              n = { action: s, config: Vo(s.type), index: i };
            }
          }
          return { renderNode: a, renderAction: n };
        },
        gd = (function(e) {
          Object(g.a)(a, e);
          var t = Object(v.a)(a);
          function a(e) {
            var n;
            return (
              Object(m.a)(this, a),
              ((n = t.call(this, e)).state = {
                visible: !1,
                selectedIssue: null,
                issueDetails: n.buildIssueDetails()
              }),
              Object(b.react)(Object(f.a)(n), { include: [/^handle/, /^render/] }),
              n
            );
          }
          return (
            Object(_.a)(a, [
              {
                key: 'componentDidUpdate',
                value: function(e) {
                  (this.props.issues === e.issues &&
                    e.nodes === this.props.nodes &&
                    this.props.languages === e.languages) ||
                    this.setState({ issueDetails: this.buildIssueDetails() });
                }
              },
              {
                key: 'buildIssueDetails',
                value: function() {
                  var e = {};
                  if (Object.keys(this.props.nodes).length > 0)
                    for (var t = 0, a = Object.values(this.props.issues); t < a.length; t++) {
                      var n,
                        i = a[t],
                        s = Object(C.a)(i);
                      try {
                        for (s.s(); !(n = s.n()).done; ) {
                          var r = n.value,
                            o = _d(r),
                            l = e[o];
                          if (l) l.issues.push(r);
                          else {
                            var c = null;
                            r.language &&
                              this.props.languages &&
                              (c = this.props.languages[r.language]);
                            var u = fd(r, this.props.nodes);
                            !u.renderNode ||
                              (r.action_uuid && !u.renderAction) ||
                              (l = { issues: [r], renderObjects: u, language: c });
                          }
                          l && (e[o] = l);
                        }
                      } catch (d) {
                        s.e(d);
                      } finally {
                        s.f();
                      }
                    }
                  return Object.values(e).sort(function(e, t) {
                    if (e.language && !t.language) return 1;
                    if (!e.language && t.language) return -1;
                    if (e.language && t.language && e.language.name !== t.language.name)
                      return e.language.name.localeCompare(t.language.name);
                    var a =
                      e.renderObjects.renderNode.ui.position.top -
                      t.renderObjects.renderNode.ui.position.top;
                    return 0 !== a
                      ? a
                      : e.renderObjects.renderNode.node.uuid ===
                          t.renderObjects.renderNode.node.uuid &&
                        e.renderObjects.renderAction &&
                        t.renderObjects.renderAction
                      ? e.renderObjects.renderAction.index - t.renderObjects.renderAction.index
                      : 0;
                  });
                }
              },
              {
                key: 'handleTabClicked',
                value: function() {
                  this.props.onToggled(!this.state.visible, we.ISSUES_TAB),
                    this.setState(function(e) {
                      return { visible: !e.visible };
                    });
                }
              },
              {
                key: 'handleIssueClicked',
                value: function(e) {
                  var t = this;
                  this.props.onIssueClicked(e),
                    window.setTimeout(function() {
                      t.props.onIssueOpened(e);
                    }, 750);
                }
              },
              {
                key: 'render',
                value: function() {
                  var e,
                    t = this,
                    a = 0,
                    n = null,
                    i = this.state.issueDetails.map(function(e) {
                      a += e.issues.length;
                      var i = null;
                      e.language &&
                        e.language !== n &&
                        (i = E.a.createElement(
                          'div',
                          { className: hd.a.language },
                          e.language.name
                        )),
                        (n = e.language);
                      var s = null;
                      if (!e.renderObjects.renderNode) return null;
                      s = e.renderObjects.renderAction
                        ? e.renderObjects.renderAction.config
                        : Vo(Ho(e.renderObjects.renderNode));
                      var r = e.issues.map(function(e, t) {
                        return E.a.createElement(
                          'div',
                          { key: _d(e) + t, className: hd.a.message },
                          E.a.createElement('div', { className: hd.a.header }, s.name, ':'),
                          ' ',
                          ot(e)
                        );
                      });
                      return E.a.createElement(
                        'div',
                        { key: _d(e.issues[0]) + '_detail' },
                        i,
                        E.a.createElement(
                          'div',
                          {
                            className: hd.a.details,
                            onClick: function() {
                              return t.handleIssueClicked(e);
                            }
                          },
                          null,
                          E.a.createElement('div', { className: hd.a.issues_code }, r)
                        )
                      );
                    }),
                    s = md(
                      ((e = {}),
                      Object(O.a)(e, hd.a.visible, this.state.visible),
                      Object(O.a)(
                        e,
                        hd.a.hidden,
                        this.props.popped && this.props.popped !== we.ISSUES_TAB
                      ),
                      e)
                    );
                  return E.a.createElement(
                    'div',
                    { className: s },
                    E.a.createElement('div', { className: hd.a.mask }),
                    E.a.createElement(
                      sd,
                      {
                        header: ''.concat(qt.t('issues.label', 'Flow Issues'), ' (').concat(a, ')'),
                        label: qt.t('issues.header', 'Flow Issues'),
                        color: 'tomato',
                        icon: 'fe-warning',
                        top: '416px',
                        visible: this.state.visible,
                        onShow: this.handleTabClicked,
                        onHide: this.handleTabClicked
                      },
                      E.a.createElement('div', { className: hd.a.issues_wrapper }, i)
                    )
                  );
                }
              }
            ]),
            a
          );
        })(E.a.Component),
        vd = a(189),
        yd = a(190),
        bd = a.n(yd),
        kd = Object(ge.combineReducers)({ flowContext: Ue, editorState: sl, nodeEditor: ha }),
        Ed = { flowContext: Ne, editorState: il, nodeEditor: ua },
        Cd = [bd.a],
        wd = a(23),
        Od = a.n(wd);
      !(function(e) {
        (e.COMPLETE = 'complete'), (e.MISSING = 'missing');
      })(Qu || (Qu = {}));
      var Sd,
        Nd = function(e, t, a) {
          return e.translations
            .filter(function(e) {
              switch (t) {
                case Qu.COMPLETE:
                  return !!e.to && e.type === a;
                case Qu.MISSING:
                  return !e.to && e.type === a;
              }
              return !0;
            })
            .map(function(e) {
              return e[t === Qu.MISSING ? 'from' : 'to'];
            })
            .join(', ');
        },
        xd = function(e, t, a, n) {
          var i = [];
          return (
            t.forEach(function(t) {
              for (var s = t.split('.'), r = a, o = []; s.length > 0 && r; ) {
                s.length > 0 && r.uuid && (o = (n || {})[r.uuid]);
                var l = s.shift();
                o && (o = o[l]), (r = r[l]);
              }
              r &&
                (o && (o = o.join(', ')),
                Array.isArray(r) &&
                  (r = r
                    .map(function(e) {
                      return e.name ? e.name : e.arguments ? e.arguments.join(' ') : e;
                    })
                    .join(', ')),
                r && i.push({ type: e, attribute: t, from: r, to: o }));
            }),
            i
          );
        },
        jd = function(e) {
          return 'categories' === e
            ? zt.a.t('translation.attributes.categories', 'Categories')
            : 'cases' === e
            ? zt.a.t('translation.attributes.cases', 'Rules')
            : 'text' === e
            ? zt.a.t('translation.attributes.text', 'Message')
            : 'quick_replies' === e
            ? zt.a.t('translation.attributes.quick_relpies', 'Quick Replies')
            : 'templating.variables' === e
            ? zt.a.t('translation.attributes.templates', 'Template Variables')
            : 'subject' === e
            ? zt.a.t('translation.attributes.subject', 'Subject')
            : 'body' === e
            ? zt.a.t('translation.attributes.body', 'Body')
            : (t = e)
            ? t
                .split('_')
                .join(' ')
                .toLowerCase()
            : t;
          var t;
        },
        Td = function(e) {
          return e.node_uuid + e.action_uuid;
        },
        Ad = Ot.a.bind(Od.a);
      !(function(e) {
        (e.PROPERTY = 'property'), (e.CATEGORY = 'category'), (e.CASE = 'case');
      })(Sd || (Sd = {}));
      var Rd = (function(e) {
        Object(g.a)(a, e);
        var t = Object(v.a)(a);
        function a(e, n) {
          var i;
          return (
            Object(m.a)(this, a),
            ((i = t.call(this, e)).state = {
              visible: !1,
              selectedTranslation: null,
              translationBundles: [],
              optionsVisible: !1,
              pctComplete: 0,
              translationFilters: e.translationFilters || { categories: !0, rules: !0 }
            }),
            Object(b.react)(Object(f.a)(i), { include: [/^handle/, /^render/, /^toggle/] }),
            i
          );
        }
        return (
          Object(_.a)(a, [
            {
              key: 'componentWillUnmount',
              value: function() {
                this.state.visible && this.handleTabClicked();
              }
            },
            {
              key: 'componentDidUpdate',
              value: function(e, t) {
                (e.translationFilters === this.props.translationFilters &&
                  e.localization === this.props.localization &&
                  e.language === this.props.language &&
                  t.visible &&
                  t.translationFilters === this.state.translationFilters) ||
                  this.handleUpdateTranslations();
              }
            },
            {
              key: 'handleUpdateTranslations',
              value: function() {
                var e = this,
                  t = [];
                Object.keys(this.props.nodes).forEach(function(a) {
                  var n = e.props.nodes[a];
                  if (
                    n.node.router &&
                    (e.state.translationFilters.categories || e.state.translationFilters.rules)
                  ) {
                    var i = Vo(Ho(n)),
                      s = [];
                    if (e.state.translationFilters.categories) {
                      var r = ['name'];
                      n.node.router.categories.forEach(function(t) {
                        s.push.apply(s, Object(fe.a)(xd(Sd.CATEGORY, r, t, e.props.localization)));
                      });
                    }
                    if (e.state.translationFilters.rules) {
                      var o = ['arguments'],
                        l = rs(n.node);
                      l &&
                        l.cases.forEach(function(t) {
                          s.push.apply(s, Object(fe.a)(xd(Sd.CASE, o, t, e.props.localization)));
                        });
                    }
                    s.length > 0 &&
                      t.push({
                        typeConfig: i,
                        node_uuid: a,
                        translations: s,
                        translated: s.filter(function(e) {
                          return !!e.to;
                        }).length
                      });
                  } else
                    n.node.actions.forEach(function(n) {
                      var i = Vo(n.type),
                        s = xd(Sd.PROPERTY, i.localizeableKeys || [], n, e.props.localization);
                      s.length > 0 &&
                        t.push({
                          typeConfig: i,
                          node_uuid: a,
                          action_uuid: n.uuid,
                          translations: s,
                          translated: s.filter(function(e) {
                            return !!e.to;
                          }).length
                        });
                    });
                });
                var a = { total: 0, complete: 0 };
                t.reduce(function(e, t) {
                  return (e.total += t.translations.length), (e.complete += t.translated), e;
                }, a);
                var n = a.total > 0 ? Math.round((a.complete / a.total) * 100) : 0,
                  i = t
                    .filter(function(e) {
                      return e.translated < e.translations.length;
                    })
                    .sort(function(e, t) {
                      return (
                        t.translations.length -
                        t.translated -
                        (e.translations.length - e.translated)
                      );
                    });
                (n === this.state.pctComplete &&
                  i.length === this.state.translationBundles.length) ||
                  this.setState({ pctComplete: n, translationBundles: i });
              }
            },
            {
              key: 'handleTabClicked',
              value: function() {
                this.props.onToggled(!this.state.visible, we.TRANSLATOR_TAB),
                  this.setState(function(e) {
                    return { visible: !e.visible };
                  });
              }
            },
            {
              key: 'toggleOptions',
              value: function() {
                this.setState({ optionsVisible: !this.state.optionsVisible });
              }
            },
            {
              key: 'toggleCategories',
              value: function(e) {
                var t = this;
                this.setState(
                  {
                    translationFilters: {
                      categories: e,
                      rules: this.state.translationFilters.rules
                    }
                  },
                  function() {
                    t.props.onTranslationFilterChanged(t.state.translationFilters);
                  }
                );
              }
            },
            {
              key: 'toggleRules',
              value: function(e) {
                var t = this;
                this.setState(
                  {
                    translationFilters: {
                      rules: e,
                      categories: this.state.translationFilters.categories
                    }
                  },
                  function() {
                    t.props.onTranslationFilterChanged(t.state.translationFilters);
                  }
                );
              }
            },
            {
              key: 'renderMissing',
              value: function(e, t, a) {
                return t
                  ? E.a.createElement(
                      'div',
                      { key: this.props.language.id + e, className: Od.a.item },
                      E.a.createElement('div', { className: Od.a.text + ' ' + Od.a.from_text }, t),
                      E.a.createElement('div', { className: Od.a.text + ' ' + Od.a.attribute }, a)
                    )
                  : null;
              }
            },
            {
              key: 'handleTranslationClicked',
              value: function(e) {
                var t = this;
                this.props.onTranslationClicked(e),
                  window.setTimeout(function() {
                    t.props.onTranslationOpened(e);
                  }, 750);
              }
            },
            {
              key: 'handleChangeLanguageClick',
              value: function(e) {
                this.context.config.onChangeLanguage(
                  this.props.language.id,
                  this.props.language.name
                ),
                  e.preventDefault(),
                  e.stopPropagation();
              }
            },
            {
              key: 'render',
              value: function() {
                var e,
                  t,
                  a,
                  n,
                  i = this,
                  s = this.state.optionsVisible && this.context.config.onChangeLanguage,
                  r = Ad(
                    ((e = {}),
                    Object(O.a)(e, Od.a.visible, this.state.visible),
                    Object(O.a)(
                      e,
                      Od.a.hidden,
                      this.props.popped && this.props.popped !== we.TRANSLATOR_TAB
                    ),
                    e)
                  ),
                  o = Ad(
                    ((t = {}),
                    Object(O.a)(t, Od.a.options, !0),
                    Object(O.a)(t, Od.a.options_visible, this.state.optionsVisible),
                    Object(O.a)(t, Od.a.change_visible, s),
                    t)
                  ),
                  l = Ad(
                    ((a = {}),
                    Object(O.a)(a, Od.a.filled, !0),
                    Object(O.a)(a, Od.a.hundredpct, 100 === this.state.pctComplete),
                    a)
                  ),
                  c = Ad(
                    ((n = {}),
                    Object(O.a)(n, Od.a.translations_wrapper, !0),
                    Object(O.a)(n, Od.a.complete, 0 === this.state.translationBundles.length),
                    n)
                  );
                return E.a.createElement(
                  'div',
                  { className: r },
                  E.a.createElement(
                    sd,
                    {
                      header: ''
                        .concat(this.props.language.name, ' ')
                        .concat(qt.t('translation.label', 'Translations')),
                      label: qt.t('translation.header', 'Flow Translation'),
                      color: '#777',
                      icon: 'fe-language',
                      top: '243px',
                      visible: this.state.visible,
                      onShow: this.handleTabClicked,
                      onHide: this.handleTabClicked
                    },
                    E.a.createElement(
                      'div',
                      { key: 'translation_wrapper', className: c },
                      this.state.translationBundles.map(function(e) {
                        return E.a.createElement(
                          'div',
                          {
                            key: i.props.language.id + Td(e),
                            className: Od.a.translate_block,
                            onClick: function() {
                              i.handleTranslationClicked(e);
                            }
                          },
                          E.a.createElement(
                            'div',
                            { className: Od.a.needs_translation },
                            E.a.createElement(
                              'div',
                              { className: Od.a.type_name },
                              e.typeConfig.name
                            ),
                            i.renderMissing(
                              Td(e) + 'categories',
                              Nd(e, Qu.MISSING, Sd.CATEGORY),
                              jd('categories')
                            ),
                            i.renderMissing(
                              Td(e) + 'rules',
                              Nd(e, Qu.MISSING, Sd.CASE),
                              jd('cases')
                            ),
                            e.translations
                              .filter(function(e) {
                                return !e.to && e.type === Sd.PROPERTY;
                              })
                              .map(function(t) {
                                return i.renderMissing(Td(e) + t.from, t.from, jd(t.attribute));
                              })
                          )
                        );
                      })
                    ),
                    E.a.createElement(
                      'div',
                      { className: o, onClick: this.toggleOptions },
                      E.a.createElement(
                        'div',
                        { className: Od.a.header },
                        E.a.createElement(
                          'div',
                          { className: Od.a.progress_bar },
                          E.a.createElement('div', {
                            style: { width: ''.concat(this.state.pctComplete, '%') },
                            className: l
                          })
                        ),
                        E.a.createElement(
                          'div',
                          { className: Od.a.toggle },
                          E.a.createElement('span', { className: 'fe-arrow-up' })
                        )
                      ),
                      E.a.createElement(
                        'div',
                        { className: Od.a.filters },
                        E.a.createElement(
                          'div',
                          { className: Od.a.checkboxes },
                          E.a.createElement(
                            'div',
                            null,
                            E.a.createElement(Sn, {
                              name: qt.t('forms.categories', 'categories'),
                              checked: this.state.translationFilters.categories,
                              description: 'Categories',
                              checkboxClassName: Od.a.checkbox,
                              onChange: this.toggleCategories
                            })
                          ),
                          E.a.createElement(
                            'div',
                            null,
                            E.a.createElement(Sn, {
                              name: qt.t('forms.rules', 'rules'),
                              checked: this.state.translationFilters.rules,
                              description: 'Rule Arguments',
                              checkboxClassName: Od.a.checkbox,
                              onChange: this.toggleRules
                            })
                          )
                        ),
                        E.a.createElement(
                          'div',
                          { className: Od.a.pct_complete },
                          this.state.pctComplete,
                          '%'
                        )
                      ),
                      E.a.createElement(
                        'div',
                        { className: Od.a.changeLanguage },
                        s &&
                          E.a.createElement(
                            'button',
                            { onClick: this.handleChangeLanguageClick },
                            qt.t('forms.use_as_default_language', 'Use as default language')
                          )
                      )
                    )
                  )
                );
              }
            }
          ]),
          a
        );
      })(E.a.Component);
      Rd.contextTypes = { config: yt };
      var Ud = a(349).default,
        Dd = (function() {
          var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : Ed,
            t = Object(ge.createStore)(
              kd,
              e,
              Object(vd.composeWithDevTools)(ge.applyMiddleware.apply(void 0, Cd))
            );
          return t;
        })(),
        Fd = { config: yt },
        Pd = (function(e) {
          Object(g.a)(a, e);
          var t = Object(v.a)(a);
          function a(e) {
            var n;
            return (
              Object(m.a)(this, a),
              (n = t.call(this, e)),
              Object(b.react)(Object(f.a)(n), { include: [/^handle/] }),
              n
            );
          }
          return (
            Object(_.a)(a, [
              {
                key: 'componentDidMount',
                value: function() {
                  var e = this.context.config,
                    t = e.endpoints,
                    a = e.flow,
                    n = e.forceSaveOnLoad;
                  this.props.fetchFlow(t, a, n);
                }
              },
              {
                key: 'handleDownloadClicked',
                value: function() {
                  !(function(e, t) {
                    var a =
                        'data:text/json;charset=utf-8,' +
                        encodeURIComponent(JSON.stringify(e, null, 2)),
                      n = document.createElement('a');
                    n.setAttribute('href', a),
                      n.setAttribute('download', t + '.json'),
                      document.body.appendChild(n),
                      n.click(),
                      n.remove();
                  })(Kl(this.props.definition, this.props.nodes), 'definition');
                }
              },
              {
                key: 'handleVisibilityChanged',
                value: function(e) {
                  this.props.mergeEditorState({ visible: e, activityInterval: 5e3 });
                }
              },
              {
                key: 'getAlertModal',
                value: function() {
                  var e = this;
                  return this.props.modalMessage
                    ? k.createElement(
                        Xc,
                        { width: '600px', show: !0 },
                        k.createElement(
                          me,
                          {
                            className: Zu.a.alert_modal,
                            title: this.props.modalMessage.title,
                            headerClass: 'alert',
                            buttons: {
                              primary: {
                                name: 'Ok',
                                onClick: function() {
                                  e.props.mergeEditorState({ modalMessage: null });
                                }
                              }
                            }
                          },
                          k.createElement(
                            'div',
                            { className: Zu.a.alert_body },
                            this.props.modalMessage.body
                          )
                        )
                      )
                    : null;
                }
              },
              {
                key: 'getSavingIndicator',
                value: function() {
                  return this.props.saving
                    ? k.createElement(
                        'div',
                        { id: 'saving_animation', className: Zu.a.saving },
                        k.createElement(
                          _e,
                          null,
                          k.createElement(Tc, { units: 5, color: '#3498db', size: 7 })
                        )
                      )
                    : null;
                }
              },
              {
                key: 'getFooter',
                value: function() {
                  return !this.props.fetchingFlow && this.context.config.showDownload
                    ? k.createElement(
                        'div',
                        { className: Zu.a.footer },
                        k.createElement(
                          'div',
                          { className: Zu.a.download_button },
                          k.createElement(le, {
                            name: qt.t('buttons.download', 'Download'),
                            onClick: this.handleDownloadClicked,
                            type: N.primary
                          })
                        )
                      )
                    : null;
                }
              },
              {
                key: 'handleLanguageSetting',
                value: function(e) {
                  e.language
                    ? this.props.handleLanguageChange(e.language)
                    : this.props.handleLanguageChange(this.props.baseLanguage);
                }
              },
              {
                key: 'handleOpenIssue',
                value: function(e) {
                  this.handleLanguageSetting(e),
                    this.props.onOpenNodeEditor({
                      originalNode: e.renderObjects.renderNode,
                      originalAction: e.renderObjects.renderAction
                        ? e.renderObjects.renderAction.action
                        : null
                    });
                }
              },
              {
                key: 'handleScrollToNode',
                value: function(e, t) {
                  var a = this;
                  this.props.scrollToNode === e &&
                    this.props.scrollToAction === t &&
                    this.props.mergeEditorState({ scrollToNode: null, scrollToAction: null }),
                    ne(function() {
                      a.props.mergeEditorState({ scrollToNode: e, scrollToAction: t });
                    });
                }
              },
              {
                key: 'handleScrollToTranslation',
                value: function(e) {
                  this.handleScrollToNode(e.node_uuid, e.action_uuid);
                }
              },
              {
                key: 'handleOpenTranslation',
                value: function(e) {
                  var t = this.props.nodes[e.node_uuid],
                    a = e.action_uuid
                      ? t.node.actions.find(function(t) {
                          return t.uuid === e.action_uuid;
                        })
                      : null;
                  this.props.onOpenNodeEditor({ originalNode: t, originalAction: a });
                }
              },
              {
                key: 'handleScrollToIssue',
                value: function(e) {
                  this.handleLanguageSetting(e);
                  var t = e.issues[0];
                  this.handleScrollToNode(t.node_uuid, t.action_uuid);
                }
              },
              {
                key: 'handleTabPopped',
                value: function(e, t) {
                  e
                    ? this.props.mergeEditorState({ popped: t })
                    : this.props.mergeEditorState({ popped: null });
                }
              },
              { key: 'componentDidUpdate', value: function(e) {} },
              {
                key: 'render',
                value: function() {
                  return k.createElement(
                    Ud,
                    { onChange: this.handleVisibilityChanged },
                    k.createElement(
                      'div',
                      {
                        id: 'editor-container',
                        className: this.props.translating ? Zu.a.translating : void 0,
                        'data-spec': 'editor-container'
                      },
                      this.getFooter(),
                      this.getAlertModal(),
                      k.createElement(
                        'div',
                        { className: Zu.a.editor, 'data-spec': 'editor' },
                        K(
                          Object.keys(this.props.nodes || {}).length > 0 &&
                            this.props.languages &&
                            Object.keys(this.props.languages.items).length > 0
                        )(k.createElement(ad, null)),
                        this.getSavingIndicator(),
                        K(this.props.definition && this.props.language && !this.props.fetchingFlow)(
                          k.createElement(Xu, null)
                        ),
                        K(
                          this.props.definition &&
                            this.props.translating &&
                            !this.props.fetchingFlow
                        )(
                          k.createElement(Rd, {
                            language: this.props.language,
                            languages: this.props.languages ? this.props.languages.items : {},
                            localization:
                              this.props.definition && this.props.language
                                ? this.props.definition.localization[this.props.language.id]
                                : {},
                            onTranslationClicked: this.handleScrollToTranslation,
                            onTranslationOpened: this.handleOpenTranslation,
                            onTranslationFilterChanged: this.props.updateTranslationFilters,
                            translationFilters: this.props.definition
                              ? this.props.definition._ui.translation_filters
                              : null,
                            nodes: this.props.nodes,
                            onToggled: this.handleTabPopped,
                            popped: this.props.popped
                          })
                        ),
                        k.createElement(dd, {
                          loadFlowDefinition: this.props.loadFlowDefinition,
                          createNewRevision: this.props.createNewRevision,
                          assetStore: this.props.assetStore,
                          onToggled: this.handleTabPopped,
                          popped: this.props.popped
                        }),
                        K(Object.keys(this.props.issues).length > 0)(
                          k.createElement(gd, {
                            issues: this.props.issues,
                            onIssueClicked: this.handleScrollToIssue,
                            onIssueOpened: this.handleOpenIssue,
                            languages: this.props.languages ? this.props.languages.items : {},
                            nodes: this.props.nodes,
                            onToggled: this.handleTabPopped,
                            popped: this.props.popped
                          })
                        ),
                        k.createElement('div', { id: 'portal-root' }),
                        k.createElement('div', { id: 'canvas-portal' })
                      )
                    )
                  );
                }
              }
            ]),
            a
          );
        })(k.Component);
      Pd.contextTypes = Fd;
      var Id = Object(en.b)(
          function(e) {
            var t = e.flowContext,
              a = t.definition,
              n = t.issues,
              i = t.nodes,
              s = t.assetStore,
              r = t.baseLanguage,
              o = e.editorState,
              l = o.translating,
              c = o.language,
              u = o.fetchingFlow,
              d = o.simulating,
              p = o.modalMessage,
              h = o.saving,
              m = o.scrollToAction,
              _ = o.scrollToNode;
            return {
              popped: o.popped,
              baseLanguage: r,
              modalMessage: p,
              saving: h,
              simulating: d,
              assetStore: s,
              translating: l,
              language: c,
              fetchingFlow: u,
              definition: a,
              issues: n,
              nodes: i,
              languages: s ? s.languages : null,
              scrollToAction: m,
              scrollToNode: _
            };
          },
          function(e) {
            return Object(ge.bindActionCreators)(
              {
                fetchFlow: gl,
                loadFlowDefinition: fl,
                createNewRevision: _l,
                mergeEditorState: ml,
                onOpenNodeEditor: Pl,
                handleLanguageChange: yl,
                updateTranslationFilters: Il
              },
              e
            );
          }
        )(Pd),
        Ld = function(e) {
          var t = e.config;
          return k.createElement(
            ko,
            { config: Object(y.a)({}, t) },
            k.createElement(en.a, { store: Dd }, k.createElement(Id, null))
          );
        };
      Boolean(
        'localhost' === window.location.hostname ||
          '[::1]' === window.location.hostname ||
          window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)
      );
      'undefined' === typeof customElements ||
        customElements.get('temba-textinput') ||
        a
          .e(3)
          .then(a.t.bind(null, 375, 7))
          .then(function() {
            console.log('Loading temba components');
          }),
        (window.showFlowEditor = function(e, t) {
          Fc.a.render(E.a.createElement(Ld, { config: t }), e);
        }),
        'serviceWorker' in navigator &&
          navigator.serviceWorker.ready.then(function(e) {
            e.unregister();
          });
    },
    36: function(e, t, a) {
      e.exports = {
        grid_size: '20',
        node_spacing: '13',
        node_padding: '3',
        'background-size': '13',
        context_explorer: 'ContextExplorer_context_explorer__wmqkX',
        visible: 'ContextExplorer_visible__2gRjv',
        panel: 'ContextExplorer_panel__gz824',
        close_button: 'ContextExplorer_close_button__26zA3',
        row: 'ContextExplorer_row__2rF84',
        arrow_right: 'ContextExplorer_arrow_right__22xI1',
        has_children: 'ContextExplorer_has_children__2eFg-',
        open: 'ContextExplorer_open__2duis',
        key: 'ContextExplorer_key__AE_c_',
        clipboard: 'ContextExplorer_clipboard__ZgQfN',
        key_summary: 'ContextExplorer_key_summary__2xvsu',
        colon: 'ContextExplorer_colon__3TZUN',
        str_value: 'ContextExplorer_str_value__2W3Fs',
        footer: 'ContextExplorer_footer__xM3R1',
        hide_checkbox: 'ContextExplorer_hide_checkbox__w80HV',
        help: 'ContextExplorer_help__23pVD',
        empty_toggle: 'ContextExplorer_empty_toggle__29mpj',
        message: 'ContextExplorer_message__2x4s4',
        expression: 'ContextExplorer_expression__3MKM4'
      };
    },
    37: function(e, t, a) {
      e.exports = {
        grid_size: '20',
        node_spacing: '13',
        node_padding: '3',
        'background-size': '13',
        yellow: 'Sticky_yellow__39XW4',
        color_option: 'Sticky_color_option__32vU5',
        sticky: 'Sticky_sticky__3QUKK',
        blue: 'Sticky_blue__3s2JL',
        purple: 'Sticky_purple__278EO',
        gray: 'Sticky_gray__39re9',
        green: 'Sticky_green__3BQ0M',
        color_chooser_container: 'Sticky_color_chooser_container__2lT4F',
        color_chooser: 'Sticky_color_chooser__3Jbqj',
        sticky_container: 'Sticky_sticky_container__CAgg9',
        selected: 'Sticky_selected__1Ra33',
        removal: 'Sticky_removal__2Ktvw',
        title_wrapper: 'Sticky_title_wrapper__2QWs9',
        remove_button: 'Sticky_remove_button__2jDO8',
        title: 'Sticky_title__1kkPN',
        confirmation: 'Sticky_confirmation__wEJ6P',
        body_wrapper: 'Sticky_body_wrapper__3vHL0',
        body: 'Sticky_body__18mNO'
      };
    },
    38: function(e, t, a) {
      e.exports = {
        grid_size: '20',
        node_spacing: '13',
        node_padding: '3',
        'background-size': '13',
        node_container: 'Node_node_container__2eaRs',
        uuid: 'Node_uuid__1gU_w',
        ghost: 'Node_ghost__1rJWj',
        nondragged: 'Node_nondragged__3odZa',
        selected: 'Node_selected__1ck3F',
        node: 'Node_node__2ympr',
        immutable: 'Node_immutable__2NDYM',
        save_as: 'Node_save_as__27Fv-',
        save_result: 'Node_save_result__cnC6y',
        result_name: 'Node_result_name__1F10Q',
        cropped: 'Node_cropped__3mV37',
        exit_table: 'Node_exit_table__3NybR',
        exits: 'Node_exits__3zABv',
        add: 'Node_add__3PamH',
        drag_group: 'Node_drag_group__1h4JV',
        flow_start: 'Node_flow_start__2ZLmX',
        flow_start_message: 'Node_flow_start_message__21Gdu',
        active: 'Node_active__31xXM',
        pulse: 'Node_pulse__14AYP'
      };
    },
    40: function(e, t, a) {
      e.exports = {
        grid_size: '20',
        node_spacing: '13',
        node_padding: '3',
        'background-size': '13',
        random: 'shared_random__URuHQ',
        issues: 'shared_issues__2JPEb',
        header: 'shared_header__whMnp',
        icon: 'shared_icon__1igRB',
        title: 'shared_title__1WSZR',
        summary: 'shared_summary__1XTGq',
        issue_help: 'shared_issue_help__1XuTL',
        wait_for_audio: 'shared_wait_for_audio__1LjH-',
        wait_for_image: 'shared_wait_for_image__3VU9W',
        wait_for_video: 'shared_wait_for_video__1nv-a',
        wait_for_location: 'shared_wait_for_location__2al5E',
        wait_for_menu: 'shared_wait_for_menu__hot7M',
        wait_for_digits: 'shared_wait_for_digits__35WPZ',
        wait_for_response: 'shared_wait_for_response__ZKUbx',
        add_contact_groups: 'shared_add_contact_groups__2dqfS',
        remove_contact_groups: 'shared_remove_contact_groups__1dJrQ',
        send_email: 'shared_send_email__dY51y',
        send_broadcast: 'shared_send_broadcast__3LXs5',
        msg: 'shared_msg__28OwU',
        say_msg: 'shared_say_msg__2U3R0',
        send_msg: 'shared_send_msg__2tEfv',
        open_ticket: 'shared_open_ticket__2NPzK',
        transfer_airtime: 'shared_transfer_airtime__1H5tV',
        enter_flow: 'shared_enter_flow__XHnXb',
        start_session: 'shared_start_session__1f3aq',
        set_run_result: 'shared_set_run_result__1QltP',
        add_input_labels: 'shared_add_input_labels__2pTX0',
        add_contact_urn: 'shared_add_contact_urn__3nXG-',
        set_contact_name: 'shared_set_contact_name__KV1Re',
        set_contact_field: 'shared_set_contact_field__3VSZH',
        set_contact_language: 'shared_set_contact_language__4ZBkW',
        set_contact_channel: 'shared_set_contact_channel__3NhjI',
        play_audio: 'shared_play_audio__2OF7K',
        missing: 'shared_missing__2oICX',
        missing_asset: 'shared_missing_asset__b9Nts',
        call_classifier: 'shared_call_classifier__3zcuw',
        split_by_random: 'shared_split_by_random__Zh1SY',
        split_by_expression: 'shared_split_by_expression__3k23C',
        split_by_groups: 'shared_split_by_groups__5EnH4',
        split_by_contact_field: 'shared_split_by_contact_field__1XjX5',
        split_by_intent: 'shared_split_by_intent__1H9sN',
        split_by_run_result: 'shared_split_by_run_result__X4-Wp',
        split_by_scheme: 'shared_split_by_scheme__3L9lW',
        call_resthook: 'shared_call_resthook__16wqp',
        call_webhook: 'shared_call_webhook__1h1Cb',
        breaks: 'shared_breaks__2F4AL',
        url: 'shared_url__1vtQK',
        node_asset: 'shared_node_asset__2MOdQ',
        node_group: 'shared_node_group__ju7iK',
        node_label: 'shared_node_label__1lQNA',
        advanced_title: 'shared_advanced_title__2auaT',
        alert: 'shared_alert__1JnkA'
      };
    },
    41: function(e, t, a) {
      e.exports = {
        grid_size: '20',
        node_spacing: '13',
        node_padding: '3',
        'background-size': '13',
        action: 'Action_action__NVQRK',
        has_router: 'Action_has_router__1Ad-S',
        body: 'Action_body__RtQCZ',
        add_contact_urn: 'Action_add_contact_urn__3Z706',
        add_input_labels: 'Action_add_input_labels__3IeO3',
        send_msg: 'Action_send_msg__1QYPk',
        set_contact_field: 'Action_set_contact_field__1HDvu',
        set_contact_name: 'Action_set_contact_name__1woBb',
        call_webhook: 'Action_call_webhook__2kR_s',
        call_resthook: 'Action_call_resthook__2zGlX',
        set_contact_language: 'Action_set_contact_language__G9Ko5',
        set_contact_channel: 'Action_set_contact_channel__1YEwX',
        add_contact_groups: 'Action_add_contact_groups__3H0fU',
        remove_contact_groups: 'Action_remove_contact_groups__3h7vs',
        play_audio: 'Action_play_audio__ShGHx',
        say_msg: 'Action_say_msg__3CqFc',
        set_run_result: 'Action_set_run_result__1CLz_',
        send_email: 'Action_send_email__2MDnO',
        send_broadcast: 'Action_send_broadcast__1SCyf',
        transfer_airtime: 'Action_transfer_airtime__2LvoA',
        open_ticket: 'Action_open_ticket__3afC2',
        missing: 'Action_missing__1Ghl9',
        enter_flow: 'Action_enter_flow__2ogxI',
        call_classifier: 'Action_call_classifier__tKBlJ',
        start_session: 'Action_start_session__1yM-7',
        not_localizable: 'Action_not_localizable__2rKMk',
        overlay: 'Action_overlay__ZEDK0',
        immutable: 'Action_immutable__qAZdN',
        translate_from: 'Action_translate_from__3BID_',
        translate_to: 'Action_translate_to__TPeJw',
        translating: 'Action_translating__2n0n7',
        missing_localization: 'Action_missing_localization__1zslf',
        localized: 'Action_localized__3Mwip'
      };
    },
    42: function(e, t, a) {
      e.exports = {
        grid_size: '20',
        node_spacing: '13',
        node_padding: '3',
        'background-size': '13',
        group: 'CaseElement_group__1fyWB',
        divider: 'CaseElement_divider__mkeU9',
        kase: 'CaseElement_kase__2vP_O',
        has_intent: 'CaseElement_has_intent__z8znp',
        choice: 'CaseElement_choice__2RZct',
        has_top_intent: 'CaseElement_has_top_intent__3fsYv',
        multi_operand: 'CaseElement_multi_operand__eTLuc',
        form_group: 'CaseElement_form_group__1PJTx',
        single_operand: 'CaseElement_single_operand__o0kaN',
        categorize_as: 'CaseElement_categorize_as__XFySp',
        category: 'CaseElement_category__2yfW1',
        remove_icon: 'CaseElement_remove_icon__1PFzv',
        dnd_icon: 'CaseElement_dnd_icon__wjvHF',
        relative_date: 'CaseElement_relative_date__DGZXt',
        empty: 'CaseElement_empty__35kBB'
      };
    },
    44: function(e, t, a) {
      e.exports = {
        grid_size: '20',
        node_spacing: '13',
        node_padding: '3',
        'background-size': '13',
        link: 'WebhookRouterForm_link__1jXIk',
        info: 'WebhookRouterForm_info__qgGFO',
        method: 'WebhookRouterForm_method__1IR0U',
        url: 'WebhookRouterForm_url__T29iJ',
        code: 'WebhookRouterForm_code__3x1A-',
        instructions: 'WebhookRouterForm_instructions__3LG_X',
        headers_title: 'WebhookRouterForm_headers_title__1GMIG',
        remove_ico: 'WebhookRouterForm_remove_ico__l-jUh',
        example: 'WebhookRouterForm_example__1ev4D',
        header: 'WebhookRouterForm_header__2waYT',
        header_name: 'WebhookRouterForm_header_name__3eQVG',
        header_value: 'WebhookRouterForm_header_value__1Fxrk',
        body_form: 'WebhookRouterForm_body_form__3BHas',
        req_body: 'WebhookRouterForm_req_body__1rKz_'
      };
    },
    45: function(e, t, a) {
      e.exports = {
        grid_size: '20',
        node_spacing: '13',
        node_padding: '3',
        'background-size': '13',
        hidden: 'RevisionExplorer_hidden__N5tXK',
        mask: 'RevisionExplorer_mask__14GgE',
        visible: 'RevisionExplorer_visible__365U6',
        explorer_wrapper: 'RevisionExplorer_explorer_wrapper__3FIUU',
        explorer: 'RevisionExplorer_explorer__1yYSY',
        revisions: 'RevisionExplorer_revisions__1nYCu',
        revision: 'RevisionExplorer_revision__3f_kl',
        selected: 'RevisionExplorer_selected__2zSg4',
        button: 'RevisionExplorer_button__2srjQ',
        current: 'RevisionExplorer_current__Zlqcr',
        created_on: 'RevisionExplorer_created_on__qKoNX',
        email: 'RevisionExplorer_email__Z9xlH'
      };
    },
    46: function(e, t, a) {
      e.exports = {
        grid_size: '20',
        node_spacing: '13',
        node_padding: '3',
        'background-size': '13',
        ele: 'FormElement_ele__1FpYO',
        border: 'FormElement_border__3bx0s',
        error_list: 'FormElement_error_list__1SrT3',
        error: 'FormElement_error__1Peb9',
        arrow_up: 'FormElement_arrow_up__2HvAv',
        send_msg_error: 'FormElement_send_msg_error__3LIUw',
        label: 'FormElement_label__2dN0p',
        invalid: 'FormElement_invalid__1fOa-',
        help_text: 'FormElement_help_text__a6EcV'
      };
    },
    49: function(e, t, a) {
      e.exports = {
        grid_size: '20',
        node_spacing: '13',
        node_padding: '3',
        'background-size': '13',
        checkbox: 'SendMsgForm_checkbox__-JOyy',
        quick_reply_summary: 'SendMsgForm_quick_reply_summary__DkA4i',
        type_choice: 'SendMsgForm_type_choice__1dciq',
        url_attachment: 'SendMsgForm_url_attachment__1Su5F',
        upload: 'SendMsgForm_upload__22kwL',
        remove_upload: 'SendMsgForm_remove_upload__2qqap',
        url: 'SendMsgForm_url__2eR-o',
        remove: 'SendMsgForm_remove__20sFL',
        existing_quick_replies: 'SendMsgForm_existing_quick_replies__W866I',
        existing_quick_reply: 'SendMsgForm_existing_quick_reply__2C65m',
        add_quick_replies: 'SendMsgForm_add_quick_replies__3vLIC',
        template_text: 'SendMsgForm_template_text__1zkKJ',
        variable: 'SendMsgForm_variable__3mVDI'
      };
    },
    51: function(e, t, a) {
      e.exports = {
        grid_size: '20',
        node_spacing: '13',
        node_padding: '3',
        'background-size': '13',
        delimited: 'ResultRouterForm_delimited__D-_e5',
        non_delimited: 'ResultRouterForm_non_delimited__yDNVq',
        lead_in: 'ResultRouterForm_lead_in__2myeK',
        lead_in_sub: 'ResultRouterForm_lead_in_sub__3oqJC',
        result_select: 'ResultRouterForm_result_select__1cu2c',
        result_select_delimited: 'ResultRouterForm_result_select_delimited__f-y6Z',
        should_delimit: 'ResultRouterForm_should_delimit__1Z8-4',
        field_number: 'ResultRouterForm_field_number__2WFxV',
        delimiter: 'ResultRouterForm_delimiter__2i5Hr'
      };
    },
    52: function(e, t, a) {
      e.exports = {
        grid_size: '20',
        node_spacing: '13',
        node_padding: '3',
        'background-size': '13',
        titlebar: 'TitleBar_titlebar__1_zDw',
        titletext: 'TitleBar_titletext__3s2we',
        normal: 'TitleBar_normal__z0QaD',
        remove_confirm: 'TitleBar_remove_confirm__3ywj-',
        remove_button: 'TitleBar_remove_button__2lO9D',
        up_button: 'TitleBar_up_button__2Imiq'
      };
    },
    53: function(e, t, a) {
      e.exports = {
        grid_size: '20',
        node_spacing: '13',
        node_padding: '3',
        'background-size': '13',
        pop_wrapper: 'PopTab_pop_wrapper__2kOzQ',
        visible: 'PopTab_visible__2udNm',
        popped: 'PopTab_popped__2Imlz',
        tab_wrapper: 'PopTab_tab_wrapper__3n1QM',
        tab: 'PopTab_tab__2Rm5M',
        label: 'PopTab_label__nf1JX',
        icon: 'PopTab_icon__irClb',
        header: 'PopTab_header__1NqmE',
        header_label: 'PopTab_header_label__2YD7z',
        close: 'PopTab_close__3O5BS'
      };
    },
    55: function(e, t, a) {
      e.exports = {
        grid_size: '20',
        node_spacing: '13',
        node_padding: '3',
        'background-size': '13',
        hidden: 'IssuesTab_hidden__1l3_C',
        message: 'IssuesTab_message__AofWc',
        header: 'IssuesTab_header__273ne',
        issues_wrapper: 'IssuesTab_issues_wrapper__3mP8X',
        language: 'IssuesTab_language__3MoIp',
        mask: 'IssuesTab_mask__1b_sl',
        visible: 'IssuesTab_visible__2FRUR'
      };
    },
    64: function(e, t, a) {
      e.exports = {
        grid_size: '20',
        node_spacing: '13',
        node_padding: '3',
        'background-size': '13',
        count: 'CharCount_count__ABAEX',
        tooltip: 'CharCount_tooltip__1p2RV',
        fine_print: 'CharCount_fine_print__RYzHy',
        divider: 'CharCount_divider__3pF0R',
        tooltip_text: 'CharCount_tooltip_text__3ruDu',
        unicode: 'CharCount_unicode__1nLUL'
      };
    },
    65: function(e, t, a) {
      e.exports = {
        player: 'MediaPlayer_player__gYGWS',
        playing: 'MediaPlayer_playing__2Jrw_',
        button: 'MediaPlayer_button__rRXz1',
        circles: 'MediaPlayer_circles__1pr_0',
        circle_background: 'MediaPlayer_circle_background__OMPcS',
        circle_foreground: 'MediaPlayer_circle_foreground__1L6K9'
      };
    },
    66: function(e, t, a) {
      e.exports = {
        grid_size: '20',
        node_spacing: '13',
        node_padding: '3',
        'background-size': '13',
        translating_categories: 'RouterLocalizationForm_translating_categories__34-3g',
        translating_category: 'RouterLocalizationForm_translating_category__1GtBO',
        translating_from: 'RouterLocalizationForm_translating_from__1jvjb',
        translating_to: 'RouterLocalizationForm_translating_to__1m7uk',
        translating_operator_title: 'RouterLocalizationForm_translating_operator_title__3vA3V',
        translating_operator_instructions:
          'RouterLocalizationForm_translating_operator_instructions___Yv3N',
        translating_operator_container:
          'RouterLocalizationForm_translating_operator_container__39jsM',
        translating_operator: 'RouterLocalizationForm_translating_operator__AgpTS'
      };
    },
    67: function(e, t, a) {
      e.exports = {
        grid_size: '20',
        node_spacing: '13',
        node_padding: '3',
        'background-size': '13',
        drag_helper: 'DragHelper_drag_helper__a_fFa',
        visible: 'DragHelper_visible__1Z4lg',
        arrow: 'DragHelper_arrow__YH1ED',
        tail: 'DragHelper_tail__12x7O',
        help_text: 'DragHelper_help_text__2luNE',
        head: 'DragHelper_head__3ViUG',
        bold: 'DragHelper_bold__2v--u'
      };
    },
    68: function(e, t, a) {
      e.exports = {
        grid_size: '20',
        node_spacing: '13',
        node_padding: '3',
        'background-size': '13',
        editor: 'components_editor__36a9s',
        translating: 'components_translating__1uBgy',
        footer: 'components_footer__1OFgP',
        download_button: 'components_download_button__392jz',
        alert_body: 'components_alert_body__2Bxt0',
        alert_modal: 'components_alert_modal__3xFu-',
        saving: 'components_saving__1mebj'
      };
    },
    71: function(e, t, a) {
      e.exports = {
        grid_size: '20',
        node_spacing: '13',
        node_padding: '3',
        'background-size': '13',
        quick_replies: 'SendMsg_quick_replies__2bre8',
        attachment: 'SendMsg_attachment__1JoQl',
        summary: 'SendMsg_summary__2c05X',
        whatsapp: 'SendMsg_whatsapp__2O95I',
        facebook: 'SendMsg_facebook__30JZ8',
        line: 'SendMsg_line__LMI4I'
      };
    },
    75: function(e, t, a) {
      e.exports = {
        grid_size: '20',
        node_spacing: '13',
        node_padding: '3',
        'background-size': '13',
        message: 'AssetSelector_message__1viBV'
      };
    },
    76: function(e, t, a) {
      e.exports = {
        label: 'CheckboxElement_label__3vFGD',
        title: 'CheckboxElement_title__3QShp',
        description: 'CheckboxElement_description__3BguK',
        description_solo: 'CheckboxElement_description_solo__2o0rh'
      };
    },
    77: function(e, t, a) {
      e.exports = {
        form_element: 'CurrencyElement_form_element__F0wio',
        transfer: 'CurrencyElement_transfer__1IAVm',
        currency: 'CurrencyElement_currency__278L2',
        amount: 'CurrencyElement_amount__fJKsJ',
        remove: 'CurrencyElement_remove__3D5_y'
      };
    },
    78: function(e, t, a) {
      e.exports = {
        params: 'SubflowRouterForm_params__2LM8K',
        param: 'SubflowRouterForm_param__Vq8O7',
        param_name: 'SubflowRouterForm_param_name__1GlRT',
        param_input: 'SubflowRouterForm_param_input__2fL5q'
      };
    },
    83: function(e, t, a) {
      e.exports = {
        grid_size: '20',
        node_spacing: '13',
        node_padding: '3',
        'background-size': '13',
        btn: 'Button_btn__1hdG6',
        disabled: 'Button_disabled__xk6Qi',
        primary: 'Button_primary__3PDu-',
        active: 'Button_active__3BxT0',
        secondary: 'Button_secondary__1LfJY',
        tertiary: 'Button_tertiary__3UJsa'
      };
    },
    85: function(e, t, a) {
      e.exports = {
        grid_size: '20',
        node_spacing: '13',
        node_padding: '3',
        'background-size': '13',
        pill: 'Pill_pill__3FyMl',
        clickable: 'Pill_clickable__24gn3',
        icon: 'Pill_icon__QZrb0',
        large: 'Pill_large__3mcHa'
      };
    },
    86: function(e, t, a) {
      e.exports = {
        grid_size: '20',
        node_spacing: '13',
        node_padding: '3',
        'background-size': '13',
        recipients: 'SendBroadcast_recipients__1ZSQV',
        node: 'SendBroadcast_node__26RLX',
        to: 'SendBroadcast_to__25_7K',
        name: 'SendBroadcast_name__RNJWu',
        icon: 'SendBroadcast_icon__2YfpF',
        more: 'SendBroadcast_more__11MJm',
        message: 'SendBroadcast_message__6ZIco',
        line: 'SendBroadcast_line__3Dm3R'
      };
    },
    87: function(e, t, a) {
      e.exports = {
        grid_size: '20',
        node_spacing: '13',
        node_padding: '3',
        'background-size': '13',
        case_list_container: 'CaseList_case_list_container__3PSnP',
        scrolling: 'CaseList_scrolling__2HZTN',
        case_list: 'CaseList_case_list__8CbuZ',
        kase: 'CaseList_kase__1FwXZ'
      };
    },
    88: function(e, t, a) {
      e.exports = {
        grid_size: '20',
        node_spacing: '13',
        node_padding: '3',
        'background-size': '13',
        lead_in: 'MenuRouterForm_lead_in__253j6',
        digit: 'MenuRouterForm_digit__ruJhi',
        category: 'MenuRouterForm_category__2Khjv',
        menu: 'MenuRouterForm_menu__OrNSa',
        menu_option: 'MenuRouterForm_menu_option__2e-jl'
      };
    },
    89: function(e, t, a) {
      e.exports = {
        grid_size: '20',
        node_spacing: '13',
        node_padding: '3',
        'background-size': '13',
        lead_in: 'RandomRouterForm_lead_in__2iUt2',
        bucket_select: 'RandomRouterForm_bucket_select__5jt8Q',
        bucket_list: 'RandomRouterForm_bucket_list__14I85',
        bucket_name: 'RandomRouterForm_bucket_name__t3I5z'
      };
    },
    90: function(e, t, a) {
      e.exports = {
        timeout_control_container: 'TimeoutControl_timeout_control_container__ChGjA',
        left_section: 'TimeoutControl_left_section__23W9H',
        label: 'TimeoutControl_label__3L-JA',
        checkbox: 'TimeoutControl_checkbox__NYV4k',
        drop_down: 'TimeoutControl_drop_down__2Yy9r'
      };
    },
    91: function(e, t, a) {
      e.exports = {
        grid_size: '20',
        node_spacing: '13',
        node_padding: '3',
        'background-size': '13',
        canvas_container: 'Canvas_canvas_container__oR3SR',
        canvas_background: 'Canvas_canvas_background__3UutW',
        canvas: 'Canvas_canvas__XH7zY',
        drag_selection: 'Canvas_drag_selection__3wxA2'
      };
    },
    92: function(e, t, a) {
      e.exports = {
        grid_size: '20',
        node_spacing: '13',
        node_padding: '3',
        'background-size': '13',
        language: 'LanguageSelector_language__3Q3TZ',
        language_link: 'LanguageSelector_language_link__32yIO',
        active: 'LanguageSelector_active__3RqNy',
        separator: 'LanguageSelector_separator__2oanc'
      };
    }
  },
  [[193, 1, 2]]
]);
//# sourceMappingURL=main.8b609150.chunk.js.map
